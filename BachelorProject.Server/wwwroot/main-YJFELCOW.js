var nP=Object.create;var mu=Object.defineProperty,rP=Object.defineProperties,iP=Object.getOwnPropertyDescriptor,oP=Object.getOwnPropertyDescriptors,sP=Object.getOwnPropertyNames,bA=Object.getOwnPropertySymbols,aP=Object.getPrototypeOf,DA=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable;var xA=(e,t,n)=>t in e?mu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t)=>{for(var n in t||={})DA.call(t,n)&&xA(e,n,t[n]);if(bA)for(var n of bA(t))lP.call(t,n)&&xA(e,n,t[n]);return e},un=(e,t)=>rP(e,oP(t));var $=(e,t)=>()=>(e&&(t=e(e=0)),t);var MA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nn=(e,t)=>{for(var n in t)mu(e,n,{get:t[n],enumerable:!0})},EA=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sP(t))!DA.call(e,i)&&i!==n&&mu(e,i,{get:()=>t[i],enumerable:!(r=iP(t,i))||r.enumerable});return e};var Si=(e,t,n)=>(n=e!=null?nP(aP(e)):{},EA(t||!e||!e.__esModule?mu(n,"default",{value:e,enumerable:!0}):n,e)),uP=e=>EA(mu({},"__esModule",{value:!0}),e);var Td=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var dc,HI,fc,Wh,YI,iS,Wi,uo,oS,$I,sS,aS,XI,qI,JI,lS,uS,Hh,QI,cS,Qt=$(()=>{"use strict";dc="1.13.7",HI=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},fc=Array.prototype,Wh=Object.prototype,YI=typeof Symbol<"u"?Symbol.prototype:null,iS=fc.push,Wi=fc.slice,uo=Wh.toString,oS=Wh.hasOwnProperty,$I=typeof ArrayBuffer<"u",sS=typeof DataView<"u",aS=Array.isArray,XI=Object.keys,qI=Object.create,JI=$I&&ArrayBuffer.isView,lS=isNaN,uS=isFinite,Hh=!{toString:null}.propertyIsEnumerable("toString"),QI=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],cS=Math.pow(2,53)-1});function Rt(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}var wr=$(()=>{"use strict"});function Yn(e){var t=typeof e;return t==="function"||t==="object"&&!!e}var Vo=$(()=>{"use strict"});function Yh(e){return e===null}var dS=$(()=>{"use strict"});function dl(e){return e===void 0}var KI=$(()=>{"use strict"});function fl(e){return e===!0||e===!1||uo.call(e)==="[object Boolean]"}var e0=$(()=>{"use strict";Qt()});function $h(e){return!!(e&&e.nodeType===1)}var fS=$(()=>{"use strict"});function wt(e){var t="[object "+e+"]";return function(n){return uo.call(n)===t}}var Ln=$(()=>{"use strict";Qt()});var Fs,Xh=$(()=>{"use strict";Ln();Fs=wt("String")});var hc,t0=$(()=>{"use strict";Ln();hc=wt("Number")});var n0,hS=$(()=>{"use strict";Ln();n0=wt("Date")});var r0,pS=$(()=>{"use strict";Ln();r0=wt("RegExp")});var i0,gS=$(()=>{"use strict";Ln();i0=wt("Error")});var pc,o0=$(()=>{"use strict";Ln();pc=wt("Symbol")});var gc,s0=$(()=>{"use strict";Ln();gc=wt("ArrayBuffer")});var mS,Hj,Bt,jr=$(()=>{"use strict";Ln();Qt();mS=wt("Function"),Hj=HI.document&&HI.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Hj!="function"&&(mS=function(e){return typeof e=="function"||!1});Bt=mS});var a0,vS=$(()=>{"use strict";Ln();a0=wt("Object")});var qh,hl,pl=$(()=>{"use strict";Qt();vS();qh=sS&&(!/\[native code\]/.test(String(DataView))||a0(new DataView(new ArrayBuffer(8)))),hl=typeof Map<"u"&&a0(new Map)});function $j(e){return e!=null&&Bt(e.getInt8)&&gc(e.buffer)}var Yj,zo,Jh=$(()=>{"use strict";Ln();jr();s0();pl();Yj=wt("DataView");zo=qh?$j:Yj});var rr,Go=$(()=>{"use strict";Qt();Ln();rr=aS||wt("Array")});function Fn(e,t){return e!=null&&oS.call(e,t)}var co=$(()=>{"use strict";Qt()});var l0,js,Qh=$(()=>{"use strict";Ln();co();l0=wt("Arguments");(function(){l0(arguments)||(l0=function(e){return Fn(e,"callee")})})();js=l0});function Kh(e){return!pc(e)&&uS(e)&&!isNaN(parseFloat(e))}var yS=$(()=>{"use strict";Qt();o0()});function gl(e){return hc(e)&&lS(e)}var u0=$(()=>{"use strict";Qt();t0()});function ml(e){return function(){return e}}var c0=$(()=>{"use strict"});function mc(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=cS}}var d0=$(()=>{"use strict";Qt()});function vc(e){return function(t){return t?.[e]}}var f0=$(()=>{"use strict"});var Bs,ep=$(()=>{"use strict";f0();Bs=vc("byteLength")});var IS,CS=$(()=>{"use strict";d0();ep();IS=mc(Bs)});function qj(e){return JI?JI(e)&&!zo(e):IS(e)&&Xj.test(uo.call(e))}var Xj,yc,h0=$(()=>{"use strict";Qt();Jh();c0();CS();Xj=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;yc=$I?qj:ml(!1)});var Ht,Br=$(()=>{"use strict";f0();Ht=vc("length")});function Jj(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function Ic(e,t){t=Jj(t);var n=QI.length,r=e.constructor,i=Bt(r)&&r.prototype||Wh,o="constructor";for(Fn(e,o)&&!t.contains(o)&&t.push(o);n--;)o=QI[n],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}var p0=$(()=>{"use strict";Qt();jr();co()});function st(e){if(!Yn(e))return[];if(XI)return XI(e);var t=[];for(var n in e)Fn(e,n)&&t.push(n);return Hh&&Ic(e,t),t}var Sn=$(()=>{"use strict";Vo();Qt();co();p0()});function tp(e){if(e==null)return!0;var t=Ht(e);return typeof t=="number"&&(rr(e)||Fs(e)||js(e))?t===0:Ht(st(e))===0}var wS=$(()=>{"use strict";Br();Go();Xh();Qh();Sn()});function vl(e,t){var n=st(t),r=n.length;if(e==null)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}var g0=$(()=>{"use strict";Sn()});function He(e){if(e instanceof He)return e;if(!(this instanceof He))return new He(e);this._wrapped=e}var Ar=$(()=>{"use strict";Qt();He.VERSION=dc;He.prototype.value=function(){return this._wrapped};He.prototype.valueOf=He.prototype.toJSON=He.prototype.value;He.prototype.toString=function(){return String(this._wrapped)}});function np(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Bs(e))}var AS=$(()=>{"use strict";ep()});function m0(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:xS(e,t,n,r)}function xS(e,t,n,r){e instanceof He&&(e=e._wrapped),t instanceof He&&(t=t._wrapped);var i=uo.call(e);if(i!==uo.call(t))return!1;if(qh&&i=="[object Object]"&&zo(e)){if(!zo(t))return!1;i=bS}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return YI.valueOf.call(e)===YI.valueOf.call(t);case"[object ArrayBuffer]":case bS:return xS(np(e),np(t),n,r)}var o=i==="[object Array]";if(!o&&yc(e)){var s=Bs(e);if(s!==Bs(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(Bt(a)&&a instanceof a&&Bt(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!m0(e[c],t[c],n,r))return!1}else{var f=st(e),d;if(c=f.length,st(t).length!==c)return!1;for(;c--;)if(d=f[c],!(Fn(t,d)&&m0(e[d],t[d],n,r)))return!1}return n.pop(),r.pop(),!0}function rp(e,t){return m0(e,t)}var bS,DS=$(()=>{"use strict";Ar();Qt();ep();h0();jr();pl();Jh();Sn();co();AS();bS="[object DataView]"});function Qr(e){if(!Yn(e))return[];var t=[];for(var n in e)t.push(n);return Hh&&Ic(e,t),t}var yl=$(()=>{"use strict";Vo();Qt();p0()});function Il(e){var t=Ht(e);return function(n){if(n==null)return!1;var r=Qr(n);if(Ht(r))return!1;for(var i=0;i<t;i++)if(!Bt(n[e[i]]))return!1;return e!==I0||!Bt(n[v0])}}var v0,MS,y0,ES,SS,I0,NS,ip=$(()=>{"use strict";Br();jr();yl();v0="forEach",MS="has",y0=["clear","delete"],ES=["get",MS,"set"],SS=y0.concat(v0,ES),I0=y0.concat(ES),NS=["add"].concat(y0,v0,MS)});var C0,TS=$(()=>{"use strict";Ln();pl();ip();C0=hl?Il(SS):wt("Map")});var w0,_S=$(()=>{"use strict";Ln();pl();ip();w0=hl?Il(I0):wt("WeakMap")});var A0,PS=$(()=>{"use strict";Ln();pl();ip();A0=hl?Il(NS):wt("Set")});var b0,OS=$(()=>{"use strict";Ln();b0=wt("WeakSet")});function br(e){for(var t=st(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}var Vs=$(()=>{"use strict";Sn()});function op(e){for(var t=st(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}var RS=$(()=>{"use strict";Sn()});function Cl(e){for(var t={},n=st(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}var x0=$(()=>{"use strict";Sn()});function zs(e){var t=[];for(var n in e)Bt(e[n])&&t.push(n);return t.sort()}var D0=$(()=>{"use strict";jr()});function Gs(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];(!t||n[c]===void 0)&&(n[c]=o[c])}return n}}var sp=$(()=>{"use strict"});var Cc,M0=$(()=>{"use strict";sp();yl();Cc=Gs(Qr)});var Uo,ap=$(()=>{"use strict";sp();Sn();Uo=Gs(st)});var wc,E0=$(()=>{"use strict";sp();yl();wc=Gs(Qr,!0)});function Qj(){return function(){}}function Ac(e){if(!Yn(e))return{};if(qI)return qI(e);var t=Qj();t.prototype=e;var n=new t;return t.prototype=null,n}var S0=$(()=>{"use strict";Vo();Qt()});function lp(e,t){var n=Ac(e);return t&&Uo(n,t),n}var kS=$(()=>{"use strict";S0();ap()});function up(e){return Yn(e)?rr(e)?e.slice():Cc({},e):e}var LS=$(()=>{"use strict";Vo();Go();M0()});function cp(e,t){return t(e),e}var FS=$(()=>{"use strict"});function bc(e){return rr(e)?e:[e]}var N0=$(()=>{"use strict";Ar();Go();He.toPath=bc});function vi(e){return He.toPath(e)}var wl=$(()=>{"use strict";Ar();N0()});function Us(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}var dp=$(()=>{"use strict"});function Al(e,t,n){var r=Us(e,vi(t));return dl(r)?n:r}var T0=$(()=>{"use strict";wl();dp();KI()});function fp(e,t){t=vi(t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(!Fn(e,i))return!1;e=e[i]}return!!n}var jS=$(()=>{"use strict";co();wl()});function Zo(e){return e}var hp=$(()=>{"use strict"});function yi(e){return e=Uo({},e),function(t){return vl(t,e)}}var xc=$(()=>{"use strict";ap();g0()});function Wo(e){return e=vi(e),function(t){return Us(t,e)}}var pp=$(()=>{"use strict";dp();wl()});function Ii(e,t,n){if(t===void 0)return e;switch(n??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,o){return e.call(t,r,i,o)};case 4:return function(r,i,o,s){return e.call(t,r,i,o,s)}}return function(){return e.apply(t,arguments)}}var bl=$(()=>{"use strict"});function Dc(e,t,n){return e==null?Zo:Bt(e)?Ii(e,t,n):Yn(e)&&!rr(e)?yi(e):Wo(e)}var _0=$(()=>{"use strict";hp();jr();Vo();Go();xc();pp();bl()});function Zs(e,t){return Dc(e,t,1/0)}var P0=$(()=>{"use strict";Ar();_0();He.iteratee=Zs});function kt(e,t,n){return He.iteratee!==Zs?He.iteratee(e,t):Dc(e,t,n)}var ir=$(()=>{"use strict";Ar();_0();P0()});function gp(e,t,n){t=kt(t,n);for(var r=st(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o}var BS=$(()=>{"use strict";ir();Sn()});function xl(){}var O0=$(()=>{"use strict"});function mp(e){return e==null?xl:function(t){return Al(e,t)}}var VS=$(()=>{"use strict";O0();T0()});function vp(e,t,n){var r=Array(Math.max(0,e));t=Ii(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}var zS=$(()=>{"use strict";bl()});function Ws(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}var R0=$(()=>{"use strict"});var fo,yp=$(()=>{"use strict";fo=Date.now||function(){return new Date().getTime()}});function Mc(e){var t=function(o){return e[o]},n="(?:"+st(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(o){return o=o==null?"":""+o,r.test(o)?o.replace(i,t):o}}var k0=$(()=>{"use strict";Sn()});var Ip,L0=$(()=>{"use strict";Ip={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var F0,GS=$(()=>{"use strict";k0();L0();F0=Mc(Ip)});var US,ZS=$(()=>{"use strict";x0();L0();US=Cl(Ip)});var j0,WS=$(()=>{"use strict";k0();ZS();j0=Mc(US)});var B0,V0=$(()=>{"use strict";Ar();B0=He.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function tB(e){return"\\"+Kj[e]}function Cp(e,t,n){!t&&n&&(t=n),t=wc({},t,He.templateSettings);var r=RegExp([(t.escape||z0).source,(t.interpolate||z0).source,(t.evaluate||z0).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(c,f,d,v,I){return o+=e.slice(i,I).replace(eB,tB),i=I+c.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:d?o+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:v&&(o+=`';
`+v+`
__p+='`),c}),o+=`';
`;var s=t.variable;if(s){if(!nB.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(c){throw c.source=o,c}var l=function(c){return a.call(this,c,He)};return l.source="function("+s+`){
`+o+"}",l}var z0,Kj,eB,nB,HS=$(()=>{"use strict";E0();Ar();V0();z0=/(.)^/,Kj={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},eB=/\\|'|\r|\n|\u2028|\u2029/g;nB=/^\s*(\w|\$)+\s*$/});function wp(e,t,n){t=vi(t);var r=t.length;if(!r)return Bt(n)?n.call(e):n;for(var i=0;i<r;i++){var o=e?.[t[i]];o===void 0&&(o=n,i=r),e=Bt(o)?o.call(e):o}return e}var YS=$(()=>{"use strict";jr();wl()});function Ap(e){var t=++rB+"";return e?e+t:t}var rB,$S=$(()=>{"use strict";rB=0});function bp(e){var t=He(e);return t._chain=!0,t}var XS=$(()=>{"use strict";Ar()});function Ec(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Ac(e.prototype),s=e.apply(o,i);return Yn(s)?s:o}var G0=$(()=>{"use strict";S0();Vo()});var U0,ho,Sc=$(()=>{"use strict";wr();G0();Ar();U0=Rt(function(e,t){var n=U0.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return Ec(e,r,this,this,s)};return r});U0.placeholder=He;ho=U0});var Nc,Z0=$(()=>{"use strict";wr();jr();G0();Nc=Rt(function(e,t,n){if(!Bt(e))throw new TypeError("Bind must be called on a function");var r=Rt(function(i){return Ec(e,r,t,this,n.concat(i))});return r})});var Yt,xr=$(()=>{"use strict";d0();Br();Yt=mc(Ht)});function Dr(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var i=r.length,o=0,s=Ht(e);o<s;o++){var a=e[o];if(Yt(a)&&(rr(a)||js(a)))if(t>1)Dr(a,t-1,n,r),i=r.length;else for(var l=0,c=a.length;l<c;)r[i++]=a[l++];else n||(r[i++]=a)}return r}var Hs=$(()=>{"use strict";Br();xr();Go();Qh()});var W0,qS=$(()=>{"use strict";wr();Hs();Z0();W0=Rt(function(e,t){t=Dr(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Nc(e[r],e)}return e})});function xp(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return Fn(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var JS=$(()=>{"use strict";co()});var Tc,H0=$(()=>{"use strict";wr();Tc=Rt(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)})});var Y0,QS=$(()=>{"use strict";Sc();H0();Ar();Y0=ho(Tc,He,1)});function Dp(e,t,n){var r,i,o,s,a=0;n||(n={});var l=function(){a=n.leading===!1?0:fo(),r=null,s=e.apply(i,o),r||(i=o=null)},c=function(){var f=fo();!a&&n.leading===!1&&(a=f);var d=t-(f-a);return i=this,o=arguments,d<=0||d>t?(r&&(clearTimeout(r),r=null),a=f,s=e.apply(i,o),r||(i=o=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,d)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c}var KS=$(()=>{"use strict";yp()});function Mp(e,t,n){var r,i,o,s,a,l=function(){var f=fo()-i;t>f?r=setTimeout(l,t-f):(r=null,n||(s=e.apply(a,o)),r||(o=a=null))},c=Rt(function(f){return a=this,o=f,i=fo(),r||(r=setTimeout(l,t),n&&(s=e.apply(a,o))),s});return c.cancel=function(){clearTimeout(r),r=o=a=null},c}var eN=$(()=>{"use strict";wr();yp()});function Ep(e,t){return ho(t,e)}var tN=$(()=>{"use strict";Sc()});function Ho(e){return function(){return!e.apply(this,arguments)}}var Sp=$(()=>{"use strict"});function Np(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}var nN=$(()=>{"use strict"});function Tp(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}var rN=$(()=>{"use strict"});function Dl(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var $0=$(()=>{"use strict"});var X0,iN=$(()=>{"use strict";Sc();$0();X0=ho(Dl,2)});function Ml(e,t,n){t=kt(t,n);for(var r=st(e),i,o=0,s=r.length;o<s;o++)if(i=r[o],t(e[i],i,e))return i}var q0=$(()=>{"use strict";ir();Sn()});function _c(e){return function(t,n,r){n=kt(n,r);for(var i=Ht(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var J0=$(()=>{"use strict";ir();Br()});var Ys,_p=$(()=>{"use strict";J0();Ys=_c(1)});var Pc,Q0=$(()=>{"use strict";J0();Pc=_c(-1)});function El(e,t,n,r){n=kt(n,r,1);for(var i=n(t),o=0,s=Ht(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}var K0=$(()=>{"use strict";ir();Br()});function Oc(e,t,n){return function(r,i,o){var s=0,a=Ht(r);if(typeof o=="number")e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(Wi.call(r,s,a),gl),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}var eC=$(()=>{"use strict";Br();Qt();u0()});var Rc,tC=$(()=>{"use strict";K0();_p();eC();Rc=Oc(1,Ys,El)});var nC,oN=$(()=>{"use strict";Q0();eC();nC=Oc(-1,Pc)});function $s(e,t,n){var r=Yt(e)?Ys:Ml,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}var rC=$(()=>{"use strict";xr();_p();q0()});function Pp(e,t){return $s(e,yi(t))}var sN=$(()=>{"use strict";rC();xc()});function Nn(e,t,n){t=Ii(t,n);var r,i;if(Yt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=st(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}var Yo=$(()=>{"use strict";bl();xr();Sn()});function or(e,t,n){t=kt(t,n);for(var r=!Yt(e)&&st(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}var Xs=$(()=>{"use strict";ir();xr();Sn()});function kc(e){var t=function(n,r,i,o){var s=!Yt(n)&&st(n),a=(s||n).length,l=e>0?0:a-1;for(o||(i=n[s?s[l]:l],l+=e);l>=0&&l<a;l+=e){var c=s?s[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,o){var s=arguments.length>=3;return t(n,Ii(r,o,4),i,s)}}var iC=$(()=>{"use strict";xr();Sn();bl()});var Lc,aN=$(()=>{"use strict";iC();Lc=kc(1)});var Op,lN=$(()=>{"use strict";iC();Op=kc(-1)});function Vr(e,t,n){var r=[];return t=kt(t,n),Nn(e,function(i,o,s){t(i,o,s)&&r.push(i)}),r}var Sl=$(()=>{"use strict";ir();Yo()});function Rp(e,t,n){return Vr(e,Ho(kt(t)),n)}var uN=$(()=>{"use strict";Sl();Sp();ir()});function Fc(e,t,n){t=kt(t,n);for(var r=!Yt(e)&&st(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}var cN=$(()=>{"use strict";ir();xr();Sn()});function jc(e,t,n){t=kt(t,n);for(var r=!Yt(e)&&st(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}var dN=$(()=>{"use strict";ir();xr();Sn()});function $n(e,t,n,r){return Yt(e)||(e=br(e)),(typeof n!="number"||r)&&(n=0),Rc(e,t,n)>=0}var Nl=$(()=>{"use strict";xr();Vs();tC()});var oC,fN=$(()=>{"use strict";wr();jr();Xs();dp();wl();oC=Rt(function(e,t,n){var r,i;return Bt(t)?i=t:(t=vi(t),r=t.slice(0,-1),t=t[t.length-1]),or(e,function(o){var s=i;if(!s){if(r&&r.length&&(o=Us(o,r)),o==null)return;s=o[t]}return s==null?s:s.apply(o,n)})})});function $o(e,t){return or(e,Wo(t))}var kp=$(()=>{"use strict";Xs();pp()});function Lp(e,t){return Vr(e,yi(t))}var hN=$(()=>{"use strict";Sl();xc()});function Tl(e,t,n){var r=-1/0,i=-1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Yt(e)?e:br(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o>r&&(r=o)}else t=kt(t,n),Nn(e,function(c,f,d){s=t(c,f,d),(s>i||s===-1/0&&r===-1/0)&&(r=c,i=s)});return r}var sC=$(()=>{"use strict";xr();Vs();ir();Yo()});function Fp(e,t,n){var r=1/0,i=1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Yt(e)?e:br(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o<r&&(r=o)}else t=kt(t,n),Nn(e,function(c,f,d){s=t(c,f,d),(s<i||s===1/0&&r===1/0)&&(r=c,i=s)});return r}var pN=$(()=>{"use strict";xr();Vs();ir();Yo()});function _l(e){return e?rr(e)?Wi.call(e):Fs(e)?e.match(iB):Yt(e)?or(e,Zo):br(e):[]}var iB,aC=$(()=>{"use strict";Go();Qt();Xh();xr();Xs();hp();Vs();iB=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function Pl(e,t,n){if(t==null||n)return Yt(e)||(e=br(e)),e[Ws(e.length-1)];var r=_l(e),i=Ht(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=Ws(s,o),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)}var lC=$(()=>{"use strict";xr();Vs();Br();R0();aC()});function jp(e){return Pl(e,1/0)}var gN=$(()=>{"use strict";lC()});function Bp(e,t,n){var r=0;return t=kt(t,n),$o(or(e,function(i,o,s){return{value:i,index:r++,criteria:t(i,o,s)}}).sort(function(i,o){var s=i.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-o.index}),"value")}var mN=$(()=>{"use strict";ir();kp();Xs()});function po(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=kt(r,i),Nn(n,function(s,a){var l=r(s,a,n);e(o,s,l)}),o}}var Bc=$(()=>{"use strict";ir();Yo()});var uC,vN=$(()=>{"use strict";Bc();co();uC=po(function(e,t,n){Fn(e,n)?e[n].push(t):e[n]=[t]})});var cC,yN=$(()=>{"use strict";Bc();cC=po(function(e,t,n){e[n]=t})});var dC,IN=$(()=>{"use strict";Bc();co();dC=po(function(e,t,n){Fn(e,n)?e[n]++:e[n]=1})});var fC,CN=$(()=>{"use strict";Bc();fC=po(function(e,t,n){e[n?0:1].push(t)},!0)});function Vp(e){return e==null?0:Yt(e)?e.length:st(e).length}var wN=$(()=>{"use strict";xr();Sn()});function hC(e,t,n){return t in n}var AN=$(()=>{"use strict"});var Vc,pC=$(()=>{"use strict";wr();jr();bl();yl();AN();Hs();Vc=Rt(function(e,t){var n={},r=t[0];if(e==null)return n;Bt(r)?(t.length>1&&(r=Ii(r,t[1])),t=Qr(e)):(r=hC,t=Dr(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})});var gC,bN=$(()=>{"use strict";wr();jr();Sp();Xs();Hs();Nl();pC();gC=Rt(function(e,t){var n=t[0],r;return Bt(n)?(n=Ho(n),t.length>1&&(r=t[1])):(t=or(Dr(t,!1,!1),String),n=function(i,o){return!$n(t,o)}),Vc(e,n,r)})});function Ol(e,t,n){return Wi.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}var mC=$(()=>{"use strict";Qt()});function Rl(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:Ol(e,e.length-t)}var xN=$(()=>{"use strict";mC()});function Xo(e,t,n){return Wi.call(e,t==null||n?1:t)}var vC=$(()=>{"use strict";Qt()});function zp(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:Xo(e,Math.max(0,e.length-t))}var DN=$(()=>{"use strict";vC()});function Gp(e){return Vr(e,Boolean)}var MN=$(()=>{"use strict";Sl()});function Up(e,t){return Dr(e,t,!1)}var EN=$(()=>{"use strict";Hs()});var zc,yC=$(()=>{"use strict";wr();Hs();Sl();Nl();zc=Rt(function(e,t){return t=Dr(t,!0,!0),Vr(e,function(n){return!$n(t,n)})})});var IC,SN=$(()=>{"use strict";wr();yC();IC=Rt(function(e,t){return zc(e,t)})});function qs(e,t,n,r){fl(t)||(r=n,n=t,t=!1),n!=null&&(n=kt(n,r));for(var i=[],o=[],s=0,a=Ht(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?((!s||o!==c)&&i.push(l),o=c):n?$n(o,c)||(o.push(c),i.push(l)):$n(i,l)||i.push(l)}return i}var CC=$(()=>{"use strict";e0();ir();Br();Nl()});var wC,NN=$(()=>{"use strict";wr();CC();Hs();wC=Rt(function(e){return qs(Dr(e,!0,!0))})});function Zp(e){for(var t=[],n=arguments.length,r=0,i=Ht(e);r<i;r++){var o=e[r];if(!$n(t,o)){var s;for(s=1;s<n&&$n(arguments[s],o);s++);s===n&&t.push(o)}}return t}var TN=$(()=>{"use strict";Br();Nl()});function Js(e){for(var t=e&&Tl(e,Ht).length||0,n=Array(t),r=0;r<t;r++)n[r]=$o(e,r);return n}var AC=$(()=>{"use strict";sC();Br();kp()});var bC,_N=$(()=>{"use strict";wr();AC();bC=Rt(Js)});function Wp(e,t){for(var n={},r=0,i=Ht(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}var PN=$(()=>{"use strict";Br()});function Hp(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}var ON=$(()=>{"use strict"});function Yp(e,t){if(t==null||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(Wi.call(e,r,r+=t));return n}var RN=$(()=>{"use strict";Qt()});function kl(e,t){return e._chain?He(t).chain():t}var xC=$(()=>{"use strict";Ar()});function Ll(e){return Nn(zs(e),function(t){var n=He[t]=e[t];He.prototype[t]=function(){var r=[this._wrapped];return iS.apply(r,arguments),kl(this,n.apply(He,r))}}),He}var kN=$(()=>{"use strict";Ar();Yo();D0();Qt();xC()});var LN,FN=$(()=>{"use strict";Ar();Yo();Qt();xC();Nn(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=fc[e];He.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),kl(this,n)}});Nn(["concat","join","slice"],function(e){var t=fc[e];He.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),kl(this,n)}});LN=He});var DC={};nn(DC,{VERSION:()=>dc,after:()=>Tp,all:()=>Fc,allKeys:()=>Qr,any:()=>jc,assign:()=>Uo,before:()=>Dl,bind:()=>Nc,bindAll:()=>W0,chain:()=>bp,chunk:()=>Yp,clone:()=>up,collect:()=>or,compact:()=>Gp,compose:()=>Np,constant:()=>ml,contains:()=>$n,countBy:()=>dC,create:()=>lp,debounce:()=>Mp,default:()=>LN,defaults:()=>wc,defer:()=>Y0,delay:()=>Tc,detect:()=>$s,difference:()=>zc,drop:()=>Xo,each:()=>Nn,escape:()=>F0,every:()=>Fc,extend:()=>Cc,extendOwn:()=>Uo,filter:()=>Vr,find:()=>$s,findIndex:()=>Ys,findKey:()=>Ml,findLastIndex:()=>Pc,findWhere:()=>Pp,first:()=>Rl,flatten:()=>Up,foldl:()=>Lc,foldr:()=>Op,forEach:()=>Nn,functions:()=>zs,get:()=>Al,groupBy:()=>uC,has:()=>fp,head:()=>Rl,identity:()=>Zo,include:()=>$n,includes:()=>$n,indexBy:()=>cC,indexOf:()=>Rc,initial:()=>Ol,inject:()=>Lc,intersection:()=>Zp,invert:()=>Cl,invoke:()=>oC,isArguments:()=>js,isArray:()=>rr,isArrayBuffer:()=>gc,isBoolean:()=>fl,isDataView:()=>zo,isDate:()=>n0,isElement:()=>$h,isEmpty:()=>tp,isEqual:()=>rp,isError:()=>i0,isFinite:()=>Kh,isFunction:()=>Bt,isMap:()=>C0,isMatch:()=>vl,isNaN:()=>gl,isNull:()=>Yh,isNumber:()=>hc,isObject:()=>Yn,isRegExp:()=>r0,isSet:()=>A0,isString:()=>Fs,isSymbol:()=>pc,isTypedArray:()=>yc,isUndefined:()=>dl,isWeakMap:()=>w0,isWeakSet:()=>b0,iteratee:()=>Zs,keys:()=>st,last:()=>zp,lastIndexOf:()=>nC,map:()=>or,mapObject:()=>gp,matcher:()=>yi,matches:()=>yi,max:()=>Tl,memoize:()=>xp,methods:()=>zs,min:()=>Fp,mixin:()=>Ll,negate:()=>Ho,noop:()=>xl,now:()=>fo,object:()=>Wp,omit:()=>gC,once:()=>X0,pairs:()=>op,partial:()=>ho,partition:()=>fC,pick:()=>Vc,pluck:()=>$o,property:()=>Wo,propertyOf:()=>mp,random:()=>Ws,range:()=>Hp,reduce:()=>Lc,reduceRight:()=>Op,reject:()=>Rp,rest:()=>Xo,restArguments:()=>Rt,result:()=>wp,sample:()=>Pl,select:()=>Vr,shuffle:()=>jp,size:()=>Vp,some:()=>jc,sortBy:()=>Bp,sortedIndex:()=>El,tail:()=>Xo,take:()=>Rl,tap:()=>cp,template:()=>Cp,templateSettings:()=>B0,throttle:()=>Dp,times:()=>vp,toArray:()=>_l,toPath:()=>bc,transpose:()=>Js,unescape:()=>j0,union:()=>wC,uniq:()=>qs,unique:()=>qs,uniqueId:()=>Ap,unzip:()=>Js,values:()=>br,where:()=>Lp,without:()=>IC,wrap:()=>Ep,zip:()=>bC});var $p=$(()=>{"use strict";Qt();wr();Vo();dS();KI();e0();fS();Xh();t0();hS();pS();gS();o0();s0();Jh();Go();jr();Qh();yS();u0();h0();wS();g0();DS();TS();_S();PS();OS();Sn();yl();Vs();RS();x0();D0();M0();ap();E0();kS();LS();FS();T0();jS();BS();hp();c0();O0();N0();pp();VS();xc();zS();R0();yp();GS();WS();V0();HS();YS();$S();XS();P0();Sc();Z0();qS();JS();H0();QS();KS();eN();tN();Sp();nN();rN();$0();iN();q0();_p();Q0();K0();tC();oN();rC();sN();Yo();Xs();aN();lN();Sl();uN();cN();dN();Nl();fN();kp();hN();sC();pN();gN();lC();mN();vN();yN();IN();CN();aC();wN();pC();bN();xN();mC();DN();vC();MN();EN();SN();CC();NN();TN();yC();AC();_N();PN();ON();RN();kN();FN()});var MC,jN,BN=$(()=>{"use strict";$p();$p();MC=Ll(DC);MC._=MC;jN=MC});var VN={};nn(VN,{VERSION:()=>dc,after:()=>Tp,all:()=>Fc,allKeys:()=>Qr,any:()=>jc,assign:()=>Uo,before:()=>Dl,bind:()=>Nc,bindAll:()=>W0,chain:()=>bp,chunk:()=>Yp,clone:()=>up,collect:()=>or,compact:()=>Gp,compose:()=>Np,constant:()=>ml,contains:()=>$n,countBy:()=>dC,create:()=>lp,debounce:()=>Mp,default:()=>jN,defaults:()=>wc,defer:()=>Y0,delay:()=>Tc,detect:()=>$s,difference:()=>zc,drop:()=>Xo,each:()=>Nn,escape:()=>F0,every:()=>Fc,extend:()=>Cc,extendOwn:()=>Uo,filter:()=>Vr,find:()=>$s,findIndex:()=>Ys,findKey:()=>Ml,findLastIndex:()=>Pc,findWhere:()=>Pp,first:()=>Rl,flatten:()=>Up,foldl:()=>Lc,foldr:()=>Op,forEach:()=>Nn,functions:()=>zs,get:()=>Al,groupBy:()=>uC,has:()=>fp,head:()=>Rl,identity:()=>Zo,include:()=>$n,includes:()=>$n,indexBy:()=>cC,indexOf:()=>Rc,initial:()=>Ol,inject:()=>Lc,intersection:()=>Zp,invert:()=>Cl,invoke:()=>oC,isArguments:()=>js,isArray:()=>rr,isArrayBuffer:()=>gc,isBoolean:()=>fl,isDataView:()=>zo,isDate:()=>n0,isElement:()=>$h,isEmpty:()=>tp,isEqual:()=>rp,isError:()=>i0,isFinite:()=>Kh,isFunction:()=>Bt,isMap:()=>C0,isMatch:()=>vl,isNaN:()=>gl,isNull:()=>Yh,isNumber:()=>hc,isObject:()=>Yn,isRegExp:()=>r0,isSet:()=>A0,isString:()=>Fs,isSymbol:()=>pc,isTypedArray:()=>yc,isUndefined:()=>dl,isWeakMap:()=>w0,isWeakSet:()=>b0,iteratee:()=>Zs,keys:()=>st,last:()=>zp,lastIndexOf:()=>nC,map:()=>or,mapObject:()=>gp,matcher:()=>yi,matches:()=>yi,max:()=>Tl,memoize:()=>xp,methods:()=>zs,min:()=>Fp,mixin:()=>Ll,negate:()=>Ho,noop:()=>xl,now:()=>fo,object:()=>Wp,omit:()=>gC,once:()=>X0,pairs:()=>op,partial:()=>ho,partition:()=>fC,pick:()=>Vc,pluck:()=>$o,property:()=>Wo,propertyOf:()=>mp,random:()=>Ws,range:()=>Hp,reduce:()=>Lc,reduceRight:()=>Op,reject:()=>Rp,rest:()=>Xo,restArguments:()=>Rt,result:()=>wp,sample:()=>Pl,select:()=>Vr,shuffle:()=>jp,size:()=>Vp,some:()=>jc,sortBy:()=>Bp,sortedIndex:()=>El,tail:()=>Xo,take:()=>Rl,tap:()=>cp,template:()=>Cp,templateSettings:()=>B0,throttle:()=>Dp,times:()=>vp,toArray:()=>_l,toPath:()=>bc,transpose:()=>Js,unescape:()=>j0,union:()=>wC,uniq:()=>qs,unique:()=>qs,uniqueId:()=>Ap,unzip:()=>Js,values:()=>br,where:()=>Lp,without:()=>IC,wrap:()=>Ep,zip:()=>bC});var zN=$(()=>{"use strict";BN();$p()});var qo=MA((GN,Xp)=>{"use strict";(function(e,t){"use strict";typeof Xp=="object"&&typeof Xp.exports=="object"?Xp.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:GN,function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(u){return n.flat.call(u)}:function(u){return n.concat.apply([],u)},s=n.push,a=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,d=f.toString,v=d.call(Object),I={},w=function(h){return typeof h=="function"&&typeof h.nodeType!="number"&&typeof h.item!="function"},D=function(h){return h!=null&&h===h.window},M=e.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function B(u,h,p){p=p||M;var m,C,b=p.createElement("script");if(b.text=u,h)for(m in T)C=h[m]||h.getAttribute&&h.getAttribute(m),C&&b.setAttribute(m,C);p.head.appendChild(b).parentNode.removeChild(b)}function G(u){return u==null?u+"":typeof u=="object"||typeof u=="function"?l[c.call(u)]||"object":typeof u}var H="3.7.1",ne=/HTML$/i,g=function(u,h){return new g.fn.init(u,h)};g.fn=g.prototype={jquery:H,constructor:g,length:0,toArray:function(){return i.call(this)},get:function(u){return u==null?i.call(this):u<0?this[u+this.length]:this[u]},pushStack:function(u){var h=g.merge(this.constructor(),u);return h.prevObject=this,h},each:function(u){return g.each(this,u)},map:function(u){return this.pushStack(g.map(this,function(h,p){return u.call(h,p,h)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(u,h){return(h+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(u,h){return h%2}))},eq:function(u){var h=this.length,p=+u+(u<0?h:0);return this.pushStack(p>=0&&p<h?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var u,h,p,m,C,b,E=arguments[0]||{},L=1,R=arguments.length,W=!1;for(typeof E=="boolean"&&(W=E,E=arguments[L]||{},L++),typeof E!="object"&&!w(E)&&(E={}),L===R&&(E=this,L--);L<R;L++)if((u=arguments[L])!=null)for(h in u)m=u[h],!(h==="__proto__"||E===m)&&(W&&m&&(g.isPlainObject(m)||(C=Array.isArray(m)))?(p=E[h],C&&!Array.isArray(p)?b=[]:!C&&!g.isPlainObject(p)?b={}:b=p,C=!1,E[h]=g.extend(W,b,m)):m!==void 0&&(E[h]=m));return E},g.extend({expando:"jQuery"+(H+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isPlainObject:function(u){var h,p;return!u||c.call(u)!=="[object Object]"?!1:(h=r(u),h?(p=f.call(h,"constructor")&&h.constructor,typeof p=="function"&&d.call(p)===v):!0)},isEmptyObject:function(u){var h;for(h in u)return!1;return!0},globalEval:function(u,h,p){B(u,{nonce:h&&h.nonce},p)},each:function(u,h){var p,m=0;if(y(u))for(p=u.length;m<p&&h.call(u[m],m,u[m])!==!1;m++);else for(m in u)if(h.call(u[m],m,u[m])===!1)break;return u},text:function(u){var h,p="",m=0,C=u.nodeType;if(!C)for(;h=u[m++];)p+=g.text(h);return C===1||C===11?u.textContent:C===9?u.documentElement.textContent:C===3||C===4?u.nodeValue:p},makeArray:function(u,h){var p=h||[];return u!=null&&(y(Object(u))?g.merge(p,typeof u=="string"?[u]:u):s.call(p,u)),p},inArray:function(u,h,p){return h==null?-1:a.call(h,u,p)},isXMLDoc:function(u){var h=u&&u.namespaceURI,p=u&&(u.ownerDocument||u).documentElement;return!ne.test(h||p&&p.nodeName||"HTML")},merge:function(u,h){for(var p=+h.length,m=0,C=u.length;m<p;m++)u[C++]=h[m];return u.length=C,u},grep:function(u,h,p){for(var m,C=[],b=0,E=u.length,L=!p;b<E;b++)m=!h(u[b],b),m!==L&&C.push(u[b]);return C},map:function(u,h,p){var m,C,b=0,E=[];if(y(u))for(m=u.length;b<m;b++)C=h(u[b],b,p),C!=null&&E.push(C);else for(b in u)C=h(u[b],b,p),C!=null&&E.push(C);return o(E)},guid:1,support:I}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(u,h){l["[object "+h+"]"]=h.toLowerCase()});function y(u){var h=!!u&&"length"in u&&u.length,p=G(u);return w(u)||D(u)?!1:p==="array"||h===0||typeof h=="number"&&h>0&&h-1 in u}function x(u,h){return u.nodeName&&u.nodeName.toLowerCase()===h.toLowerCase()}var S=n.pop,_=n.sort,j=n.splice,V="[\\x20\\t\\r\\n\\f]",Y=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");g.contains=function(u,h){var p=h&&h.parentNode;return u===p||!!(p&&p.nodeType===1&&(u.contains?u.contains(p):u.compareDocumentPosition&&u.compareDocumentPosition(p)&16))};var ue=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function pe(u,h){return h?u==="\0"?"\uFFFD":u.slice(0,-1)+"\\"+u.charCodeAt(u.length-1).toString(16)+" ":"\\"+u}g.escapeSelector=function(u){return(u+"").replace(ue,pe)};var Z=M,Q=s;(function(){var u,h,p,m,C,b=Q,E,L,R,W,re,le=g.expando,K=0,fe=0,Ue=Md(),vt=Md(),Qe=Md(),Pn=Md(),yn=function(P,z){return P===z&&(C=!0),0},bi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",xi="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",lt="\\["+V+"*("+xi+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+xi+"))|)"+V+"*\\]",cs=":("+xi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+lt+")*)|.*)\\)|)",Ct=new RegExp(V+"+","g"),ln=new RegExp("^"+V+"*,"+V+"*"),hu=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),lm=new RegExp(V+"|>"),Di=new RegExp(cs),pu=new RegExp("^"+xi+"$"),Mi={ID:new RegExp("^#("+xi+")"),CLASS:new RegExp("^\\.("+xi+")"),TAG:new RegExp("^("+xi+"|[*])"),ATTR:new RegExp("^"+lt),PSEUDO:new RegExp("^"+cs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+bi+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},Co=/^(?:input|select|textarea|button)$/i,wo=/^h\d$/i,Wr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,um=/[+~]/,$i=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),Xi=function(P,z){var q="0x"+P.slice(1)-65536;return z||(q<0?String.fromCharCode(q+65536):String.fromCharCode(q>>10|55296,q&1023|56320))},X_=function(){Ao()},q_=Sd(function(P){return P.disabled===!0&&x(P,"fieldset")},{dir:"parentNode",next:"legend"});function J_(){try{return E.activeElement}catch{}}try{b.apply(n=i.call(Z.childNodes),Z.childNodes),n[Z.childNodes.length].nodeType}catch{b={apply:function(z,q){Q.apply(z,i.call(q))},call:function(z){Q.apply(z,i.call(arguments,1))}}}function Ot(P,z,q,te){var ae,ve,we,Ee,Ae,it,Ve,We=z&&z.ownerDocument,ot=z?z.nodeType:9;if(q=q||[],typeof P!="string"||!P||ot!==1&&ot!==9&&ot!==11)return q;if(!te&&(Ao(z),z=z||E,R)){if(ot!==11&&(Ae=Wr.exec(P)))if(ae=Ae[1]){if(ot===9)if(we=z.getElementById(ae)){if(we.id===ae)return b.call(q,we),q}else return q;else if(We&&(we=We.getElementById(ae))&&Ot.contains(z,we)&&we.id===ae)return b.call(q,we),q}else{if(Ae[2])return b.apply(q,z.getElementsByTagName(P)),q;if((ae=Ae[3])&&z.getElementsByClassName)return b.apply(q,z.getElementsByClassName(ae)),q}if(!Pn[P+" "]&&(!W||!W.test(P))){if(Ve=P,We=z,ot===1&&(lm.test(P)||hu.test(P))){for(We=um.test(P)&&cm(z.parentNode)||z,(We!=z||!I.scope)&&((Ee=z.getAttribute("id"))?Ee=g.escapeSelector(Ee):z.setAttribute("id",Ee=le)),it=gu(P),ve=it.length;ve--;)it[ve]=(Ee?"#"+Ee:":scope")+" "+Ed(it[ve]);Ve=it.join(",")}try{return b.apply(q,We.querySelectorAll(Ve)),q}catch{Pn(P,!0)}finally{Ee===le&&z.removeAttribute("id")}}}return AA(P.replace(Y,"$1"),z,q,te)}function Md(){var P=[];function z(q,te){return P.push(q+" ")>h.cacheLength&&delete z[P.shift()],z[q+" "]=te}return z}function ai(P){return P[le]=!0,P}function va(P){var z=E.createElement("fieldset");try{return!!P(z)}catch{return!1}finally{z.parentNode&&z.parentNode.removeChild(z),z=null}}function Q_(P){return function(z){return x(z,"input")&&z.type===P}}function K_(P){return function(z){return(x(z,"input")||x(z,"button"))&&z.type===P}}function CA(P){return function(z){return"form"in z?z.parentNode&&z.disabled===!1?"label"in z?"label"in z.parentNode?z.parentNode.disabled===P:z.disabled===P:z.isDisabled===P||z.isDisabled!==!P&&q_(z)===P:z.disabled===P:"label"in z?z.disabled===P:!1}}function ds(P){return ai(function(z){return z=+z,ai(function(q,te){for(var ae,ve=P([],q.length,z),we=ve.length;we--;)q[ae=ve[we]]&&(q[ae]=!(te[ae]=q[ae]))})})}function cm(P){return P&&typeof P.getElementsByTagName<"u"&&P}function Ao(P){var z,q=P?P.ownerDocument||P:Z;return q==E||q.nodeType!==9||!q.documentElement||(E=q,L=E.documentElement,R=!g.isXMLDoc(E),re=L.matches||L.webkitMatchesSelector||L.msMatchesSelector,L.msMatchesSelector&&Z!=E&&(z=E.defaultView)&&z.top!==z&&z.addEventListener("unload",X_),I.getById=va(function(te){return L.appendChild(te).id=g.expando,!E.getElementsByName||!E.getElementsByName(g.expando).length}),I.disconnectedMatch=va(function(te){return re.call(te,"*")}),I.scope=va(function(){return E.querySelectorAll(":scope")}),I.cssHas=va(function(){try{return E.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),I.getById?(h.filter.ID=function(te){var ae=te.replace($i,Xi);return function(ve){return ve.getAttribute("id")===ae}},h.find.ID=function(te,ae){if(typeof ae.getElementById<"u"&&R){var ve=ae.getElementById(te);return ve?[ve]:[]}}):(h.filter.ID=function(te){var ae=te.replace($i,Xi);return function(ve){var we=typeof ve.getAttributeNode<"u"&&ve.getAttributeNode("id");return we&&we.value===ae}},h.find.ID=function(te,ae){if(typeof ae.getElementById<"u"&&R){var ve,we,Ee,Ae=ae.getElementById(te);if(Ae){if(ve=Ae.getAttributeNode("id"),ve&&ve.value===te)return[Ae];for(Ee=ae.getElementsByName(te),we=0;Ae=Ee[we++];)if(ve=Ae.getAttributeNode("id"),ve&&ve.value===te)return[Ae]}return[]}}),h.find.TAG=function(te,ae){return typeof ae.getElementsByTagName<"u"?ae.getElementsByTagName(te):ae.querySelectorAll(te)},h.find.CLASS=function(te,ae){if(typeof ae.getElementsByClassName<"u"&&R)return ae.getElementsByClassName(te)},W=[],va(function(te){var ae;L.appendChild(te).innerHTML="<a id='"+le+"' href='' disabled='disabled'></a><select id='"+le+"-\r\\' disabled='disabled'><option selected=''></option></select>",te.querySelectorAll("[selected]").length||W.push("\\["+V+"*(?:value|"+bi+")"),te.querySelectorAll("[id~="+le+"-]").length||W.push("~="),te.querySelectorAll("a#"+le+"+*").length||W.push(".#.+[+~]"),te.querySelectorAll(":checked").length||W.push(":checked"),ae=E.createElement("input"),ae.setAttribute("type","hidden"),te.appendChild(ae).setAttribute("name","D"),L.appendChild(te).disabled=!0,te.querySelectorAll(":disabled").length!==2&&W.push(":enabled",":disabled"),ae=E.createElement("input"),ae.setAttribute("name",""),te.appendChild(ae),te.querySelectorAll("[name='']").length||W.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),I.cssHas||W.push(":has"),W=W.length&&new RegExp(W.join("|")),yn=function(te,ae){if(te===ae)return C=!0,0;var ve=!te.compareDocumentPosition-!ae.compareDocumentPosition;return ve||(ve=(te.ownerDocument||te)==(ae.ownerDocument||ae)?te.compareDocumentPosition(ae):1,ve&1||!I.sortDetached&&ae.compareDocumentPosition(te)===ve?te===E||te.ownerDocument==Z&&Ot.contains(Z,te)?-1:ae===E||ae.ownerDocument==Z&&Ot.contains(Z,ae)?1:m?a.call(m,te)-a.call(m,ae):0:ve&4?-1:1)}),E}Ot.matches=function(P,z){return Ot(P,null,null,z)},Ot.matchesSelector=function(P,z){if(Ao(P),R&&!Pn[z+" "]&&(!W||!W.test(z)))try{var q=re.call(P,z);if(q||I.disconnectedMatch||P.document&&P.document.nodeType!==11)return q}catch{Pn(z,!0)}return Ot(z,E,null,[P]).length>0},Ot.contains=function(P,z){return(P.ownerDocument||P)!=E&&Ao(P),g.contains(P,z)},Ot.attr=function(P,z){(P.ownerDocument||P)!=E&&Ao(P);var q=h.attrHandle[z.toLowerCase()],te=q&&f.call(h.attrHandle,z.toLowerCase())?q(P,z,!R):void 0;return te!==void 0?te:P.getAttribute(z)},Ot.error=function(P){throw new Error("Syntax error, unrecognized expression: "+P)},g.uniqueSort=function(P){var z,q=[],te=0,ae=0;if(C=!I.sortStable,m=!I.sortStable&&i.call(P,0),_.call(P,yn),C){for(;z=P[ae++];)z===P[ae]&&(te=q.push(ae));for(;te--;)j.call(P,q[te],1)}return m=null,P},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(i.apply(this)))},h=g.expr={cacheLength:50,createPseudo:ai,match:Mi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(P){return P[1]=P[1].replace($i,Xi),P[3]=(P[3]||P[4]||P[5]||"").replace($i,Xi),P[2]==="~="&&(P[3]=" "+P[3]+" "),P.slice(0,4)},CHILD:function(P){return P[1]=P[1].toLowerCase(),P[1].slice(0,3)==="nth"?(P[3]||Ot.error(P[0]),P[4]=+(P[4]?P[5]+(P[6]||1):2*(P[3]==="even"||P[3]==="odd")),P[5]=+(P[7]+P[8]||P[3]==="odd")):P[3]&&Ot.error(P[0]),P},PSEUDO:function(P){var z,q=!P[6]&&P[2];return Mi.CHILD.test(P[0])?null:(P[3]?P[2]=P[4]||P[5]||"":q&&Di.test(q)&&(z=gu(q,!0))&&(z=q.indexOf(")",q.length-z)-q.length)&&(P[0]=P[0].slice(0,z),P[2]=q.slice(0,z)),P.slice(0,3))}},filter:{TAG:function(P){var z=P.replace($i,Xi).toLowerCase();return P==="*"?function(){return!0}:function(q){return x(q,z)}},CLASS:function(P){var z=Ue[P+" "];return z||(z=new RegExp("(^|"+V+")"+P+"("+V+"|$)"))&&Ue(P,function(q){return z.test(typeof q.className=="string"&&q.className||typeof q.getAttribute<"u"&&q.getAttribute("class")||"")})},ATTR:function(P,z,q){return function(te){var ae=Ot.attr(te,P);return ae==null?z==="!=":z?(ae+="",z==="="?ae===q:z==="!="?ae!==q:z==="^="?q&&ae.indexOf(q)===0:z==="*="?q&&ae.indexOf(q)>-1:z==="$="?q&&ae.slice(-q.length)===q:z==="~="?(" "+ae.replace(Ct," ")+" ").indexOf(q)>-1:z==="|="?ae===q||ae.slice(0,q.length+1)===q+"-":!1):!0}},CHILD:function(P,z,q,te,ae){var ve=P.slice(0,3)!=="nth",we=P.slice(-4)!=="last",Ee=z==="of-type";return te===1&&ae===0?function(Ae){return!!Ae.parentNode}:function(Ae,it,Ve){var We,ot,Re,Wt,gr,Gn=ve!==we?"nextSibling":"previousSibling",Hr=Ae.parentNode,Ei=Ee&&Ae.nodeName.toLowerCase(),ya=!Ve&&!Ee,er=!1;if(Hr){if(ve){for(;Gn;){for(Re=Ae;Re=Re[Gn];)if(Ee?x(Re,Ei):Re.nodeType===1)return!1;gr=Gn=P==="only"&&!gr&&"nextSibling"}return!0}if(gr=[we?Hr.firstChild:Hr.lastChild],we&&ya){for(ot=Hr[le]||(Hr[le]={}),We=ot[P]||[],Wt=We[0]===K&&We[1],er=Wt&&We[2],Re=Wt&&Hr.childNodes[Wt];Re=++Wt&&Re&&Re[Gn]||(er=Wt=0)||gr.pop();)if(Re.nodeType===1&&++er&&Re===Ae){ot[P]=[K,Wt,er];break}}else if(ya&&(ot=Ae[le]||(Ae[le]={}),We=ot[P]||[],Wt=We[0]===K&&We[1],er=Wt),er===!1)for(;(Re=++Wt&&Re&&Re[Gn]||(er=Wt=0)||gr.pop())&&!((Ee?x(Re,Ei):Re.nodeType===1)&&++er&&(ya&&(ot=Re[le]||(Re[le]={}),ot[P]=[K,er]),Re===Ae)););return er-=ae,er===te||er%te===0&&er/te>=0}}},PSEUDO:function(P,z){var q,te=h.pseudos[P]||h.setFilters[P.toLowerCase()]||Ot.error("unsupported pseudo: "+P);return te[le]?te(z):te.length>1?(q=[P,P,"",z],h.setFilters.hasOwnProperty(P.toLowerCase())?ai(function(ae,ve){for(var we,Ee=te(ae,z),Ae=Ee.length;Ae--;)we=a.call(ae,Ee[Ae]),ae[we]=!(ve[we]=Ee[Ae])}):function(ae){return te(ae,0,q)}):te}},pseudos:{not:ai(function(P){var z=[],q=[],te=pm(P.replace(Y,"$1"));return te[le]?ai(function(ae,ve,we,Ee){for(var Ae,it=te(ae,null,Ee,[]),Ve=ae.length;Ve--;)(Ae=it[Ve])&&(ae[Ve]=!(ve[Ve]=Ae))}):function(ae,ve,we){return z[0]=ae,te(z,null,we,q),z[0]=null,!q.pop()}}),has:ai(function(P){return function(z){return Ot(P,z).length>0}}),contains:ai(function(P){return P=P.replace($i,Xi),function(z){return(z.textContent||g.text(z)).indexOf(P)>-1}}),lang:ai(function(P){return pu.test(P||"")||Ot.error("unsupported lang: "+P),P=P.replace($i,Xi).toLowerCase(),function(z){var q;do if(q=R?z.lang:z.getAttribute("xml:lang")||z.getAttribute("lang"))return q=q.toLowerCase(),q===P||q.indexOf(P+"-")===0;while((z=z.parentNode)&&z.nodeType===1);return!1}}),target:function(P){var z=e.location&&e.location.hash;return z&&z.slice(1)===P.id},root:function(P){return P===L},focus:function(P){return P===J_()&&E.hasFocus()&&!!(P.type||P.href||~P.tabIndex)},enabled:CA(!1),disabled:CA(!0),checked:function(P){return x(P,"input")&&!!P.checked||x(P,"option")&&!!P.selected},selected:function(P){return P.parentNode&&P.parentNode.selectedIndex,P.selected===!0},empty:function(P){for(P=P.firstChild;P;P=P.nextSibling)if(P.nodeType<6)return!1;return!0},parent:function(P){return!h.pseudos.empty(P)},header:function(P){return wo.test(P.nodeName)},input:function(P){return Co.test(P.nodeName)},button:function(P){return x(P,"input")&&P.type==="button"||x(P,"button")},text:function(P){var z;return x(P,"input")&&P.type==="text"&&((z=P.getAttribute("type"))==null||z.toLowerCase()==="text")},first:ds(function(){return[0]}),last:ds(function(P,z){return[z-1]}),eq:ds(function(P,z,q){return[q<0?q+z:q]}),even:ds(function(P,z){for(var q=0;q<z;q+=2)P.push(q);return P}),odd:ds(function(P,z){for(var q=1;q<z;q+=2)P.push(q);return P}),lt:ds(function(P,z,q){var te;for(q<0?te=q+z:q>z?te=z:te=q;--te>=0;)P.push(te);return P}),gt:ds(function(P,z,q){for(var te=q<0?q+z:q;++te<z;)P.push(te);return P})}},h.pseudos.nth=h.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[u]=Q_(u);for(u in{submit:!0,reset:!0})h.pseudos[u]=K_(u);function wA(){}wA.prototype=h.filters=h.pseudos,h.setFilters=new wA;function gu(P,z){var q,te,ae,ve,we,Ee,Ae,it=vt[P+" "];if(it)return z?0:it.slice(0);for(we=P,Ee=[],Ae=h.preFilter;we;){(!q||(te=ln.exec(we)))&&(te&&(we=we.slice(te[0].length)||we),Ee.push(ae=[])),q=!1,(te=hu.exec(we))&&(q=te.shift(),ae.push({value:q,type:te[0].replace(Y," ")}),we=we.slice(q.length));for(ve in h.filter)(te=Mi[ve].exec(we))&&(!Ae[ve]||(te=Ae[ve](te)))&&(q=te.shift(),ae.push({value:q,type:ve,matches:te}),we=we.slice(q.length));if(!q)break}return z?we.length:we?Ot.error(P):vt(P,Ee).slice(0)}function Ed(P){for(var z=0,q=P.length,te="";z<q;z++)te+=P[z].value;return te}function Sd(P,z,q){var te=z.dir,ae=z.next,ve=ae||te,we=q&&ve==="parentNode",Ee=fe++;return z.first?function(Ae,it,Ve){for(;Ae=Ae[te];)if(Ae.nodeType===1||we)return P(Ae,it,Ve);return!1}:function(Ae,it,Ve){var We,ot,Re=[K,Ee];if(Ve){for(;Ae=Ae[te];)if((Ae.nodeType===1||we)&&P(Ae,it,Ve))return!0}else for(;Ae=Ae[te];)if(Ae.nodeType===1||we)if(ot=Ae[le]||(Ae[le]={}),ae&&x(Ae,ae))Ae=Ae[te]||Ae;else{if((We=ot[ve])&&We[0]===K&&We[1]===Ee)return Re[2]=We[2];if(ot[ve]=Re,Re[2]=P(Ae,it,Ve))return!0}return!1}}function dm(P){return P.length>1?function(z,q,te){for(var ae=P.length;ae--;)if(!P[ae](z,q,te))return!1;return!0}:P[0]}function eP(P,z,q){for(var te=0,ae=z.length;te<ae;te++)Ot(P,z[te],q);return q}function Nd(P,z,q,te,ae){for(var ve,we=[],Ee=0,Ae=P.length,it=z!=null;Ee<Ae;Ee++)(ve=P[Ee])&&(!q||q(ve,te,ae))&&(we.push(ve),it&&z.push(Ee));return we}function fm(P,z,q,te,ae,ve){return te&&!te[le]&&(te=fm(te)),ae&&!ae[le]&&(ae=fm(ae,ve)),ai(function(we,Ee,Ae,it){var Ve,We,ot,Re,Wt=[],gr=[],Gn=Ee.length,Hr=we||eP(z||"*",Ae.nodeType?[Ae]:Ae,[]),Ei=P&&(we||!z)?Nd(Hr,Wt,P,Ae,it):Hr;if(q?(Re=ae||(we?P:Gn||te)?[]:Ee,q(Ei,Re,Ae,it)):Re=Ei,te)for(Ve=Nd(Re,gr),te(Ve,[],Ae,it),We=Ve.length;We--;)(ot=Ve[We])&&(Re[gr[We]]=!(Ei[gr[We]]=ot));if(we){if(ae||P){if(ae){for(Ve=[],We=Re.length;We--;)(ot=Re[We])&&Ve.push(Ei[We]=ot);ae(null,Re=[],Ve,it)}for(We=Re.length;We--;)(ot=Re[We])&&(Ve=ae?a.call(we,ot):Wt[We])>-1&&(we[Ve]=!(Ee[Ve]=ot))}}else Re=Nd(Re===Ee?Re.splice(Gn,Re.length):Re),ae?ae(null,Ee,Re,it):b.apply(Ee,Re)})}function hm(P){for(var z,q,te,ae=P.length,ve=h.relative[P[0].type],we=ve||h.relative[" "],Ee=ve?1:0,Ae=Sd(function(We){return We===z},we,!0),it=Sd(function(We){return a.call(z,We)>-1},we,!0),Ve=[function(We,ot,Re){var Wt=!ve&&(Re||ot!=p)||((z=ot).nodeType?Ae(We,ot,Re):it(We,ot,Re));return z=null,Wt}];Ee<ae;Ee++)if(q=h.relative[P[Ee].type])Ve=[Sd(dm(Ve),q)];else{if(q=h.filter[P[Ee].type].apply(null,P[Ee].matches),q[le]){for(te=++Ee;te<ae&&!h.relative[P[te].type];te++);return fm(Ee>1&&dm(Ve),Ee>1&&Ed(P.slice(0,Ee-1).concat({value:P[Ee-2].type===" "?"*":""})).replace(Y,"$1"),q,Ee<te&&hm(P.slice(Ee,te)),te<ae&&hm(P=P.slice(te)),te<ae&&Ed(P))}Ve.push(q)}return dm(Ve)}function tP(P,z){var q=z.length>0,te=P.length>0,ae=function(ve,we,Ee,Ae,it){var Ve,We,ot,Re=0,Wt="0",gr=ve&&[],Gn=[],Hr=p,Ei=ve||te&&h.find.TAG("*",it),ya=K+=Hr==null?1:Math.random()||.1,er=Ei.length;for(it&&(p=we==E||we||it);Wt!==er&&(Ve=Ei[Wt])!=null;Wt++){if(te&&Ve){for(We=0,!we&&Ve.ownerDocument!=E&&(Ao(Ve),Ee=!R);ot=P[We++];)if(ot(Ve,we||E,Ee)){b.call(Ae,Ve);break}it&&(K=ya)}q&&((Ve=!ot&&Ve)&&Re--,ve&&gr.push(Ve))}if(Re+=Wt,q&&Wt!==Re){for(We=0;ot=z[We++];)ot(gr,Gn,we,Ee);if(ve){if(Re>0)for(;Wt--;)gr[Wt]||Gn[Wt]||(Gn[Wt]=S.call(Ae));Gn=Nd(Gn)}b.apply(Ae,Gn),it&&!ve&&Gn.length>0&&Re+z.length>1&&g.uniqueSort(Ae)}return it&&(K=ya,p=Hr),gr};return q?ai(ae):ae}function pm(P,z){var q,te=[],ae=[],ve=Qe[P+" "];if(!ve){for(z||(z=gu(P)),q=z.length;q--;)ve=hm(z[q]),ve[le]?te.push(ve):ae.push(ve);ve=Qe(P,tP(ae,te)),ve.selector=P}return ve}function AA(P,z,q,te){var ae,ve,we,Ee,Ae,it=typeof P=="function"&&P,Ve=!te&&gu(P=it.selector||P);if(q=q||[],Ve.length===1){if(ve=Ve[0]=Ve[0].slice(0),ve.length>2&&(we=ve[0]).type==="ID"&&z.nodeType===9&&R&&h.relative[ve[1].type]){if(z=(h.find.ID(we.matches[0].replace($i,Xi),z)||[])[0],z)it&&(z=z.parentNode);else return q;P=P.slice(ve.shift().value.length)}for(ae=Mi.needsContext.test(P)?0:ve.length;ae--&&(we=ve[ae],!h.relative[Ee=we.type]);)if((Ae=h.find[Ee])&&(te=Ae(we.matches[0].replace($i,Xi),um.test(ve[0].type)&&cm(z.parentNode)||z))){if(ve.splice(ae,1),P=te.length&&Ed(ve),!P)return b.apply(q,te),q;break}}return(it||pm(P,Ve))(te,z,!R,q,!z||um.test(P)&&cm(z.parentNode)||z),q}I.sortStable=le.split("").sort(yn).join("")===le,Ao(),I.sortDetached=va(function(P){return P.compareDocumentPosition(E.createElement("fieldset"))&1}),g.find=Ot,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,Ot.compile=pm,Ot.select=AA,Ot.setDocument=Ao,Ot.tokenize=gu,Ot.escape=g.escapeSelector,Ot.getText=g.text,Ot.isXML=g.isXMLDoc,Ot.selectors=g.expr,Ot.support=g.support,Ot.uniqueSort=g.uniqueSort})();var X=function(u,h,p){for(var m=[],C=p!==void 0;(u=u[h])&&u.nodeType!==9;)if(u.nodeType===1){if(C&&g(u).is(p))break;m.push(u)}return m},J=function(u,h){for(var p=[];u;u=u.nextSibling)u.nodeType===1&&u!==h&&p.push(u);return p},ke=g.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function St(u,h,p){return w(h)?g.grep(u,function(m,C){return!!h.call(m,C,m)!==p}):h.nodeType?g.grep(u,function(m){return m===h!==p}):typeof h!="string"?g.grep(u,function(m){return a.call(h,m)>-1!==p}):g.filter(h,u,p)}g.filter=function(u,h,p){var m=h[0];return p&&(u=":not("+u+")"),h.length===1&&m.nodeType===1?g.find.matchesSelector(m,u)?[m]:[]:g.find.matches(u,g.grep(h,function(C){return C.nodeType===1}))},g.fn.extend({find:function(u){var h,p,m=this.length,C=this;if(typeof u!="string")return this.pushStack(g(u).filter(function(){for(h=0;h<m;h++)if(g.contains(C[h],this))return!0}));for(p=this.pushStack([]),h=0;h<m;h++)g.find(u,C[h],p);return m>1?g.uniqueSort(p):p},filter:function(u){return this.pushStack(St(this,u||[],!1))},not:function(u){return this.pushStack(St(this,u||[],!0))},is:function(u){return!!St(this,typeof u=="string"&&ke.test(u)?g(u):u||[],!1).length}});var Ft,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Te=g.fn.init=function(u,h,p){var m,C;if(!u)return this;if(p=p||Ft,typeof u=="string")if(u[0]==="<"&&u[u.length-1]===">"&&u.length>=3?m=[null,u,null]:m=xe.exec(u),m&&(m[1]||!h))if(m[1]){if(h=h instanceof g?h[0]:h,g.merge(this,g.parseHTML(m[1],h&&h.nodeType?h.ownerDocument||h:M,!0)),Ne.test(m[1])&&g.isPlainObject(h))for(m in h)w(this[m])?this[m](h[m]):this.attr(m,h[m]);return this}else return C=M.getElementById(m[2]),C&&(this[0]=C,this.length=1),this;else return!h||h.jquery?(h||p).find(u):this.constructor(h).find(u);else{if(u.nodeType)return this[0]=u,this.length=1,this;if(w(u))return p.ready!==void 0?p.ready(u):u(g)}return g.makeArray(u,this)};Te.prototype=g.fn,Ft=g(M);var oe=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(u){var h=g(u,this),p=h.length;return this.filter(function(){for(var m=0;m<p;m++)if(g.contains(this,h[m]))return!0})},closest:function(u,h){var p,m=0,C=this.length,b=[],E=typeof u!="string"&&g(u);if(!ke.test(u)){for(;m<C;m++)for(p=this[m];p&&p!==h;p=p.parentNode)if(p.nodeType<11&&(E?E.index(p)>-1:p.nodeType===1&&g.find.matchesSelector(p,u))){b.push(p);break}}return this.pushStack(b.length>1?g.uniqueSort(b):b)},index:function(u){return u?typeof u=="string"?a.call(g(u),this[0]):a.call(this,u.jquery?u[0]:u):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,h){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(u,h))))},addBack:function(u){return this.add(u==null?this.prevObject:this.prevObject.filter(u))}});function he(u,h){for(;(u=u[h])&&u.nodeType!==1;);return u}g.each({parent:function(u){var h=u.parentNode;return h&&h.nodeType!==11?h:null},parents:function(u){return X(u,"parentNode")},parentsUntil:function(u,h,p){return X(u,"parentNode",p)},next:function(u){return he(u,"nextSibling")},prev:function(u){return he(u,"previousSibling")},nextAll:function(u){return X(u,"nextSibling")},prevAll:function(u){return X(u,"previousSibling")},nextUntil:function(u,h,p){return X(u,"nextSibling",p)},prevUntil:function(u,h,p){return X(u,"previousSibling",p)},siblings:function(u){return J((u.parentNode||{}).firstChild,u)},children:function(u){return J(u.firstChild)},contents:function(u){return u.contentDocument!=null&&r(u.contentDocument)?u.contentDocument:(x(u,"template")&&(u=u.content||u),g.merge([],u.childNodes))}},function(u,h){g.fn[u]=function(p,m){var C=g.map(this,h,p);return u.slice(-5)!=="Until"&&(m=p),m&&typeof m=="string"&&(C=g.filter(m,C)),this.length>1&&(ie[u]||g.uniqueSort(C),oe.test(u)&&C.reverse()),this.pushStack(C)}});var Ze=/[^\x20\t\r\n\f]+/g;function at(u){var h={};return g.each(u.match(Ze)||[],function(p,m){h[m]=!0}),h}g.Callbacks=function(u){u=typeof u=="string"?at(u):g.extend({},u);var h,p,m,C,b=[],E=[],L=-1,R=function(){for(C=C||u.once,m=h=!0;E.length;L=-1)for(p=E.shift();++L<b.length;)b[L].apply(p[0],p[1])===!1&&u.stopOnFalse&&(L=b.length,p=!1);u.memory||(p=!1),h=!1,C&&(p?b=[]:b="")},W={add:function(){return b&&(p&&!h&&(L=b.length-1,E.push(p)),function re(le){g.each(le,function(K,fe){w(fe)?(!u.unique||!W.has(fe))&&b.push(fe):fe&&fe.length&&G(fe)!=="string"&&re(fe)})}(arguments),p&&!h&&R()),this},remove:function(){return g.each(arguments,function(re,le){for(var K;(K=g.inArray(le,b,K))>-1;)b.splice(K,1),K<=L&&L--}),this},has:function(re){return re?g.inArray(re,b)>-1:b.length>0},empty:function(){return b&&(b=[]),this},disable:function(){return C=E=[],b=p="",this},disabled:function(){return!b},lock:function(){return C=E=[],!p&&!h&&(b=p=""),this},locked:function(){return!!C},fireWith:function(re,le){return C||(le=le||[],le=[re,le.slice?le.slice():le],E.push(le),h||R()),this},fire:function(){return W.fireWith(this,arguments),this},fired:function(){return!!m}};return W};function _e(u){return u}function mt(u){throw u}function A(u,h,p,m){var C;try{u&&w(C=u.promise)?C.call(u).done(h).fail(p):u&&w(C=u.then)?C.call(u,h,p):h.apply(void 0,[u].slice(m))}catch(b){p.apply(void 0,[b])}}g.extend({Deferred:function(u){var h=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],p="pending",m={state:function(){return p},always:function(){return C.done(arguments).fail(arguments),this},catch:function(b){return m.then(null,b)},pipe:function(){var b=arguments;return g.Deferred(function(E){g.each(h,function(L,R){var W=w(b[R[4]])&&b[R[4]];C[R[1]](function(){var re=W&&W.apply(this,arguments);re&&w(re.promise)?re.promise().progress(E.notify).done(E.resolve).fail(E.reject):E[R[0]+"With"](this,W?[re]:arguments)})}),b=null}).promise()},then:function(b,E,L){var R=0;function W(re,le,K,fe){return function(){var Ue=this,vt=arguments,Qe=function(){var yn,bi;if(!(re<R)){if(yn=K.apply(Ue,vt),yn===le.promise())throw new TypeError("Thenable self-resolution");bi=yn&&(typeof yn=="object"||typeof yn=="function")&&yn.then,w(bi)?fe?bi.call(yn,W(R,le,_e,fe),W(R,le,mt,fe)):(R++,bi.call(yn,W(R,le,_e,fe),W(R,le,mt,fe),W(R,le,_e,le.notifyWith))):(K!==_e&&(Ue=void 0,vt=[yn]),(fe||le.resolveWith)(Ue,vt))}},Pn=fe?Qe:function(){try{Qe()}catch(yn){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(yn,Pn.error),re+1>=R&&(K!==mt&&(Ue=void 0,vt=[yn]),le.rejectWith(Ue,vt))}};re?Pn():(g.Deferred.getErrorHook?Pn.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(Pn.error=g.Deferred.getStackHook()),e.setTimeout(Pn))}}return g.Deferred(function(re){h[0][3].add(W(0,re,w(L)?L:_e,re.notifyWith)),h[1][3].add(W(0,re,w(b)?b:_e)),h[2][3].add(W(0,re,w(E)?E:mt))}).promise()},promise:function(b){return b!=null?g.extend(b,m):m}},C={};return g.each(h,function(b,E){var L=E[2],R=E[5];m[E[1]]=L.add,R&&L.add(function(){p=R},h[3-b][2].disable,h[3-b][3].disable,h[0][2].lock,h[0][3].lock),L.add(E[3].fire),C[E[0]]=function(){return C[E[0]+"With"](this===C?void 0:this,arguments),this},C[E[0]+"With"]=L.fireWith}),m.promise(C),u&&u.call(C,C),C},when:function(u){var h=arguments.length,p=h,m=Array(p),C=i.call(arguments),b=g.Deferred(),E=function(L){return function(R){m[L]=this,C[L]=arguments.length>1?i.call(arguments):R,--h||b.resolveWith(m,C)}};if(h<=1&&(A(u,b.done(E(p)).resolve,b.reject,!h),b.state()==="pending"||w(C[p]&&C[p].then)))return b.then();for(;p--;)A(C[p],E(p),b.reject);return b.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(u,h){e.console&&e.console.warn&&u&&N.test(u.name)&&e.console.warn("jQuery.Deferred exception: "+u.message,u.stack,h)},g.readyException=function(u){e.setTimeout(function(){throw u})};var O=g.Deferred();g.fn.ready=function(u){return O.then(u).catch(function(h){g.readyException(h)}),this},g.extend({isReady:!1,readyWait:1,ready:function(u){(u===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(u!==!0&&--g.readyWait>0)&&O.resolveWith(M,[g]))}}),g.ready.then=O.then;function F(){M.removeEventListener("DOMContentLoaded",F),e.removeEventListener("load",F),g.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?e.setTimeout(g.ready):(M.addEventListener("DOMContentLoaded",F),e.addEventListener("load",F));var U=function(u,h,p,m,C,b,E){var L=0,R=u.length,W=p==null;if(G(p)==="object"){C=!0;for(L in p)U(u,h,L,p[L],!0,b,E)}else if(m!==void 0&&(C=!0,w(m)||(E=!0),W&&(E?(h.call(u,m),h=null):(W=h,h=function(re,le,K){return W.call(g(re),K)})),h))for(;L<R;L++)h(u[L],p,E?m:m.call(u[L],L,h(u[L],p)));return C?u:W?h.call(u):R?h(u[0],p):b},se=/^-ms-/,Ie=/-([a-z])/g;function Le(u,h){return h.toUpperCase()}function et(u){return u.replace(se,"ms-").replace(Ie,Le)}var en=function(u){return u.nodeType===1||u.nodeType===9||!+u.nodeType};function tn(){this.expando=g.expando+tn.uid++}tn.uid=1,tn.prototype={cache:function(u){var h=u[this.expando];return h||(h={},en(u)&&(u.nodeType?u[this.expando]=h:Object.defineProperty(u,this.expando,{value:h,configurable:!0}))),h},set:function(u,h,p){var m,C=this.cache(u);if(typeof h=="string")C[et(h)]=p;else for(m in h)C[et(m)]=h[m];return C},get:function(u,h){return h===void 0?this.cache(u):u[this.expando]&&u[this.expando][et(h)]},access:function(u,h,p){return h===void 0||h&&typeof h=="string"&&p===void 0?this.get(u,h):(this.set(u,h,p),p!==void 0?p:h)},remove:function(u,h){var p,m=u[this.expando];if(m!==void 0){if(h!==void 0)for(Array.isArray(h)?h=h.map(et):(h=et(h),h=h in m?[h]:h.match(Ze)||[]),p=h.length;p--;)delete m[h[p]];(h===void 0||g.isEmptyObject(m))&&(u.nodeType?u[this.expando]=void 0:delete u[this.expando])}},hasData:function(u){var h=u[this.expando];return h!==void 0&&!g.isEmptyObject(h)}};var me=new tn,xt=new tn,jt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/[A-Z]/g;function Xt(u){return u==="true"?!0:u==="false"?!1:u==="null"?null:u===+u+""?+u:jt.test(u)?JSON.parse(u):u}function pn(u,h,p){var m;if(p===void 0&&u.nodeType===1)if(m="data-"+h.replace($t,"-$&").toLowerCase(),p=u.getAttribute(m),typeof p=="string"){try{p=Xt(p)}catch{}xt.set(u,h,p)}else p=void 0;return p}g.extend({hasData:function(u){return xt.hasData(u)||me.hasData(u)},data:function(u,h,p){return xt.access(u,h,p)},removeData:function(u,h){xt.remove(u,h)},_data:function(u,h,p){return me.access(u,h,p)},_removeData:function(u,h){me.remove(u,h)}}),g.fn.extend({data:function(u,h){var p,m,C,b=this[0],E=b&&b.attributes;if(u===void 0){if(this.length&&(C=xt.get(b),b.nodeType===1&&!me.get(b,"hasDataAttrs"))){for(p=E.length;p--;)E[p]&&(m=E[p].name,m.indexOf("data-")===0&&(m=et(m.slice(5)),pn(b,m,C[m])));me.set(b,"hasDataAttrs",!0)}return C}return typeof u=="object"?this.each(function(){xt.set(this,u)}):U(this,function(L){var R;if(b&&L===void 0)return R=xt.get(b,u),R!==void 0||(R=pn(b,u),R!==void 0)?R:void 0;this.each(function(){xt.set(this,u,L)})},null,h,arguments.length>1,null,!0)},removeData:function(u){return this.each(function(){xt.remove(this,u)})}}),g.extend({queue:function(u,h,p){var m;if(u)return h=(h||"fx")+"queue",m=me.get(u,h),p&&(!m||Array.isArray(p)?m=me.access(u,h,g.makeArray(p)):m.push(p)),m||[]},dequeue:function(u,h){h=h||"fx";var p=g.queue(u,h),m=p.length,C=p.shift(),b=g._queueHooks(u,h),E=function(){g.dequeue(u,h)};C==="inprogress"&&(C=p.shift(),m--),C&&(h==="fx"&&p.unshift("inprogress"),delete b.stop,C.call(u,E,b)),!m&&b&&b.empty.fire()},_queueHooks:function(u,h){var p=h+"queueHooks";return me.get(u,p)||me.access(u,p,{empty:g.Callbacks("once memory").add(function(){me.remove(u,[h+"queue",p])})})}}),g.fn.extend({queue:function(u,h){var p=2;return typeof u!="string"&&(h=u,u="fx",p--),arguments.length<p?g.queue(this[0],u):h===void 0?this:this.each(function(){var m=g.queue(this,u,h);g._queueHooks(this,u),u==="fx"&&m[0]!=="inprogress"&&g.dequeue(this,u)})},dequeue:function(u){return this.each(function(){g.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,h){var p,m=1,C=g.Deferred(),b=this,E=this.length,L=function(){--m||C.resolveWith(b,[b])};for(typeof u!="string"&&(h=u,u=void 0),u=u||"fx";E--;)p=me.get(b[E],u+"queueHooks"),p&&p.empty&&(m++,p.empty.add(L));return L(),C.promise(h)}});var Kn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ii=new RegExp("^(?:([+-])=|)("+Kn+")([a-z%]*)$","i"),fr=["Top","Right","Bottom","Left"],oi=M.documentElement,Ai=function(u){return g.contains(u.ownerDocument,u)},iu={composed:!0};oi.getRootNode&&(Ai=function(u){return g.contains(u.ownerDocument,u)||u.getRootNode(iu)===u.ownerDocument});var as=function(u,h){return u=h||u,u.style.display==="none"||u.style.display===""&&Ai(u)&&g.css(u,"display")==="none"};function ou(u,h,p,m){var C,b,E=20,L=m?function(){return m.cur()}:function(){return g.css(u,h,"")},R=L(),W=p&&p[3]||(g.cssNumber[h]?"":"px"),re=u.nodeType&&(g.cssNumber[h]||W!=="px"&&+R)&&ii.exec(g.css(u,h));if(re&&re[3]!==W){for(R=R/2,W=W||re[3],re=+R||1;E--;)g.style(u,h,re+W),(1-b)*(1-(b=L()/R||.5))<=0&&(E=0),re=re/b;re=re*2,g.style(u,h,re+W),p=p||[]}return p&&(re=+re||+R||0,C=p[1]?re+(p[1]+1)*p[2]:+p[2],m&&(m.unit=W,m.start=re,m.end=C)),C}var su={};function wd(u){var h,p=u.ownerDocument,m=u.nodeName,C=su[m];return C||(h=p.body.appendChild(p.createElement(m)),C=g.css(h,"display"),h.parentNode.removeChild(h),C==="none"&&(C="block"),su[m]=C,C)}function Sr(u,h){for(var p,m,C=[],b=0,E=u.length;b<E;b++)m=u[b],m.style&&(p=m.style.display,h?(p==="none"&&(C[b]=me.get(m,"display")||null,C[b]||(m.style.display="")),m.style.display===""&&as(m)&&(C[b]=wd(m))):p!=="none"&&(C[b]="none",me.set(m,"display",p)));for(b=0;b<E;b++)C[b]!=null&&(u[b].style.display=C[b]);return u}g.fn.extend({show:function(){return Sr(this,!0)},hide:function(){return Sr(this)},toggle:function(u){return typeof u=="boolean"?u?this.show():this.hide():this.each(function(){as(this)?g(this).show():g(this).hide()})}});var Io=/^(?:checkbox|radio)$/i,au=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lu=/^$|^module$|\/(?:java|ecma)script/i;(function(){var u=M.createDocumentFragment(),h=u.appendChild(M.createElement("div")),p=M.createElement("input");p.setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),h.appendChild(p),I.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",I.option=!!h.lastChild})();var hr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hr.tbody=hr.tfoot=hr.colgroup=hr.caption=hr.thead,hr.th=hr.td,I.option||(hr.optgroup=hr.option=[1,"<select multiple='multiple'>","</select>"]);function on(u,h){var p;return typeof u.getElementsByTagName<"u"?p=u.getElementsByTagName(h||"*"):typeof u.querySelectorAll<"u"?p=u.querySelectorAll(h||"*"):p=[],h===void 0||h&&x(u,h)?g.merge([u],p):p}function $g(u,h){for(var p=0,m=u.length;p<m;p++)me.set(u[p],"globalEval",!h||me.get(h[p],"globalEval"))}var g_=/<|&#?\w+;/;function Xw(u,h,p,m,C){for(var b,E,L,R,W,re,le=h.createDocumentFragment(),K=[],fe=0,Ue=u.length;fe<Ue;fe++)if(b=u[fe],b||b===0)if(G(b)==="object")g.merge(K,b.nodeType?[b]:b);else if(!g_.test(b))K.push(h.createTextNode(b));else{for(E=E||le.appendChild(h.createElement("div")),L=(au.exec(b)||["",""])[1].toLowerCase(),R=hr[L]||hr._default,E.innerHTML=R[1]+g.htmlPrefilter(b)+R[2],re=R[0];re--;)E=E.lastChild;g.merge(K,E.childNodes),E=le.firstChild,E.textContent=""}for(le.textContent="",fe=0;b=K[fe++];){if(m&&g.inArray(b,m)>-1){C&&C.push(b);continue}if(W=Ai(b),E=on(le.appendChild(b),"script"),W&&$g(E),p)for(re=0;b=E[re++];)lu.test(b.type||"")&&p.push(b)}return le}var qw=/^([^.]*)(?:\.(.+)|)/;function ha(){return!0}function pa(){return!1}function Xg(u,h,p,m,C,b){var E,L;if(typeof h=="object"){typeof p!="string"&&(m=m||p,p=void 0);for(L in h)Xg(u,L,p,m,h[L],b);return u}if(m==null&&C==null?(C=p,m=p=void 0):C==null&&(typeof p=="string"?(C=m,m=void 0):(C=m,m=p,p=void 0)),C===!1)C=pa;else if(!C)return u;return b===1&&(E=C,C=function(R){return g().off(R),E.apply(this,arguments)},C.guid=E.guid||(E.guid=g.guid++)),u.each(function(){g.event.add(this,h,C,m,p)})}g.event={global:{},add:function(u,h,p,m,C){var b,E,L,R,W,re,le,K,fe,Ue,vt,Qe=me.get(u);if(en(u))for(p.handler&&(b=p,p=b.handler,C=b.selector),C&&g.find.matchesSelector(oi,C),p.guid||(p.guid=g.guid++),(R=Qe.events)||(R=Qe.events=Object.create(null)),(E=Qe.handle)||(E=Qe.handle=function(Pn){return typeof g<"u"&&g.event.triggered!==Pn.type?g.event.dispatch.apply(u,arguments):void 0}),h=(h||"").match(Ze)||[""],W=h.length;W--;)L=qw.exec(h[W])||[],fe=vt=L[1],Ue=(L[2]||"").split(".").sort(),fe&&(le=g.event.special[fe]||{},fe=(C?le.delegateType:le.bindType)||fe,le=g.event.special[fe]||{},re=g.extend({type:fe,origType:vt,data:m,handler:p,guid:p.guid,selector:C,needsContext:C&&g.expr.match.needsContext.test(C),namespace:Ue.join(".")},b),(K=R[fe])||(K=R[fe]=[],K.delegateCount=0,(!le.setup||le.setup.call(u,m,Ue,E)===!1)&&u.addEventListener&&u.addEventListener(fe,E)),le.add&&(le.add.call(u,re),re.handler.guid||(re.handler.guid=p.guid)),C?K.splice(K.delegateCount++,0,re):K.push(re),g.event.global[fe]=!0)},remove:function(u,h,p,m,C){var b,E,L,R,W,re,le,K,fe,Ue,vt,Qe=me.hasData(u)&&me.get(u);if(!(!Qe||!(R=Qe.events))){for(h=(h||"").match(Ze)||[""],W=h.length;W--;){if(L=qw.exec(h[W])||[],fe=vt=L[1],Ue=(L[2]||"").split(".").sort(),!fe){for(fe in R)g.event.remove(u,fe+h[W],p,m,!0);continue}for(le=g.event.special[fe]||{},fe=(m?le.delegateType:le.bindType)||fe,K=R[fe]||[],L=L[2]&&new RegExp("(^|\\.)"+Ue.join("\\.(?:.*\\.|)")+"(\\.|$)"),E=b=K.length;b--;)re=K[b],(C||vt===re.origType)&&(!p||p.guid===re.guid)&&(!L||L.test(re.namespace))&&(!m||m===re.selector||m==="**"&&re.selector)&&(K.splice(b,1),re.selector&&K.delegateCount--,le.remove&&le.remove.call(u,re));E&&!K.length&&((!le.teardown||le.teardown.call(u,Ue,Qe.handle)===!1)&&g.removeEvent(u,fe,Qe.handle),delete R[fe])}g.isEmptyObject(R)&&me.remove(u,"handle events")}},dispatch:function(u){var h,p,m,C,b,E,L=new Array(arguments.length),R=g.event.fix(u),W=(me.get(this,"events")||Object.create(null))[R.type]||[],re=g.event.special[R.type]||{};for(L[0]=R,h=1;h<arguments.length;h++)L[h]=arguments[h];if(R.delegateTarget=this,!(re.preDispatch&&re.preDispatch.call(this,R)===!1)){for(E=g.event.handlers.call(this,R,W),h=0;(C=E[h++])&&!R.isPropagationStopped();)for(R.currentTarget=C.elem,p=0;(b=C.handlers[p++])&&!R.isImmediatePropagationStopped();)(!R.rnamespace||b.namespace===!1||R.rnamespace.test(b.namespace))&&(R.handleObj=b,R.data=b.data,m=((g.event.special[b.origType]||{}).handle||b.handler).apply(C.elem,L),m!==void 0&&(R.result=m)===!1&&(R.preventDefault(),R.stopPropagation()));return re.postDispatch&&re.postDispatch.call(this,R),R.result}},handlers:function(u,h){var p,m,C,b,E,L=[],R=h.delegateCount,W=u.target;if(R&&W.nodeType&&!(u.type==="click"&&u.button>=1)){for(;W!==this;W=W.parentNode||this)if(W.nodeType===1&&!(u.type==="click"&&W.disabled===!0)){for(b=[],E={},p=0;p<R;p++)m=h[p],C=m.selector+" ",E[C]===void 0&&(E[C]=m.needsContext?g(C,this).index(W)>-1:g.find(C,this,null,[W]).length),E[C]&&b.push(m);b.length&&L.push({elem:W,handlers:b})}}return W=this,R<h.length&&L.push({elem:W,handlers:h.slice(R)}),L},addProp:function(u,h){Object.defineProperty(g.Event.prototype,u,{enumerable:!0,configurable:!0,get:w(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[u]},set:function(p){Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,value:p})}})},fix:function(u){return u[g.expando]?u:new g.Event(u)},special:{load:{noBubble:!0},click:{setup:function(u){var h=this||u;return Io.test(h.type)&&h.click&&x(h,"input")&&Ad(h,"click",!0),!1},trigger:function(u){var h=this||u;return Io.test(h.type)&&h.click&&x(h,"input")&&Ad(h,"click"),!0},_default:function(u){var h=u.target;return Io.test(h.type)&&h.click&&x(h,"input")&&me.get(h,"click")||x(h,"a")}},beforeunload:{postDispatch:function(u){u.result!==void 0&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}}};function Ad(u,h,p){if(!p){me.get(u,h)===void 0&&g.event.add(u,h,ha);return}me.set(u,h,!1),g.event.add(u,h,{namespace:!1,handler:function(m){var C,b=me.get(this,h);if(m.isTrigger&1&&this[h]){if(b)(g.event.special[h]||{}).delegateType&&m.stopPropagation();else if(b=i.call(arguments),me.set(this,h,b),this[h](),C=me.get(this,h),me.set(this,h,!1),b!==C)return m.stopImmediatePropagation(),m.preventDefault(),C}else b&&(me.set(this,h,g.event.trigger(b[0],b.slice(1),this)),m.stopPropagation(),m.isImmediatePropagationStopped=ha)}})}g.removeEvent=function(u,h,p){u.removeEventListener&&u.removeEventListener(h,p)},g.Event=function(u,h){if(!(this instanceof g.Event))return new g.Event(u,h);u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===void 0&&u.returnValue===!1?ha:pa,this.target=u.target&&u.target.nodeType===3?u.target.parentNode:u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget):this.type=u,h&&g.extend(this,h),this.timeStamp=u&&u.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:pa,isPropagationStopped:pa,isImmediatePropagationStopped:pa,isSimulated:!1,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=ha,u&&!this.isSimulated&&u.preventDefault()},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=ha,u&&!this.isSimulated&&u.stopPropagation()},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=ha,u&&!this.isSimulated&&u.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(u,h){function p(m){if(M.documentMode){var C=me.get(this,"handle"),b=g.event.fix(m);b.type=m.type==="focusin"?"focus":"blur",b.isSimulated=!0,C(m),b.target===b.currentTarget&&C(b)}else g.event.simulate(h,m.target,g.event.fix(m))}g.event.special[u]={setup:function(){var m;if(Ad(this,u,!0),M.documentMode)m=me.get(this,h),m||this.addEventListener(h,p),me.set(this,h,(m||0)+1);else return!1},trigger:function(){return Ad(this,u),!0},teardown:function(){var m;if(M.documentMode)m=me.get(this,h)-1,m?me.set(this,h,m):(this.removeEventListener(h,p),me.remove(this,h));else return!1},_default:function(m){return me.get(m.target,u)},delegateType:h},g.event.special[h]={setup:function(){var m=this.ownerDocument||this.document||this,C=M.documentMode?this:m,b=me.get(C,h);b||(M.documentMode?this.addEventListener(h,p):m.addEventListener(u,p,!0)),me.set(C,h,(b||0)+1)},teardown:function(){var m=this.ownerDocument||this.document||this,C=M.documentMode?this:m,b=me.get(C,h)-1;b?me.set(C,h,b):(M.documentMode?this.removeEventListener(h,p):m.removeEventListener(u,p,!0),me.remove(C,h))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,h){g.event.special[u]={delegateType:h,bindType:h,handle:function(p){var m,C=this,b=p.relatedTarget,E=p.handleObj;return(!b||b!==C&&!g.contains(C,b))&&(p.type=E.origType,m=E.handler.apply(this,arguments),p.type=h),m}}}),g.fn.extend({on:function(u,h,p,m){return Xg(this,u,h,p,m)},one:function(u,h,p,m){return Xg(this,u,h,p,m,1)},off:function(u,h,p){var m,C;if(u&&u.preventDefault&&u.handleObj)return m=u.handleObj,g(u.delegateTarget).off(m.namespace?m.origType+"."+m.namespace:m.origType,m.selector,m.handler),this;if(typeof u=="object"){for(C in u)this.off(C,h,u[C]);return this}return(h===!1||typeof h=="function")&&(p=h,h=void 0),p===!1&&(p=pa),this.each(function(){g.event.remove(this,u,p,h)})}});var m_=/<script|<style|<link/i,v_=/checked\s*(?:[^=]|=\s*.checked.)/i,y_=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Jw(u,h){return x(u,"table")&&x(h.nodeType!==11?h:h.firstChild,"tr")&&g(u).children("tbody")[0]||u}function I_(u){return u.type=(u.getAttribute("type")!==null)+"/"+u.type,u}function C_(u){return(u.type||"").slice(0,5)==="true/"?u.type=u.type.slice(5):u.removeAttribute("type"),u}function Qw(u,h){var p,m,C,b,E,L,R;if(h.nodeType===1){if(me.hasData(u)&&(b=me.get(u),R=b.events,R)){me.remove(h,"handle events");for(C in R)for(p=0,m=R[C].length;p<m;p++)g.event.add(h,C,R[C][p])}xt.hasData(u)&&(E=xt.access(u),L=g.extend({},E),xt.set(h,L))}}function w_(u,h){var p=h.nodeName.toLowerCase();p==="input"&&Io.test(u.type)?h.checked=u.checked:(p==="input"||p==="textarea")&&(h.defaultValue=u.defaultValue)}function ga(u,h,p,m){h=o(h);var C,b,E,L,R,W,re=0,le=u.length,K=le-1,fe=h[0],Ue=w(fe);if(Ue||le>1&&typeof fe=="string"&&!I.checkClone&&v_.test(fe))return u.each(function(vt){var Qe=u.eq(vt);Ue&&(h[0]=fe.call(this,vt,Qe.html())),ga(Qe,h,p,m)});if(le&&(C=Xw(h,u[0].ownerDocument,!1,u,m),b=C.firstChild,C.childNodes.length===1&&(C=b),b||m)){for(E=g.map(on(C,"script"),I_),L=E.length;re<le;re++)R=C,re!==K&&(R=g.clone(R,!0,!0),L&&g.merge(E,on(R,"script"))),p.call(u[re],R,re);if(L)for(W=E[E.length-1].ownerDocument,g.map(E,C_),re=0;re<L;re++)R=E[re],lu.test(R.type||"")&&!me.access(R,"globalEval")&&g.contains(W,R)&&(R.src&&(R.type||"").toLowerCase()!=="module"?g._evalUrl&&!R.noModule&&g._evalUrl(R.src,{nonce:R.nonce||R.getAttribute("nonce")},W):B(R.textContent.replace(y_,""),R,W))}return u}function Kw(u,h,p){for(var m,C=h?g.filter(h,u):u,b=0;(m=C[b])!=null;b++)!p&&m.nodeType===1&&g.cleanData(on(m)),m.parentNode&&(p&&Ai(m)&&$g(on(m,"script")),m.parentNode.removeChild(m));return u}g.extend({htmlPrefilter:function(u){return u},clone:function(u,h,p){var m,C,b,E,L=u.cloneNode(!0),R=Ai(u);if(!I.noCloneChecked&&(u.nodeType===1||u.nodeType===11)&&!g.isXMLDoc(u))for(E=on(L),b=on(u),m=0,C=b.length;m<C;m++)w_(b[m],E[m]);if(h)if(p)for(b=b||on(u),E=E||on(L),m=0,C=b.length;m<C;m++)Qw(b[m],E[m]);else Qw(u,L);return E=on(L,"script"),E.length>0&&$g(E,!R&&on(u,"script")),L},cleanData:function(u){for(var h,p,m,C=g.event.special,b=0;(p=u[b])!==void 0;b++)if(en(p)){if(h=p[me.expando]){if(h.events)for(m in h.events)C[m]?g.event.remove(p,m):g.removeEvent(p,m,h.handle);p[me.expando]=void 0}p[xt.expando]&&(p[xt.expando]=void 0)}}}),g.fn.extend({detach:function(u){return Kw(this,u,!0)},remove:function(u){return Kw(this,u)},text:function(u){return U(this,function(h){return h===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=h)})},null,u,arguments.length)},append:function(){return ga(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=Jw(this,u);h.appendChild(u)}})},prepend:function(){return ga(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=Jw(this,u);h.insertBefore(u,h.firstChild)}})},before:function(){return ga(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return ga(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},empty:function(){for(var u,h=0;(u=this[h])!=null;h++)u.nodeType===1&&(g.cleanData(on(u,!1)),u.textContent="");return this},clone:function(u,h){return u=u??!1,h=h??u,this.map(function(){return g.clone(this,u,h)})},html:function(u){return U(this,function(h){var p=this[0]||{},m=0,C=this.length;if(h===void 0&&p.nodeType===1)return p.innerHTML;if(typeof h=="string"&&!m_.test(h)&&!hr[(au.exec(h)||["",""])[1].toLowerCase()]){h=g.htmlPrefilter(h);try{for(;m<C;m++)p=this[m]||{},p.nodeType===1&&(g.cleanData(on(p,!1)),p.innerHTML=h);p=0}catch{}}p&&this.empty().append(h)},null,u,arguments.length)},replaceWith:function(){var u=[];return ga(this,arguments,function(h){var p=this.parentNode;g.inArray(this,u)<0&&(g.cleanData(on(this)),p&&p.replaceChild(h,this))},u)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,h){g.fn[u]=function(p){for(var m,C=[],b=g(p),E=b.length-1,L=0;L<=E;L++)m=L===E?this:this.clone(!0),g(b[L])[h](m),s.apply(C,m.get());return this.pushStack(C)}});var qg=new RegExp("^("+Kn+")(?!px)[a-z%]+$","i"),Jg=/^--/,bd=function(u){var h=u.ownerDocument.defaultView;return(!h||!h.opener)&&(h=e),h.getComputedStyle(u)},eA=function(u,h,p){var m,C,b={};for(C in h)b[C]=u.style[C],u.style[C]=h[C];m=p.call(u);for(C in h)u.style[C]=b[C];return m},A_=new RegExp(fr.join("|"),"i");(function(){function u(){if(W){R.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",W.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oi.appendChild(R).appendChild(W);var re=e.getComputedStyle(W);p=re.top!=="1%",L=h(re.marginLeft)===12,W.style.right="60%",b=h(re.right)===36,m=h(re.width)===36,W.style.position="absolute",C=h(W.offsetWidth/3)===12,oi.removeChild(R),W=null}}function h(re){return Math.round(parseFloat(re))}var p,m,C,b,E,L,R=M.createElement("div"),W=M.createElement("div");W.style&&(W.style.backgroundClip="content-box",W.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=W.style.backgroundClip==="content-box",g.extend(I,{boxSizingReliable:function(){return u(),m},pixelBoxStyles:function(){return u(),b},pixelPosition:function(){return u(),p},reliableMarginLeft:function(){return u(),L},scrollboxSize:function(){return u(),C},reliableTrDimensions:function(){var re,le,K,fe;return E==null&&(re=M.createElement("table"),le=M.createElement("tr"),K=M.createElement("div"),re.style.cssText="position:absolute;left:-11111px;border-collapse:separate",le.style.cssText="box-sizing:content-box;border:1px solid",le.style.height="1px",K.style.height="9px",K.style.display="block",oi.appendChild(re).appendChild(le).appendChild(K),fe=e.getComputedStyle(le),E=parseInt(fe.height,10)+parseInt(fe.borderTopWidth,10)+parseInt(fe.borderBottomWidth,10)===le.offsetHeight,oi.removeChild(re)),E}}))})();function uu(u,h,p){var m,C,b,E,L=Jg.test(h),R=u.style;return p=p||bd(u),p&&(E=p.getPropertyValue(h)||p[h],L&&E&&(E=E.replace(Y,"$1")||void 0),E===""&&!Ai(u)&&(E=g.style(u,h)),!I.pixelBoxStyles()&&qg.test(E)&&A_.test(h)&&(m=R.width,C=R.minWidth,b=R.maxWidth,R.minWidth=R.maxWidth=R.width=E,E=p.width,R.width=m,R.minWidth=C,R.maxWidth=b)),E!==void 0?E+"":E}function tA(u,h){return{get:function(){if(u()){delete this.get;return}return(this.get=h).apply(this,arguments)}}}var nA=["Webkit","Moz","ms"],rA=M.createElement("div").style,iA={};function b_(u){for(var h=u[0].toUpperCase()+u.slice(1),p=nA.length;p--;)if(u=nA[p]+h,u in rA)return u}function Qg(u){var h=g.cssProps[u]||iA[u];return h||(u in rA?u:iA[u]=b_(u)||u)}var x_=/^(none|table(?!-c[ea]).+)/,D_={position:"absolute",visibility:"hidden",display:"block"},oA={letterSpacing:"0",fontWeight:"400"};function sA(u,h,p){var m=ii.exec(h);return m?Math.max(0,m[2]-(p||0))+(m[3]||"px"):h}function Kg(u,h,p,m,C,b){var E=h==="width"?1:0,L=0,R=0,W=0;if(p===(m?"border":"content"))return 0;for(;E<4;E+=2)p==="margin"&&(W+=g.css(u,p+fr[E],!0,C)),m?(p==="content"&&(R-=g.css(u,"padding"+fr[E],!0,C)),p!=="margin"&&(R-=g.css(u,"border"+fr[E]+"Width",!0,C))):(R+=g.css(u,"padding"+fr[E],!0,C),p!=="padding"?R+=g.css(u,"border"+fr[E]+"Width",!0,C):L+=g.css(u,"border"+fr[E]+"Width",!0,C));return!m&&b>=0&&(R+=Math.max(0,Math.ceil(u["offset"+h[0].toUpperCase()+h.slice(1)]-b-R-L-.5))||0),R+W}function aA(u,h,p){var m=bd(u),C=!I.boxSizingReliable()||p,b=C&&g.css(u,"boxSizing",!1,m)==="border-box",E=b,L=uu(u,h,m),R="offset"+h[0].toUpperCase()+h.slice(1);if(qg.test(L)){if(!p)return L;L="auto"}return(!I.boxSizingReliable()&&b||!I.reliableTrDimensions()&&x(u,"tr")||L==="auto"||!parseFloat(L)&&g.css(u,"display",!1,m)==="inline")&&u.getClientRects().length&&(b=g.css(u,"boxSizing",!1,m)==="border-box",E=R in u,E&&(L=u[R])),L=parseFloat(L)||0,L+Kg(u,h,p||(b?"border":"content"),E,m,L)+"px"}g.extend({cssHooks:{opacity:{get:function(u,h){if(h){var p=uu(u,"opacity");return p===""?"1":p}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(u,h,p,m){if(!(!u||u.nodeType===3||u.nodeType===8||!u.style)){var C,b,E,L=et(h),R=Jg.test(h),W=u.style;if(R||(h=Qg(L)),E=g.cssHooks[h]||g.cssHooks[L],p!==void 0){if(b=typeof p,b==="string"&&(C=ii.exec(p))&&C[1]&&(p=ou(u,h,C),b="number"),p==null||p!==p)return;b==="number"&&!R&&(p+=C&&C[3]||(g.cssNumber[L]?"":"px")),!I.clearCloneStyle&&p===""&&h.indexOf("background")===0&&(W[h]="inherit"),(!E||!("set"in E)||(p=E.set(u,p,m))!==void 0)&&(R?W.setProperty(h,p):W[h]=p)}else return E&&"get"in E&&(C=E.get(u,!1,m))!==void 0?C:W[h]}},css:function(u,h,p,m){var C,b,E,L=et(h),R=Jg.test(h);return R||(h=Qg(L)),E=g.cssHooks[h]||g.cssHooks[L],E&&"get"in E&&(C=E.get(u,!0,p)),C===void 0&&(C=uu(u,h,m)),C==="normal"&&h in oA&&(C=oA[h]),p===""||p?(b=parseFloat(C),p===!0||isFinite(b)?b||0:C):C}}),g.each(["height","width"],function(u,h){g.cssHooks[h]={get:function(p,m,C){if(m)return x_.test(g.css(p,"display"))&&(!p.getClientRects().length||!p.getBoundingClientRect().width)?eA(p,D_,function(){return aA(p,h,C)}):aA(p,h,C)},set:function(p,m,C){var b,E=bd(p),L=!I.scrollboxSize()&&E.position==="absolute",R=L||C,W=R&&g.css(p,"boxSizing",!1,E)==="border-box",re=C?Kg(p,h,C,W,E):0;return W&&L&&(re-=Math.ceil(p["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(E[h])-Kg(p,h,"border",!1,E)-.5)),re&&(b=ii.exec(m))&&(b[3]||"px")!=="px"&&(p.style[h]=m,m=g.css(p,h)),sA(p,m,re)}}}),g.cssHooks.marginLeft=tA(I.reliableMarginLeft,function(u,h){if(h)return(parseFloat(uu(u,"marginLeft"))||u.getBoundingClientRect().left-eA(u,{marginLeft:0},function(){return u.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(u,h){g.cssHooks[u+h]={expand:function(p){for(var m=0,C={},b=typeof p=="string"?p.split(" "):[p];m<4;m++)C[u+fr[m]+h]=b[m]||b[m-2]||b[0];return C}},u!=="margin"&&(g.cssHooks[u+h].set=sA)}),g.fn.extend({css:function(u,h){return U(this,function(p,m,C){var b,E,L={},R=0;if(Array.isArray(m)){for(b=bd(p),E=m.length;R<E;R++)L[m[R]]=g.css(p,m[R],!1,b);return L}return C!==void 0?g.style(p,m,C):g.css(p,m)},u,h,arguments.length>1)}});function pr(u,h,p,m,C){return new pr.prototype.init(u,h,p,m,C)}g.Tween=pr,pr.prototype={constructor:pr,init:function(u,h,p,m,C,b){this.elem=u,this.prop=p,this.easing=C||g.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=m,this.unit=b||(g.cssNumber[p]?"":"px")},cur:function(){var u=pr.propHooks[this.prop];return u&&u.get?u.get(this):pr.propHooks._default.get(this)},run:function(u){var h,p=pr.propHooks[this.prop];return this.options.duration?this.pos=h=g.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):this.pos=h=u,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),p&&p.set?p.set(this):pr.propHooks._default.set(this),this}},pr.prototype.init.prototype=pr.prototype,pr.propHooks={_default:{get:function(u){var h;return u.elem.nodeType!==1||u.elem[u.prop]!=null&&u.elem.style[u.prop]==null?u.elem[u.prop]:(h=g.css(u.elem,u.prop,""),!h||h==="auto"?0:h)},set:function(u){g.fx.step[u.prop]?g.fx.step[u.prop](u):u.elem.nodeType===1&&(g.cssHooks[u.prop]||u.elem.style[Qg(u.prop)]!=null)?g.style(u.elem,u.prop,u.now+u.unit):u.elem[u.prop]=u.now}}},pr.propHooks.scrollTop=pr.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},g.easing={linear:function(u){return u},swing:function(u){return .5-Math.cos(u*Math.PI)/2},_default:"swing"},g.fx=pr.prototype.init,g.fx.step={};var ma,xd,M_=/^(?:toggle|show|hide)$/,E_=/queueHooks$/;function em(){xd&&(M.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(em):e.setTimeout(em,g.fx.interval),g.fx.tick())}function lA(){return e.setTimeout(function(){ma=void 0}),ma=Date.now()}function Dd(u,h){var p,m=0,C={height:u};for(h=h?1:0;m<4;m+=2-h)p=fr[m],C["margin"+p]=C["padding"+p]=u;return h&&(C.opacity=C.width=u),C}function uA(u,h,p){for(var m,C=(si.tweeners[h]||[]).concat(si.tweeners["*"]),b=0,E=C.length;b<E;b++)if(m=C[b].call(p,h,u))return m}function S_(u,h,p){var m,C,b,E,L,R,W,re,le="width"in h||"height"in h,K=this,fe={},Ue=u.style,vt=u.nodeType&&as(u),Qe=me.get(u,"fxshow");p.queue||(E=g._queueHooks(u,"fx"),E.unqueued==null&&(E.unqueued=0,L=E.empty.fire,E.empty.fire=function(){E.unqueued||L()}),E.unqueued++,K.always(function(){K.always(function(){E.unqueued--,g.queue(u,"fx").length||E.empty.fire()})}));for(m in h)if(C=h[m],M_.test(C)){if(delete h[m],b=b||C==="toggle",C===(vt?"hide":"show"))if(C==="show"&&Qe&&Qe[m]!==void 0)vt=!0;else continue;fe[m]=Qe&&Qe[m]||g.style(u,m)}if(R=!g.isEmptyObject(h),!(!R&&g.isEmptyObject(fe))){le&&u.nodeType===1&&(p.overflow=[Ue.overflow,Ue.overflowX,Ue.overflowY],W=Qe&&Qe.display,W==null&&(W=me.get(u,"display")),re=g.css(u,"display"),re==="none"&&(W?re=W:(Sr([u],!0),W=u.style.display||W,re=g.css(u,"display"),Sr([u]))),(re==="inline"||re==="inline-block"&&W!=null)&&g.css(u,"float")==="none"&&(R||(K.done(function(){Ue.display=W}),W==null&&(re=Ue.display,W=re==="none"?"":re)),Ue.display="inline-block")),p.overflow&&(Ue.overflow="hidden",K.always(function(){Ue.overflow=p.overflow[0],Ue.overflowX=p.overflow[1],Ue.overflowY=p.overflow[2]})),R=!1;for(m in fe)R||(Qe?"hidden"in Qe&&(vt=Qe.hidden):Qe=me.access(u,"fxshow",{display:W}),b&&(Qe.hidden=!vt),vt&&Sr([u],!0),K.done(function(){vt||Sr([u]),me.remove(u,"fxshow");for(m in fe)g.style(u,m,fe[m])})),R=uA(vt?Qe[m]:0,m,K),m in Qe||(Qe[m]=R.start,vt&&(R.end=R.start,R.start=0))}}function N_(u,h){var p,m,C,b,E;for(p in u)if(m=et(p),C=h[m],b=u[p],Array.isArray(b)&&(C=b[1],b=u[p]=b[0]),p!==m&&(u[m]=b,delete u[p]),E=g.cssHooks[m],E&&"expand"in E){b=E.expand(b),delete u[m];for(p in b)p in u||(u[p]=b[p],h[p]=C)}else h[m]=C}function si(u,h,p){var m,C,b=0,E=si.prefilters.length,L=g.Deferred().always(function(){delete R.elem}),R=function(){if(C)return!1;for(var le=ma||lA(),K=Math.max(0,W.startTime+W.duration-le),fe=K/W.duration||0,Ue=1-fe,vt=0,Qe=W.tweens.length;vt<Qe;vt++)W.tweens[vt].run(Ue);return L.notifyWith(u,[W,Ue,K]),Ue<1&&Qe?K:(Qe||L.notifyWith(u,[W,1,0]),L.resolveWith(u,[W]),!1)},W=L.promise({elem:u,props:g.extend({},h),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},p),originalProperties:h,originalOptions:p,startTime:ma||lA(),duration:p.duration,tweens:[],createTween:function(le,K){var fe=g.Tween(u,W.opts,le,K,W.opts.specialEasing[le]||W.opts.easing);return W.tweens.push(fe),fe},stop:function(le){var K=0,fe=le?W.tweens.length:0;if(C)return this;for(C=!0;K<fe;K++)W.tweens[K].run(1);return le?(L.notifyWith(u,[W,1,0]),L.resolveWith(u,[W,le])):L.rejectWith(u,[W,le]),this}}),re=W.props;for(N_(re,W.opts.specialEasing);b<E;b++)if(m=si.prefilters[b].call(W,u,re,W.opts),m)return w(m.stop)&&(g._queueHooks(W.elem,W.opts.queue).stop=m.stop.bind(m)),m;return g.map(re,uA,W),w(W.opts.start)&&W.opts.start.call(u,W),W.progress(W.opts.progress).done(W.opts.done,W.opts.complete).fail(W.opts.fail).always(W.opts.always),g.fx.timer(g.extend(R,{elem:u,anim:W,queue:W.opts.queue})),W}g.Animation=g.extend(si,{tweeners:{"*":[function(u,h){var p=this.createTween(u,h);return ou(p.elem,u,ii.exec(h),p),p}]},tweener:function(u,h){w(u)?(h=u,u=["*"]):u=u.match(Ze);for(var p,m=0,C=u.length;m<C;m++)p=u[m],si.tweeners[p]=si.tweeners[p]||[],si.tweeners[p].unshift(h)},prefilters:[S_],prefilter:function(u,h){h?si.prefilters.unshift(u):si.prefilters.push(u)}}),g.speed=function(u,h,p){var m=u&&typeof u=="object"?g.extend({},u):{complete:p||!p&&h||w(u)&&u,duration:u,easing:p&&h||h&&!w(h)&&h};return g.fx.off?m.duration=0:typeof m.duration!="number"&&(m.duration in g.fx.speeds?m.duration=g.fx.speeds[m.duration]:m.duration=g.fx.speeds._default),(m.queue==null||m.queue===!0)&&(m.queue="fx"),m.old=m.complete,m.complete=function(){w(m.old)&&m.old.call(this),m.queue&&g.dequeue(this,m.queue)},m},g.fn.extend({fadeTo:function(u,h,p,m){return this.filter(as).css("opacity",0).show().end().animate({opacity:h},u,p,m)},animate:function(u,h,p,m){var C=g.isEmptyObject(u),b=g.speed(h,p,m),E=function(){var L=si(this,g.extend({},u),b);(C||me.get(this,"finish"))&&L.stop(!0)};return E.finish=E,C||b.queue===!1?this.each(E):this.queue(b.queue,E)},stop:function(u,h,p){var m=function(C){var b=C.stop;delete C.stop,b(p)};return typeof u!="string"&&(p=h,h=u,u=void 0),h&&this.queue(u||"fx",[]),this.each(function(){var C=!0,b=u!=null&&u+"queueHooks",E=g.timers,L=me.get(this);if(b)L[b]&&L[b].stop&&m(L[b]);else for(b in L)L[b]&&L[b].stop&&E_.test(b)&&m(L[b]);for(b=E.length;b--;)E[b].elem===this&&(u==null||E[b].queue===u)&&(E[b].anim.stop(p),C=!1,E.splice(b,1));(C||!p)&&g.dequeue(this,u)})},finish:function(u){return u!==!1&&(u=u||"fx"),this.each(function(){var h,p=me.get(this),m=p[u+"queue"],C=p[u+"queueHooks"],b=g.timers,E=m?m.length:0;for(p.finish=!0,g.queue(this,u,[]),C&&C.stop&&C.stop.call(this,!0),h=b.length;h--;)b[h].elem===this&&b[h].queue===u&&(b[h].anim.stop(!0),b.splice(h,1));for(h=0;h<E;h++)m[h]&&m[h].finish&&m[h].finish.call(this);delete p.finish})}}),g.each(["toggle","show","hide"],function(u,h){var p=g.fn[h];g.fn[h]=function(m,C,b){return m==null||typeof m=="boolean"?p.apply(this,arguments):this.animate(Dd(h,!0),m,C,b)}}),g.each({slideDown:Dd("show"),slideUp:Dd("hide"),slideToggle:Dd("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,h){g.fn[u]=function(p,m,C){return this.animate(h,p,m,C)}}),g.timers=[],g.fx.tick=function(){var u,h=0,p=g.timers;for(ma=Date.now();h<p.length;h++)u=p[h],!u()&&p[h]===u&&p.splice(h--,1);p.length||g.fx.stop(),ma=void 0},g.fx.timer=function(u){g.timers.push(u),g.fx.start()},g.fx.interval=13,g.fx.start=function(){xd||(xd=!0,em())},g.fx.stop=function(){xd=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(u,h){return u=g.fx&&g.fx.speeds[u]||u,h=h||"fx",this.queue(h,function(p,m){var C=e.setTimeout(p,u);m.stop=function(){e.clearTimeout(C)}})},function(){var u=M.createElement("input"),h=M.createElement("select"),p=h.appendChild(M.createElement("option"));u.type="checkbox",I.checkOn=u.value!=="",I.optSelected=p.selected,u=M.createElement("input"),u.value="t",u.type="radio",I.radioValue=u.value==="t"}();var cA,cu=g.expr.attrHandle;g.fn.extend({attr:function(u,h){return U(this,g.attr,u,h,arguments.length>1)},removeAttr:function(u){return this.each(function(){g.removeAttr(this,u)})}}),g.extend({attr:function(u,h,p){var m,C,b=u.nodeType;if(!(b===3||b===8||b===2)){if(typeof u.getAttribute>"u")return g.prop(u,h,p);if((b!==1||!g.isXMLDoc(u))&&(C=g.attrHooks[h.toLowerCase()]||(g.expr.match.bool.test(h)?cA:void 0)),p!==void 0){if(p===null){g.removeAttr(u,h);return}return C&&"set"in C&&(m=C.set(u,p,h))!==void 0?m:(u.setAttribute(h,p+""),p)}return C&&"get"in C&&(m=C.get(u,h))!==null?m:(m=g.find.attr(u,h),m??void 0)}},attrHooks:{type:{set:function(u,h){if(!I.radioValue&&h==="radio"&&x(u,"input")){var p=u.value;return u.setAttribute("type",h),p&&(u.value=p),h}}}},removeAttr:function(u,h){var p,m=0,C=h&&h.match(Ze);if(C&&u.nodeType===1)for(;p=C[m++];)u.removeAttribute(p)}}),cA={set:function(u,h,p){return h===!1?g.removeAttr(u,p):u.setAttribute(p,p),p}},g.each(g.expr.match.bool.source.match(/\w+/g),function(u,h){var p=cu[h]||g.find.attr;cu[h]=function(m,C,b){var E,L,R=C.toLowerCase();return b||(L=cu[R],cu[R]=E,E=p(m,C,b)!=null?R:null,cu[R]=L),E}});var T_=/^(?:input|select|textarea|button)$/i,__=/^(?:a|area)$/i;g.fn.extend({prop:function(u,h){return U(this,g.prop,u,h,arguments.length>1)},removeProp:function(u){return this.each(function(){delete this[g.propFix[u]||u]})}}),g.extend({prop:function(u,h,p){var m,C,b=u.nodeType;if(!(b===3||b===8||b===2))return(b!==1||!g.isXMLDoc(u))&&(h=g.propFix[h]||h,C=g.propHooks[h]),p!==void 0?C&&"set"in C&&(m=C.set(u,p,h))!==void 0?m:u[h]=p:C&&"get"in C&&(m=C.get(u,h))!==null?m:u[h]},propHooks:{tabIndex:{get:function(u){var h=g.find.attr(u,"tabindex");return h?parseInt(h,10):T_.test(u.nodeName)||__.test(u.nodeName)&&u.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(g.propHooks.selected={get:function(u){var h=u.parentNode;return h&&h.parentNode&&h.parentNode.selectedIndex,null},set:function(u){var h=u.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function ls(u){var h=u.match(Ze)||[];return h.join(" ")}function us(u){return u.getAttribute&&u.getAttribute("class")||""}function tm(u){return Array.isArray(u)?u:typeof u=="string"?u.match(Ze)||[]:[]}g.fn.extend({addClass:function(u){var h,p,m,C,b,E;return w(u)?this.each(function(L){g(this).addClass(u.call(this,L,us(this)))}):(h=tm(u),h.length?this.each(function(){if(m=us(this),p=this.nodeType===1&&" "+ls(m)+" ",p){for(b=0;b<h.length;b++)C=h[b],p.indexOf(" "+C+" ")<0&&(p+=C+" ");E=ls(p),m!==E&&this.setAttribute("class",E)}}):this)},removeClass:function(u){var h,p,m,C,b,E;return w(u)?this.each(function(L){g(this).removeClass(u.call(this,L,us(this)))}):arguments.length?(h=tm(u),h.length?this.each(function(){if(m=us(this),p=this.nodeType===1&&" "+ls(m)+" ",p){for(b=0;b<h.length;b++)for(C=h[b];p.indexOf(" "+C+" ")>-1;)p=p.replace(" "+C+" "," ");E=ls(p),m!==E&&this.setAttribute("class",E)}}):this):this.attr("class","")},toggleClass:function(u,h){var p,m,C,b,E=typeof u,L=E==="string"||Array.isArray(u);return w(u)?this.each(function(R){g(this).toggleClass(u.call(this,R,us(this),h),h)}):typeof h=="boolean"&&L?h?this.addClass(u):this.removeClass(u):(p=tm(u),this.each(function(){if(L)for(b=g(this),C=0;C<p.length;C++)m=p[C],b.hasClass(m)?b.removeClass(m):b.addClass(m);else(u===void 0||E==="boolean")&&(m=us(this),m&&me.set(this,"__className__",m),this.setAttribute&&this.setAttribute("class",m||u===!1?"":me.get(this,"__className__")||""))}))},hasClass:function(u){var h,p,m=0;for(h=" "+u+" ";p=this[m++];)if(p.nodeType===1&&(" "+ls(us(p))+" ").indexOf(h)>-1)return!0;return!1}});var P_=/\r/g;g.fn.extend({val:function(u){var h,p,m,C=this[0];return arguments.length?(m=w(u),this.each(function(b){var E;this.nodeType===1&&(m?E=u.call(this,b,g(this).val()):E=u,E==null?E="":typeof E=="number"?E+="":Array.isArray(E)&&(E=g.map(E,function(L){return L==null?"":L+""})),h=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!h||!("set"in h)||h.set(this,E,"value")===void 0)&&(this.value=E))})):C?(h=g.valHooks[C.type]||g.valHooks[C.nodeName.toLowerCase()],h&&"get"in h&&(p=h.get(C,"value"))!==void 0?p:(p=C.value,typeof p=="string"?p.replace(P_,""):p??"")):void 0}}),g.extend({valHooks:{option:{get:function(u){var h=g.find.attr(u,"value");return h??ls(g.text(u))}},select:{get:function(u){var h,p,m,C=u.options,b=u.selectedIndex,E=u.type==="select-one",L=E?null:[],R=E?b+1:C.length;for(b<0?m=R:m=E?b:0;m<R;m++)if(p=C[m],(p.selected||m===b)&&!p.disabled&&(!p.parentNode.disabled||!x(p.parentNode,"optgroup"))){if(h=g(p).val(),E)return h;L.push(h)}return L},set:function(u,h){for(var p,m,C=u.options,b=g.makeArray(h),E=C.length;E--;)m=C[E],(m.selected=g.inArray(g.valHooks.option.get(m),b)>-1)&&(p=!0);return p||(u.selectedIndex=-1),b}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(u,h){if(Array.isArray(h))return u.checked=g.inArray(g(u).val(),h)>-1}},I.checkOn||(g.valHooks[this].get=function(u){return u.getAttribute("value")===null?"on":u.value})});var du=e.location,dA={guid:Date.now()},nm=/\?/;g.parseXML=function(u){var h,p;if(!u||typeof u!="string")return null;try{h=new e.DOMParser().parseFromString(u,"text/xml")}catch{}return p=h&&h.getElementsByTagName("parsererror")[0],(!h||p)&&g.error("Invalid XML: "+(p?g.map(p.childNodes,function(m){return m.textContent}).join(`
`):u)),h};var fA=/^(?:focusinfocus|focusoutblur)$/,hA=function(u){u.stopPropagation()};g.extend(g.event,{trigger:function(u,h,p,m){var C,b,E,L,R,W,re,le,K=[p||M],fe=f.call(u,"type")?u.type:u,Ue=f.call(u,"namespace")?u.namespace.split("."):[];if(b=le=E=p=p||M,!(p.nodeType===3||p.nodeType===8)&&!fA.test(fe+g.event.triggered)&&(fe.indexOf(".")>-1&&(Ue=fe.split("."),fe=Ue.shift(),Ue.sort()),R=fe.indexOf(":")<0&&"on"+fe,u=u[g.expando]?u:new g.Event(fe,typeof u=="object"&&u),u.isTrigger=m?2:3,u.namespace=Ue.join("."),u.rnamespace=u.namespace?new RegExp("(^|\\.)"+Ue.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=p),h=h==null?[u]:g.makeArray(h,[u]),re=g.event.special[fe]||{},!(!m&&re.trigger&&re.trigger.apply(p,h)===!1))){if(!m&&!re.noBubble&&!D(p)){for(L=re.delegateType||fe,fA.test(L+fe)||(b=b.parentNode);b;b=b.parentNode)K.push(b),E=b;E===(p.ownerDocument||M)&&K.push(E.defaultView||E.parentWindow||e)}for(C=0;(b=K[C++])&&!u.isPropagationStopped();)le=b,u.type=C>1?L:re.bindType||fe,W=(me.get(b,"events")||Object.create(null))[u.type]&&me.get(b,"handle"),W&&W.apply(b,h),W=R&&b[R],W&&W.apply&&en(b)&&(u.result=W.apply(b,h),u.result===!1&&u.preventDefault());return u.type=fe,!m&&!u.isDefaultPrevented()&&(!re._default||re._default.apply(K.pop(),h)===!1)&&en(p)&&R&&w(p[fe])&&!D(p)&&(E=p[R],E&&(p[R]=null),g.event.triggered=fe,u.isPropagationStopped()&&le.addEventListener(fe,hA),p[fe](),u.isPropagationStopped()&&le.removeEventListener(fe,hA),g.event.triggered=void 0,E&&(p[R]=E)),u.result}},simulate:function(u,h,p){var m=g.extend(new g.Event,p,{type:u,isSimulated:!0});g.event.trigger(m,null,h)}}),g.fn.extend({trigger:function(u,h){return this.each(function(){g.event.trigger(u,h,this)})},triggerHandler:function(u,h){var p=this[0];if(p)return g.event.trigger(u,h,p,!0)}});var O_=/\[\]$/,pA=/\r?\n/g,R_=/^(?:submit|button|image|reset|file)$/i,k_=/^(?:input|select|textarea|keygen)/i;function rm(u,h,p,m){var C;if(Array.isArray(h))g.each(h,function(b,E){p||O_.test(u)?m(u,E):rm(u+"["+(typeof E=="object"&&E!=null?b:"")+"]",E,p,m)});else if(!p&&G(h)==="object")for(C in h)rm(u+"["+C+"]",h[C],p,m);else m(u,h)}g.param=function(u,h){var p,m=[],C=function(b,E){var L=w(E)?E():E;m[m.length]=encodeURIComponent(b)+"="+encodeURIComponent(L??"")};if(u==null)return"";if(Array.isArray(u)||u.jquery&&!g.isPlainObject(u))g.each(u,function(){C(this.name,this.value)});else for(p in u)rm(p,u[p],h,C);return m.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=g.prop(this,"elements");return u?g.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!g(this).is(":disabled")&&k_.test(this.nodeName)&&!R_.test(u)&&(this.checked||!Io.test(u))}).map(function(u,h){var p=g(this).val();return p==null?null:Array.isArray(p)?g.map(p,function(m){return{name:h.name,value:m.replace(pA,`\r
`)}}):{name:h.name,value:p.replace(pA,`\r
`)}}).get()}});var L_=/%20/g,F_=/#.*$/,j_=/([?&])_=[^&]*/,B_=/^(.*?):[ \t]*([^\r\n]*)$/mg,V_=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,z_=/^(?:GET|HEAD)$/,G_=/^\/\//,gA={},im={},mA="*/".concat("*"),om=M.createElement("a");om.href=du.href;function vA(u){return function(h,p){typeof h!="string"&&(p=h,h="*");var m,C=0,b=h.toLowerCase().match(Ze)||[];if(w(p))for(;m=b[C++];)m[0]==="+"?(m=m.slice(1)||"*",(u[m]=u[m]||[]).unshift(p)):(u[m]=u[m]||[]).push(p)}}function yA(u,h,p,m){var C={},b=u===im;function E(L){var R;return C[L]=!0,g.each(u[L]||[],function(W,re){var le=re(h,p,m);if(typeof le=="string"&&!b&&!C[le])return h.dataTypes.unshift(le),E(le),!1;if(b)return!(R=le)}),R}return E(h.dataTypes[0])||!C["*"]&&E("*")}function sm(u,h){var p,m,C=g.ajaxSettings.flatOptions||{};for(p in h)h[p]!==void 0&&((C[p]?u:m||(m={}))[p]=h[p]);return m&&g.extend(!0,u,m),u}function U_(u,h,p){for(var m,C,b,E,L=u.contents,R=u.dataTypes;R[0]==="*";)R.shift(),m===void 0&&(m=u.mimeType||h.getResponseHeader("Content-Type"));if(m){for(C in L)if(L[C]&&L[C].test(m)){R.unshift(C);break}}if(R[0]in p)b=R[0];else{for(C in p){if(!R[0]||u.converters[C+" "+R[0]]){b=C;break}E||(E=C)}b=b||E}if(b)return b!==R[0]&&R.unshift(b),p[b]}function Z_(u,h,p,m){var C,b,E,L,R,W={},re=u.dataTypes.slice();if(re[1])for(E in u.converters)W[E.toLowerCase()]=u.converters[E];for(b=re.shift();b;)if(u.responseFields[b]&&(p[u.responseFields[b]]=h),!R&&m&&u.dataFilter&&(h=u.dataFilter(h,u.dataType)),R=b,b=re.shift(),b){if(b==="*")b=R;else if(R!=="*"&&R!==b){if(E=W[R+" "+b]||W["* "+b],!E){for(C in W)if(L=C.split(" "),L[1]===b&&(E=W[R+" "+L[0]]||W["* "+L[0]],E)){E===!0?E=W[C]:W[C]!==!0&&(b=L[0],re.unshift(L[1]));break}}if(E!==!0)if(E&&u.throws)h=E(h);else try{h=E(h)}catch(le){return{state:"parsererror",error:E?le:"No conversion from "+R+" to "+b}}}}return{state:"success",data:h}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:du.href,type:"GET",isLocal:V_.test(du.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":mA,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,h){return h?sm(sm(u,g.ajaxSettings),h):sm(g.ajaxSettings,u)},ajaxPrefilter:vA(gA),ajaxTransport:vA(im),ajax:function(u,h){typeof u=="object"&&(h=u,u=void 0),h=h||{};var p,m,C,b,E,L,R,W,re,le,K=g.ajaxSetup({},h),fe=K.context||K,Ue=K.context&&(fe.nodeType||fe.jquery)?g(fe):g.event,vt=g.Deferred(),Qe=g.Callbacks("once memory"),Pn=K.statusCode||{},yn={},bi={},xi="canceled",lt={readyState:0,getResponseHeader:function(Ct){var ln;if(R){if(!b)for(b={};ln=B_.exec(C);)b[ln[1].toLowerCase()+" "]=(b[ln[1].toLowerCase()+" "]||[]).concat(ln[2]);ln=b[Ct.toLowerCase()+" "]}return ln==null?null:ln.join(", ")},getAllResponseHeaders:function(){return R?C:null},setRequestHeader:function(Ct,ln){return R==null&&(Ct=bi[Ct.toLowerCase()]=bi[Ct.toLowerCase()]||Ct,yn[Ct]=ln),this},overrideMimeType:function(Ct){return R==null&&(K.mimeType=Ct),this},statusCode:function(Ct){var ln;if(Ct)if(R)lt.always(Ct[lt.status]);else for(ln in Ct)Pn[ln]=[Pn[ln],Ct[ln]];return this},abort:function(Ct){var ln=Ct||xi;return p&&p.abort(ln),cs(0,ln),this}};if(vt.promise(lt),K.url=((u||K.url||du.href)+"").replace(G_,du.protocol+"//"),K.type=h.method||h.type||K.method||K.type,K.dataTypes=(K.dataType||"*").toLowerCase().match(Ze)||[""],K.crossDomain==null){L=M.createElement("a");try{L.href=K.url,L.href=L.href,K.crossDomain=om.protocol+"//"+om.host!=L.protocol+"//"+L.host}catch{K.crossDomain=!0}}if(K.data&&K.processData&&typeof K.data!="string"&&(K.data=g.param(K.data,K.traditional)),yA(gA,K,h,lt),R)return lt;W=g.event&&K.global,W&&g.active++===0&&g.event.trigger("ajaxStart"),K.type=K.type.toUpperCase(),K.hasContent=!z_.test(K.type),m=K.url.replace(F_,""),K.hasContent?K.data&&K.processData&&(K.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(K.data=K.data.replace(L_,"+")):(le=K.url.slice(m.length),K.data&&(K.processData||typeof K.data=="string")&&(m+=(nm.test(m)?"&":"?")+K.data,delete K.data),K.cache===!1&&(m=m.replace(j_,"$1"),le=(nm.test(m)?"&":"?")+"_="+dA.guid+++le),K.url=m+le),K.ifModified&&(g.lastModified[m]&&lt.setRequestHeader("If-Modified-Since",g.lastModified[m]),g.etag[m]&&lt.setRequestHeader("If-None-Match",g.etag[m])),(K.data&&K.hasContent&&K.contentType!==!1||h.contentType)&&lt.setRequestHeader("Content-Type",K.contentType),lt.setRequestHeader("Accept",K.dataTypes[0]&&K.accepts[K.dataTypes[0]]?K.accepts[K.dataTypes[0]]+(K.dataTypes[0]!=="*"?", "+mA+"; q=0.01":""):K.accepts["*"]);for(re in K.headers)lt.setRequestHeader(re,K.headers[re]);if(K.beforeSend&&(K.beforeSend.call(fe,lt,K)===!1||R))return lt.abort();if(xi="abort",Qe.add(K.complete),lt.done(K.success),lt.fail(K.error),p=yA(im,K,h,lt),!p)cs(-1,"No Transport");else{if(lt.readyState=1,W&&Ue.trigger("ajaxSend",[lt,K]),R)return lt;K.async&&K.timeout>0&&(E=e.setTimeout(function(){lt.abort("timeout")},K.timeout));try{R=!1,p.send(yn,cs)}catch(Ct){if(R)throw Ct;cs(-1,Ct)}}function cs(Ct,ln,hu,lm){var Di,pu,Mi,Co,wo,Wr=ln;R||(R=!0,E&&e.clearTimeout(E),p=void 0,C=lm||"",lt.readyState=Ct>0?4:0,Di=Ct>=200&&Ct<300||Ct===304,hu&&(Co=U_(K,lt,hu)),!Di&&g.inArray("script",K.dataTypes)>-1&&g.inArray("json",K.dataTypes)<0&&(K.converters["text script"]=function(){}),Co=Z_(K,Co,lt,Di),Di?(K.ifModified&&(wo=lt.getResponseHeader("Last-Modified"),wo&&(g.lastModified[m]=wo),wo=lt.getResponseHeader("etag"),wo&&(g.etag[m]=wo)),Ct===204||K.type==="HEAD"?Wr="nocontent":Ct===304?Wr="notmodified":(Wr=Co.state,pu=Co.data,Mi=Co.error,Di=!Mi)):(Mi=Wr,(Ct||!Wr)&&(Wr="error",Ct<0&&(Ct=0))),lt.status=Ct,lt.statusText=(ln||Wr)+"",Di?vt.resolveWith(fe,[pu,Wr,lt]):vt.rejectWith(fe,[lt,Wr,Mi]),lt.statusCode(Pn),Pn=void 0,W&&Ue.trigger(Di?"ajaxSuccess":"ajaxError",[lt,K,Di?pu:Mi]),Qe.fireWith(fe,[lt,Wr]),W&&(Ue.trigger("ajaxComplete",[lt,K]),--g.active||g.event.trigger("ajaxStop")))}return lt},getJSON:function(u,h,p){return g.get(u,h,p,"json")},getScript:function(u,h){return g.get(u,void 0,h,"script")}}),g.each(["get","post"],function(u,h){g[h]=function(p,m,C,b){return w(m)&&(b=b||C,C=m,m=void 0),g.ajax(g.extend({url:p,type:h,dataType:b,data:m,success:C},g.isPlainObject(p)&&p))}}),g.ajaxPrefilter(function(u){var h;for(h in u.headers)h.toLowerCase()==="content-type"&&(u.contentType=u.headers[h]||"")}),g._evalUrl=function(u,h,p){return g.ajax({url:u,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(m){g.globalEval(m,h,p)}})},g.fn.extend({wrapAll:function(u){var h;return this[0]&&(w(u)&&(u=u.call(this[0])),h=g(u,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var p=this;p.firstElementChild;)p=p.firstElementChild;return p}).append(this)),this},wrapInner:function(u){return w(u)?this.each(function(h){g(this).wrapInner(u.call(this,h))}):this.each(function(){var h=g(this),p=h.contents();p.length?p.wrapAll(u):h.append(u)})},wrap:function(u){var h=w(u);return this.each(function(p){g(this).wrapAll(h?u.call(this,p):u)})},unwrap:function(u){return this.parent(u).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(u){return!g.expr.pseudos.visible(u)},g.expr.pseudos.visible=function(u){return!!(u.offsetWidth||u.offsetHeight||u.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var W_={0:200,1223:204},fu=g.ajaxSettings.xhr();I.cors=!!fu&&"withCredentials"in fu,I.ajax=fu=!!fu,g.ajaxTransport(function(u){var h,p;if(I.cors||fu&&!u.crossDomain)return{send:function(m,C){var b,E=u.xhr();if(E.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(b in u.xhrFields)E[b]=u.xhrFields[b];u.mimeType&&E.overrideMimeType&&E.overrideMimeType(u.mimeType),!u.crossDomain&&!m["X-Requested-With"]&&(m["X-Requested-With"]="XMLHttpRequest");for(b in m)E.setRequestHeader(b,m[b]);h=function(L){return function(){h&&(h=p=E.onload=E.onerror=E.onabort=E.ontimeout=E.onreadystatechange=null,L==="abort"?E.abort():L==="error"?typeof E.status!="number"?C(0,"error"):C(E.status,E.statusText):C(W_[E.status]||E.status,E.statusText,(E.responseType||"text")!=="text"||typeof E.responseText!="string"?{binary:E.response}:{text:E.responseText},E.getAllResponseHeaders()))}},E.onload=h(),p=E.onerror=E.ontimeout=h("error"),E.onabort!==void 0?E.onabort=p:E.onreadystatechange=function(){E.readyState===4&&e.setTimeout(function(){h&&p()})},h=h("abort");try{E.send(u.hasContent&&u.data||null)}catch(L){if(h)throw L}},abort:function(){h&&h()}}}),g.ajaxPrefilter(function(u){u.crossDomain&&(u.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(u){return g.globalEval(u),u}}}),g.ajaxPrefilter("script",function(u){u.cache===void 0&&(u.cache=!1),u.crossDomain&&(u.type="GET")}),g.ajaxTransport("script",function(u){if(u.crossDomain||u.scriptAttrs){var h,p;return{send:function(m,C){h=g("<script>").attr(u.scriptAttrs||{}).prop({charset:u.scriptCharset,src:u.url}).on("load error",p=function(b){h.remove(),p=null,b&&C(b.type==="error"?404:200,b.type)}),M.head.appendChild(h[0])},abort:function(){p&&p()}}}});var IA=[],am=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=IA.pop()||g.expando+"_"+dA.guid++;return this[u]=!0,u}}),g.ajaxPrefilter("json jsonp",function(u,h,p){var m,C,b,E=u.jsonp!==!1&&(am.test(u.url)?"url":typeof u.data=="string"&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&am.test(u.data)&&"data");if(E||u.dataTypes[0]==="jsonp")return m=u.jsonpCallback=w(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,E?u[E]=u[E].replace(am,"$1"+m):u.jsonp!==!1&&(u.url+=(nm.test(u.url)?"&":"?")+u.jsonp+"="+m),u.converters["script json"]=function(){return b||g.error(m+" was not called"),b[0]},u.dataTypes[0]="json",C=e[m],e[m]=function(){b=arguments},p.always(function(){C===void 0?g(e).removeProp(m):e[m]=C,u[m]&&(u.jsonpCallback=h.jsonpCallback,IA.push(m)),b&&w(C)&&C(b[0]),b=C=void 0}),"script"}),I.createHTMLDocument=function(){var u=M.implementation.createHTMLDocument("").body;return u.innerHTML="<form></form><form></form>",u.childNodes.length===2}(),g.parseHTML=function(u,h,p){if(typeof u!="string")return[];typeof h=="boolean"&&(p=h,h=!1);var m,C,b;return h||(I.createHTMLDocument?(h=M.implementation.createHTMLDocument(""),m=h.createElement("base"),m.href=M.location.href,h.head.appendChild(m)):h=M),C=Ne.exec(u),b=!p&&[],C?[h.createElement(C[1])]:(C=Xw([u],h,b),b&&b.length&&g(b).remove(),g.merge([],C.childNodes))},g.fn.load=function(u,h,p){var m,C,b,E=this,L=u.indexOf(" ");return L>-1&&(m=ls(u.slice(L)),u=u.slice(0,L)),w(h)?(p=h,h=void 0):h&&typeof h=="object"&&(C="POST"),E.length>0&&g.ajax({url:u,type:C||"GET",dataType:"html",data:h}).done(function(R){b=arguments,E.html(m?g("<div>").append(g.parseHTML(R)).find(m):R)}).always(p&&function(R,W){E.each(function(){p.apply(this,b||[R.responseText,W,R])})}),this},g.expr.pseudos.animated=function(u){return g.grep(g.timers,function(h){return u===h.elem}).length},g.offset={setOffset:function(u,h,p){var m,C,b,E,L,R,W,re=g.css(u,"position"),le=g(u),K={};re==="static"&&(u.style.position="relative"),L=le.offset(),b=g.css(u,"top"),R=g.css(u,"left"),W=(re==="absolute"||re==="fixed")&&(b+R).indexOf("auto")>-1,W?(m=le.position(),E=m.top,C=m.left):(E=parseFloat(b)||0,C=parseFloat(R)||0),w(h)&&(h=h.call(u,p,g.extend({},L))),h.top!=null&&(K.top=h.top-L.top+E),h.left!=null&&(K.left=h.left-L.left+C),"using"in h?h.using.call(u,K):le.css(K)}},g.fn.extend({offset:function(u){if(arguments.length)return u===void 0?this:this.each(function(C){g.offset.setOffset(this,u,C)});var h,p,m=this[0];if(m)return m.getClientRects().length?(h=m.getBoundingClientRect(),p=m.ownerDocument.defaultView,{top:h.top+p.pageYOffset,left:h.left+p.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var u,h,p,m=this[0],C={top:0,left:0};if(g.css(m,"position")==="fixed")h=m.getBoundingClientRect();else{for(h=this.offset(),p=m.ownerDocument,u=m.offsetParent||p.documentElement;u&&(u===p.body||u===p.documentElement)&&g.css(u,"position")==="static";)u=u.parentNode;u&&u!==m&&u.nodeType===1&&(C=g(u).offset(),C.top+=g.css(u,"borderTopWidth",!0),C.left+=g.css(u,"borderLeftWidth",!0))}return{top:h.top-C.top-g.css(m,"marginTop",!0),left:h.left-C.left-g.css(m,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent;u&&g.css(u,"position")==="static";)u=u.offsetParent;return u||oi})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,h){var p=h==="pageYOffset";g.fn[u]=function(m){return U(this,function(C,b,E){var L;if(D(C)?L=C:C.nodeType===9&&(L=C.defaultView),E===void 0)return L?L[h]:C[b];L?L.scrollTo(p?L.pageXOffset:E,p?E:L.pageYOffset):C[b]=E},u,m,arguments.length)}}),g.each(["top","left"],function(u,h){g.cssHooks[h]=tA(I.pixelPosition,function(p,m){if(m)return m=uu(p,h),qg.test(m)?g(p).position()[h]+"px":m})}),g.each({Height:"height",Width:"width"},function(u,h){g.each({padding:"inner"+u,content:h,"":"outer"+u},function(p,m){g.fn[m]=function(C,b){var E=arguments.length&&(p||typeof C!="boolean"),L=p||(C===!0||b===!0?"margin":"border");return U(this,function(R,W,re){var le;return D(R)?m.indexOf("outer")===0?R["inner"+u]:R.document.documentElement["client"+u]:R.nodeType===9?(le=R.documentElement,Math.max(R.body["scroll"+u],le["scroll"+u],R.body["offset"+u],le["offset"+u],le["client"+u])):re===void 0?g.css(R,W,L):g.style(R,W,re,L)},h,E?C:void 0,E)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,h){g.fn[h]=function(p){return this.on(h,p)}}),g.fn.extend({bind:function(u,h,p){return this.on(u,null,h,p)},unbind:function(u,h){return this.off(u,null,h)},delegate:function(u,h,p,m){return this.on(h,u,p,m)},undelegate:function(u,h,p){return arguments.length===1?this.off(u,"**"):this.off(h,u||"**",p)},hover:function(u,h){return this.on("mouseenter",u).on("mouseleave",h||u)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(u,h){g.fn[h]=function(p,m){return arguments.length>0?this.on(h,null,p,m):this.trigger(h)}});var H_=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(u,h){var p,m,C;if(typeof h=="string"&&(p=u[h],h=u,u=p),!!w(u))return m=i.call(arguments,2),C=function(){return u.apply(h||this,m.concat(i.call(arguments)))},C.guid=u.guid=u.guid||g.guid++,C},g.holdReady=function(u){u?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=x,g.isFunction=w,g.isWindow=D,g.camelCase=et,g.type=G,g.now=Date.now,g.isNumeric=function(u){var h=g.type(u);return(h==="number"||h==="string")&&!isNaN(u-parseFloat(u))},g.trim=function(u){return u==null?"":(u+"").replace(H_,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return g});var Y_=e.jQuery,$_=e.$;return g.noConflict=function(u){return e.$===g&&(e.$=$_),u&&e.jQuery===g&&(e.jQuery=Y_),g},typeof t>"u"&&(e.jQuery=e.$=g),g})});var Gc=MA(EC=>{"use strict";(function(e){var t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(i,o,s){t.Backbone=e(t,s,i,o)});else if(typeof EC<"u"){var n=(zN(),uP(VN)),r;try{r=qo()}catch{}e(t,EC,n,r)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)})(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.1",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={},a=/\s+/,l,c=function(A,N,O,F,U){var se=0,Ie;if(O&&typeof O=="object")for(F!==void 0&&("context"in U)&&U.context===void 0&&(U.context=F),Ie=n.keys(O);se<Ie.length;se++)N=c(A,N,Ie[se],O[Ie[se]],U);else if(O&&a.test(O))for(Ie=O.split(a);se<Ie.length;se++)N=A(N,Ie[se],F,U);else N=A(N,O,F,U);return N};s.on=function(A,N,O){if(this._events=c(f,this._events||{},A,N,{context:O,ctx:this,listening:l}),l){var F=this._listeners||(this._listeners={});F[l.id]=l,l.interop=!1}return this},s.listenTo=function(A,N,O){if(!A)return this;var F=A._listenId||(A._listenId=n.uniqueId("l")),U=this._listeningTo||(this._listeningTo={}),se=l=U[F];se||(this._listenId||(this._listenId=n.uniqueId("l")),se=l=U[F]=new M(this,A));var Ie=d(A,N,O,this);if(l=void 0,Ie)throw Ie;return se.interop&&se.on(N,O),this};var f=function(A,N,O,F){if(O){var U=A[N]||(A[N]=[]),se=F.context,Ie=F.ctx,Le=F.listening;Le&&Le.count++,U.push({callback:O,context:se,ctx:se||Ie,listening:Le})}return A},d=function(A,N,O,F){try{A.on(N,O,F)}catch(U){return U}};s.off=function(A,N,O){return this._events?(this._events=c(v,this._events,A,N,{context:O,listeners:this._listeners}),this):this},s.stopListening=function(A,N,O){var F=this._listeningTo;if(!F)return this;for(var U=A?[A._listenId]:n.keys(F),se=0;se<U.length;se++){var Ie=F[U[se]];if(!Ie)break;Ie.obj.off(N,O,this),Ie.interop&&Ie.off(N,O)}return n.isEmpty(F)&&(this._listeningTo=void 0),this};var v=function(A,N,O,F){if(A){var U=F.context,se=F.listeners,Ie=0,Le;if(!N&&!U&&!O){for(Le=n.keys(se);Ie<Le.length;Ie++)se[Le[Ie]].cleanup();return}for(Le=N?[N]:n.keys(A);Ie<Le.length;Ie++){N=Le[Ie];var et=A[N];if(!et)break;for(var en=[],tn=0;tn<et.length;tn++){var me=et[tn];if(O&&O!==me.callback&&O!==me.callback._callback||U&&U!==me.context)en.push(me);else{var xt=me.listening;xt&&xt.off(N,O)}}en.length?A[N]=en:delete A[N]}return A}};s.once=function(A,N,O){var F=c(I,{},A,N,this.off.bind(this));return typeof A=="string"&&O==null&&(N=void 0),this.on(F,N,O)},s.listenToOnce=function(A,N,O){var F=c(I,{},N,O,this.stopListening.bind(this,A));return this.listenTo(A,F)};var I=function(A,N,O,F){if(O){var U=A[N]=n.once(function(){F(N,U),O.apply(this,arguments)});U._callback=O}return A};s.trigger=function(A){if(!this._events)return this;for(var N=Math.max(0,arguments.length-1),O=Array(N),F=0;F<N;F++)O[F]=arguments[F+1];return c(w,this._events,A,void 0,O),this};var w=function(A,N,O,F){if(A){var U=A[N],se=A.all;U&&se&&(se=se.slice()),U&&D(U,F),se&&D(se,[N].concat(F))}return A},D=function(A,N){var O,F=-1,U=A.length,se=N[0],Ie=N[1],Le=N[2];switch(N.length){case 0:for(;++F<U;)(O=A[F]).callback.call(O.ctx);return;case 1:for(;++F<U;)(O=A[F]).callback.call(O.ctx,se);return;case 2:for(;++F<U;)(O=A[F]).callback.call(O.ctx,se,Ie);return;case 3:for(;++F<U;)(O=A[F]).callback.call(O.ctx,se,Ie,Le);return;default:for(;++F<U;)(O=A[F]).callback.apply(O.ctx,N);return}},M=function(A,N){this.id=A._listenId,this.listener=A,this.obj=N,this.interop=!0,this.count=0,this._events=void 0};M.prototype.on=s.on,M.prototype.off=function(A,N){var O;this.interop?(this._events=c(v,this._events,A,N,{context:void 0,listeners:void 0}),O=!this._events):(this.count--,O=this.count===0),O&&this.cleanup()},M.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(t,s);var T=t.Model=function(A,N){var O=A||{};N||(N={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},N.collection&&(this.collection=N.collection),N.parse&&(O=this.parse(O,N)||{});var F=n.result(this,"defaults");O=n.defaults(n.extend({},F,O),F),this.set(O,N),this.changed={},this.initialize.apply(this,arguments)};n.extend(T.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return n.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!n.iteratee(A,this)(this.attributes)},set:function(A,N,O){if(A==null)return this;var F;if(typeof A=="object"?(F=A,O=N):(F={})[A]=N,O||(O={}),!this._validate(F,O))return!1;var U=O.unset,se=O.silent,Ie=[],Le=this._changing;this._changing=!0,Le||(this._previousAttributes=n.clone(this.attributes),this.changed={});var et=this.attributes,en=this.changed,tn=this._previousAttributes;for(var me in F)N=F[me],n.isEqual(et[me],N)||Ie.push(me),n.isEqual(tn[me],N)?delete en[me]:en[me]=N,U?delete et[me]:et[me]=N;if(this.idAttribute in F){var xt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,xt,O)}if(!se){Ie.length&&(this._pending=O);for(var jt=0;jt<Ie.length;jt++)this.trigger("change:"+Ie[jt],this,et[Ie[jt]],O)}if(Le)return this;if(!se)for(;this._pending;)O=this._pending,this._pending=!1,this.trigger("change",this,O);return this._pending=!1,this._changing=!1,this},unset:function(A,N){return this.set(A,void 0,n.extend({},N,{unset:!0}))},clear:function(A){var N={};for(var O in this.attributes)N[O]=void 0;return this.set(N,n.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!n.isEmpty(this.changed):n.has(this.changed,A)},changedAttributes:function(A){if(!A)return this.hasChanged()?n.clone(this.changed):!1;var N=this._changing?this._previousAttributes:this.attributes,O={},F;for(var U in A){var se=A[U];n.isEqual(N[U],se)||(O[U]=se,F=!0)}return F?O:!1},previous:function(A){return A==null||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(A){A=n.extend({parse:!0},A);var N=this,O=A.success;return A.success=function(F){var U=A.parse?N.parse(F,A):F;if(!N.set(U,A))return!1;O&&O.call(A.context,N,F,A),N.trigger("sync",N,F,A)},mt(this,A),this.sync("read",this,A)},save:function(A,N,O){var F;A==null||typeof A=="object"?(F=A,O=N):(F={})[A]=N,O=n.extend({validate:!0,parse:!0},O);var U=O.wait;if(F&&!U){if(!this.set(F,O))return!1}else if(!this._validate(F,O))return!1;var se=this,Ie=O.success,Le=this.attributes;O.success=function(tn){se.attributes=Le;var me=O.parse?se.parse(tn,O):tn;if(U&&(me=n.extend({},F,me)),me&&!se.set(me,O))return!1;Ie&&Ie.call(O.context,se,tn,O),se.trigger("sync",se,tn,O)},mt(this,O),F&&U&&(this.attributes=n.extend({},Le,F));var et=this.isNew()?"create":O.patch?"patch":"update";et==="patch"&&!O.attrs&&(O.attrs=F);var en=this.sync(et,this,O);return this.attributes=Le,en},destroy:function(A){A=A?n.clone(A):{};var N=this,O=A.success,F=A.wait,U=function(){N.stopListening(),N.trigger("destroy",N,N.collection,A)};A.success=function(Ie){F&&U(),O&&O.call(A.context,N,Ie,A),N.isNew()||N.trigger("sync",N,Ie,A)};var se=!1;return this.isNew()?n.defer(A.success):(mt(this,A),se=this.sync("delete",this,A)),F||U(),se},url:function(){var A=n.result(this,"urlRoot")||n.result(this.collection,"url")||_e();if(this.isNew())return A;var N=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(N)},parse:function(A,N){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},n.extend({},A,{validate:!0}))},_validate:function(A,N){if(!N.validate||!this.validate)return!0;A=n.extend({},this.attributes,A);var O=this.validationError=this.validate(A,N)||null;return O?(this.trigger("invalid",this,O,n.extend(N,{validationError:O})),!1):!0}});var B=t.Collection=function(A,N){N||(N={}),this.preinitialize.apply(this,arguments),N.model&&(this.model=N.model),N.comparator!==void 0&&(this.comparator=N.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,n.extend({silent:!0},N))},G={add:!0,remove:!0,merge:!0},H={add:!0,remove:!1},ne=function(A,N,O){O=Math.min(Math.max(O,0),A.length);var F=Array(A.length-O),U=N.length,se;for(se=0;se<F.length;se++)F[se]=A[se+O];for(se=0;se<U;se++)A[se+O]=N[se];for(se=0;se<F.length;se++)A[se+U+O]=F[se]};n.extend(B.prototype,s,{model:T,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(N){return N.toJSON(A)})},sync:function(){return t.sync.apply(this,arguments)},add:function(A,N){return this.set(A,n.extend({merge:!1},N,H))},remove:function(A,N){N=n.extend({},N);var O=!n.isArray(A);A=O?[A]:A.slice();var F=this._removeModels(A,N);return!N.silent&&F.length&&(N.changes={added:[],merged:[],removed:F},this.trigger("update",this,N)),O?F[0]:F},set:function(A,N){if(A!=null){N=n.extend({},G,N),N.parse&&!this._isModel(A)&&(A=this.parse(A,N)||[]);var O=!n.isArray(A);A=O?[A]:A.slice();var F=N.at;F!=null&&(F=+F),F>this.length&&(F=this.length),F<0&&(F+=this.length+1);var U=[],se=[],Ie=[],Le=[],et={},en=N.add,tn=N.merge,me=N.remove,xt=!1,jt=this.comparator&&F==null&&N.sort!==!1,$t=n.isString(this.comparator)?this.comparator:null,Xt,pn;for(pn=0;pn<A.length;pn++){Xt=A[pn];var Kn=this.get(Xt);if(Kn){if(tn&&Xt!==Kn){var ii=this._isModel(Xt)?Xt.attributes:Xt;N.parse&&(ii=Kn.parse(ii,N)),Kn.set(ii,N),Ie.push(Kn),jt&&!xt&&(xt=Kn.hasChanged($t))}et[Kn.cid]||(et[Kn.cid]=!0,U.push(Kn)),A[pn]=Kn}else en&&(Xt=A[pn]=this._prepareModel(Xt,N),Xt&&(se.push(Xt),this._addReference(Xt,N),et[Xt.cid]=!0,U.push(Xt)))}if(me){for(pn=0;pn<this.length;pn++)Xt=this.models[pn],et[Xt.cid]||Le.push(Xt);Le.length&&this._removeModels(Le,N)}var fr=!1,oi=!jt&&en&&me;if(U.length&&oi?(fr=this.length!==U.length||n.some(this.models,function(Ai,iu){return Ai!==U[iu]}),this.models.length=0,ne(this.models,U,0),this.length=this.models.length):se.length&&(jt&&(xt=!0),ne(this.models,se,F??this.length),this.length=this.models.length),xt&&this.sort({silent:!0}),!N.silent){for(pn=0;pn<se.length;pn++)F!=null&&(N.index=F+pn),Xt=se[pn],Xt.trigger("add",Xt,this,N);(xt||fr)&&this.trigger("sort",this,N),(se.length||Le.length||Ie.length)&&(N.changes={added:se,removed:Le,merged:Ie},this.trigger("update",this,N))}return O?A[0]:A}},reset:function(A,N){N=N?n.clone(N):{};for(var O=0;O<this.models.length;O++)this._removeReference(this.models[O],N);return N.previousModels=this.models,this._reset(),A=this.add(A,n.extend({silent:!0},N)),N.silent||this.trigger("reset",this,N),A},push:function(A,N){return this.add(A,n.extend({at:this.length},N))},pop:function(A){var N=this.at(this.length-1);return this.remove(N,A)},unshift:function(A,N){return this.add(A,n.extend({at:0},N))},shift:function(A){var N=this.at(0);return this.remove(N,A)},slice:function(){return o.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A,A.idAttribute)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,N){return this[N?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var N=this.comparator;if(!N)throw new Error("Cannot sort a set without a comparator");A||(A={});var O=N.length;return n.isFunction(N)&&(N=N.bind(this)),O===1||n.isString(N)?this.models=this.sortBy(N):this.models.sort(N),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){A=n.extend({parse:!0},A);var N=A.success,O=this;return A.success=function(F){var U=A.reset?"reset":"set";O[U](F,A),N&&N.call(A.context,O,F,A),O.trigger("sync",O,F,A)},mt(this,A),this.sync("read",this,A)},create:function(A,N){N=N?n.clone(N):{};var O=N.wait;if(A=this._prepareModel(A,N),!A)return!1;O||this.add(A,N);var F=this,U=N.success;return N.success=function(se,Ie,Le){O&&F.add(se,Le),U&&U.call(Le.context,se,Ie,Le)},A.save(null,N),A},parse:function(A,N){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A,N){return A[N||this.model.prototype.idAttribute||"id"]},values:function(){return new y(this,x)},keys:function(){return new y(this,S)},entries:function(){return new y(this,_)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,N){if(this._isModel(A))return A.collection||(A.collection=this),A;N=N?n.clone(N):{},N.collection=this;var O;return this.model.prototype?O=new this.model(A,N):O=this.model(A,N),O.validationError?(this.trigger("invalid",this,O.validationError,N),!1):O},_removeModels:function(A,N){for(var O=[],F=0;F<A.length;F++){var U=this.get(A[F]);if(U){var se=this.indexOf(U);this.models.splice(se,1),this.length--,delete this._byId[U.cid];var Ie=this.modelId(U.attributes,U.idAttribute);Ie!=null&&delete this._byId[Ie],N.silent||(N.index=se,U.trigger("remove",U,this,N)),O.push(U),this._removeReference(U,N)}}return O},_isModel:function(A){return A instanceof T},_addReference:function(A,N){this._byId[A.cid]=A;var O=this.modelId(A.attributes,A.idAttribute);O!=null&&(this._byId[O]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,N){delete this._byId[A.cid];var O=this.modelId(A.attributes,A.idAttribute);O!=null&&delete this._byId[O],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,N,O,F){if(N){if((A==="add"||A==="remove")&&O!==this)return;if(A==="destroy"&&this.remove(N,F),A==="changeId"){var U=this.modelId(N.previousAttributes(),N.idAttribute),se=this.modelId(N.attributes,N.idAttribute);U!=null&&delete this._byId[U],se!=null&&(this._byId[se]=N)}}this.trigger.apply(this,arguments)}});var g=typeof Symbol=="function"&&Symbol.iterator;g&&(B.prototype[g]=B.prototype.values);var y=function(A,N){this._collection=A,this._kind=N,this._index=0},x=1,S=2,_=3;g&&(y.prototype[g]=function(){return this}),y.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A=this._collection.at(this._index);this._index++;var N;if(this._kind===x)N=A;else{var O=this._collection.modelId(A.attributes,A.idAttribute);this._kind===S?N=O:N=[O,A]}return{value:N,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var j=t.View=function(A){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(A,Y)),this._ensureElement(),this.initialize.apply(this,arguments)},V=/^(\S+)\s*(.*)$/,Y=["model","collection","el","id","attributes","className","tagName","events"];n.extend(j.prototype,s,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof t.$?A:t.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=n.result(this,"events")),!A)return this;this.undelegateEvents();for(var N in A){var O=A[N];if(n.isFunction(O)||(O=this[O]),!!O){var F=N.match(V);this.delegate(F[1],F[2],O.bind(this))}}return this},delegate:function(A,N,O){return this.$el.on(A+".delegateEvents"+this.cid,N,O),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,N,O){return this.$el.off(A+".delegateEvents"+this.cid,N,O),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var A=n.extend({},n.result(this,"attributes"));this.id&&(A.id=n.result(this,"id")),this.className&&(A.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var ue=function(A,N,O,F){switch(N){case 1:return function(){return A[O](this[F])};case 2:return function(U){return A[O](this[F],U)};case 3:return function(U,se){return A[O](this[F],Z(U,this),se)};case 4:return function(U,se,Ie){return A[O](this[F],Z(U,this),se,Ie)};default:return function(){var U=o.call(arguments);return U.unshift(this[F]),A[O].apply(A,U)}}},pe=function(A,N,O,F){n.each(O,function(U,se){N[se]&&(A.prototype[se]=ue(N,U,se,F))})},Z=function(A,N){return n.isFunction(A)?A:n.isObject(A)&&!N._isModel(A)?Q(A):n.isString(A)?function(O){return O.get(A)}:A},Q=function(A){var N=n.matches(A);return function(O){return N(O.attributes)}},X={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},J={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[B,X,"models"],[T,J,"attributes"]],function(A){var N=A[0],O=A[1],F=A[2];N.mixin=function(U){var se=n.reduce(n.functions(U),function(Ie,Le){return Ie[Le]=0,Ie},{});pe(N,U,se,F)},pe(N,n,O,F)}),t.sync=function(A,N,O){var F=ke[A];n.defaults(O||(O={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var U={type:F,dataType:"json"};if(O.url||(U.url=n.result(N,"url")||_e()),O.data==null&&N&&(A==="create"||A==="update"||A==="patch")&&(U.contentType="application/json",U.data=JSON.stringify(O.attrs||N.toJSON(O))),O.emulateJSON&&(U.contentType="application/x-www-form-urlencoded",U.data=U.data?{model:U.data}:{}),O.emulateHTTP&&(F==="PUT"||F==="DELETE"||F==="PATCH")){U.type="POST",O.emulateJSON&&(U.data._method=F);var se=O.beforeSend;O.beforeSend=function(et){if(et.setRequestHeader("X-HTTP-Method-Override",F),se)return se.apply(this,arguments)}}U.type!=="GET"&&!O.emulateJSON&&(U.processData=!1);var Ie=O.error;O.error=function(et,en,tn){O.textStatus=en,O.errorThrown=tn,Ie&&Ie.call(O.context,et,en,tn)};var Le=O.xhr=t.ajax(n.extend(U,O));return N.trigger("request",N,Le,O),Le};var ke={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var Ne=t.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},St=/\((.*?)\)/g,Ft=/(\(\?)?:\w+/g,xe=/\*\w+/g,Te=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(Ne.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(A,N,O){n.isRegExp(A)||(A=this._routeToRegExp(A)),n.isFunction(N)&&(O=N,N=""),O||(O=this[N]);var F=this;return t.history.route(A,function(U){var se=F._extractParameters(A,U);F.execute(O,se,N)!==!1&&(F.trigger.apply(F,["route:"+N].concat(se)),F.trigger("route",N,se),t.history.trigger("route",F,N,se))}),this},execute:function(A,N,O){A&&A.apply(this,N)},navigate:function(A,N){return t.history.navigate(A,N),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var A,N=n.keys(this.routes);(A=N.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(Te,"\\$&").replace(St,"(?:$1)?").replace(Ft,function(N,O){return O?N:"([^/?]+)"}).replace(xe,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,N){var O=A.exec(N).slice(1);return n.map(O,function(F,U){return U===O.length-1?F||null:F?decodeURIComponent(F):null})}});var oe=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ie=/^[#\/]|\s+$/g,he=/^\/+|\/+$/g,Ze=/#.*$/;oe.started=!1,n.extend(oe.prototype,s,{interval:50,atRoot:function(){var A=this.location.pathname.replace(/[^\/]$/,"$&/");return A===this.root&&!this.getSearch()},matchRoot:function(){var A=this.decodeFragment(this.location.pathname),N=A.slice(0,this.root.length-1)+"/";return N===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var N=(A||this).location.href.match(/#(.*)$/);return N?N[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(this._usePushState||!this._wantsHashChange?A=this.getPath():A=this.getHash()),A.replace(ie,"")},start:function(A){if(oe.started)throw new Error("Backbone.history has already been started");if(oe.started=!0,this.options=n.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(he,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var N=this.root.slice(0,-1)||"/";return this.location.replace(N+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var O=document.body,F=O.insertBefore(this.iframe,O.firstChild).contentWindow;F.document.open(),F.document.close(),F.location.hash="#"+this.fragment}var U=window.addEventListener||function(se,Ie){return attachEvent("on"+se,Ie)};if(this._usePushState?U("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?U("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(N,O){return detachEvent("on"+N,O)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),oe.started=!1},route:function(A,N){this.handlers.unshift({route:A,callback:N})},checkUrl:function(A){var N=this.getFragment();if(N===this.fragment&&this.iframe&&(N=this.getHash(this.iframe.contentWindow)),N===this.fragment)return!1;this.iframe&&this.navigate(N),this.loadUrl()},loadUrl:function(A){return this.matchRoot()?(A=this.fragment=this.getFragment(A),n.some(this.handlers,function(N){if(N.route.test(A))return N.callback(A),!0})):!1},navigate:function(A,N){if(!oe.started)return!1;(!N||N===!0)&&(N={trigger:!!N}),A=this.getFragment(A||"");var O=this.root;(A===""||A.charAt(0)==="?")&&(O=O.slice(0,-1)||"/");var F=O+A;A=A.replace(Ze,"");var U=this.decodeFragment(A);if(this.fragment!==U){if(this.fragment=U,this._usePushState)this.history[N.replace?"replaceState":"pushState"]({},document.title,F);else if(this._wantsHashChange){if(this._updateHash(this.location,A,N.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var se=this.iframe.contentWindow;N.replace||(se.document.open(),se.document.close()),this._updateHash(se.location,A,N.replace)}}else return this.location.assign(F);if(N.trigger)return this.loadUrl(A)}},_updateHash:function(A,N,O){if(O){var F=A.href.replace(/(javascript:|#).*$/,"");A.replace(F+"#"+N)}else A.hash="#"+N}}),t.history=new oe;var at=function(A,N){var O=this,F;return A&&n.has(A,"constructor")?F=A.constructor:F=function(){return O.apply(this,arguments)},n.extend(F,O,N),F.prototype=n.create(O.prototype,A),F.prototype.constructor=F,F.__super__=O.prototype,F};T.extend=B.extend=Ne.extend=j.extend=oe.extend=at;var _e=function(){throw new Error('A "url" property or function must be specified')},mt=function(A,N){var O=N.error;N.error=function(F){O&&O.call(N.context,A,F,N),A.trigger("error",A,F,N)}};return t})});var SA=null;var gm=1,NA=Symbol("SIGNAL");function Dt(e){let t=SA;return SA=e,t}var TA={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cP(e){if(!(ym(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===gm)){if(!e.producerMustRecompute(e)&&!mm(e)){e.dirty=!1,e.lastCleanEpoch=gm;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=gm}}function _A(e){return e&&(e.nextProducerIndex=0),Dt(e)}function PA(e,t){if(Dt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ym(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)vm(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function mm(e){_d(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(cP(n),r!==n.version))return!0}return!1}function OA(e){if(_d(e),ym(e))for(let t=0;t<e.producerNode.length;t++)vm(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function vm(e,t){if(dP(e),_d(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)vm(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];_d(i),i.producerIndexOfThis[r]=t}}function ym(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function _d(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function dP(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function fP(){throw new Error}var hP=fP;function RA(e){hP=e}function Xe(e){return typeof e=="function"}function Ia(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pd=Ia(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vu(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var In=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Xe(r))try{r()}catch(o){t=o instanceof Pd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{kA(o)}catch(s){t=t??[],s instanceof Pd?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Pd(t)}}add(t){var n;if(t&&t!==this)if(this.closed)kA(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&vu(n,t)}remove(t){let{_finalizers:n}=this;n&&vu(n,t),t instanceof e&&t._removeParent(this)}};In.EMPTY=(()=>{let e=new In;return e.closed=!0,e})();var Im=In.EMPTY;function Od(e){return e instanceof In||e&&"closed"in e&&Xe(e.remove)&&Xe(e.add)&&Xe(e.unsubscribe)}function kA(e){Xe(e)?e():e.unsubscribe()}var li={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ca={setTimeout(e,t,...n){let{delegate:r}=Ca;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ca;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Rd(e){Ca.setTimeout(()=>{let{onUnhandledError:t}=li;if(t)t(e);else throw e})}function yu(){}var LA=Cm("C",void 0,void 0);function FA(e){return Cm("E",void 0,e)}function jA(e){return Cm("N",e,void 0)}function Cm(e,t,n){return{kind:e,value:t,error:n}}var fs=null;function wa(e){if(li.useDeprecatedSynchronousErrorHandling){let t=!fs;if(t&&(fs={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=fs;if(fs=null,n)throw r}}else e()}function BA(e){li.useDeprecatedSynchronousErrorHandling&&fs&&(fs.errorThrown=!0,fs.error=e)}var hs=class extends In{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Od(t)&&t.add(this)):this.destination=mP}static create(t,n,r){return new Aa(t,n,r)}next(t){this.isStopped?Am(jA(t),this):this._next(t)}error(t){this.isStopped?Am(FA(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Am(LA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pP=Function.prototype.bind;function wm(e,t){return pP.call(e,t)}var bm=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){kd(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){kd(r)}else kd(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){kd(n)}}},Aa=class extends hs{constructor(t,n,r){super();let i;if(Xe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&li.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&wm(t.next,o),error:t.error&&wm(t.error,o),complete:t.complete&&wm(t.complete,o)}):i=t}this.destination=new bm(i)}};function kd(e){li.useDeprecatedSynchronousErrorHandling?BA(e):Rd(e)}function gP(e){throw e}function Am(e,t){let{onStoppedNotification:n}=li;n&&Ca.setTimeout(()=>n(e,t))}var mP={closed:!0,next:yu,error:gP,complete:yu};var ba=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nr(e){return e}function xm(...e){return Dm(e)}function Dm(e){return e.length===0?Nr:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Mt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=yP(n)?n:new Aa(n,r,i);return wa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=VA(r),new r((i,o)=>{let s=new Aa({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ba](){return this}pipe(...n){return Dm(n)(this)}toPromise(n){return n=VA(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function VA(e){var t;return(t=e??li.Promise)!==null&&t!==void 0?t:Promise}function vP(e){return e&&Xe(e.next)&&Xe(e.error)&&Xe(e.complete)}function yP(e){return e&&e instanceof hs||vP(e)&&Od(e)}function Mm(e){return Xe(e?.lift)}function yt(e){return t=>{if(Mm(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(e,t,n,r,i){return new Em(e,t,n,r,i)}var Em=class extends hs{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function xa(){return yt((e,t)=>{let n=null;e._refCount++;let r=It(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Da=class extends Mt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Mm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new In;let n=this.getSubject();t.add(this.source.subscribe(It(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=In.EMPTY)}return t}refCount(){return xa()(this)}};var zA=Ia(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tr=(()=>{class e extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ld(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new zA}next(n){wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Im:(this.currentObservers=null,o.push(n),new In(()=>{this.currentObservers=null,vu(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Mt;return n.source=this,n}}return e.create=(t,n)=>new Ld(t,n),e})(),Ld=class extends tr{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Im}};var fn=class extends tr{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Tr=new Mt(e=>e.complete());function GA(e){return e&&Xe(e.schedule)}function UA(e){return e[e.length-1]}function ZA(e){return Xe(UA(e))?e.pop():void 0}function bo(e){return GA(UA(e))?e.pop():void 0}function HA(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(d){s(d)}}function l(f){try{c(r.throw(f))}catch(d){s(d)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function WA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ps(e){return this instanceof ps?(this.v=e,this):new ps(e)}function YA(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(w){return Promise.resolve(w).then(I,d)}}function a(I,w){r[I]&&(i[I]=function(D){return new Promise(function(M,T){o.push([I,D,M,T])>1||l(I,D)})},w&&(i[I]=w(i[I])))}function l(I,w){try{c(r[I](w))}catch(D){v(o[0][3],D)}}function c(I){I.value instanceof ps?Promise.resolve(I.value.v).then(f,d):v(o[0][2],I)}function f(I){l("next",I)}function d(I){l("throw",I)}function v(I,w){I(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function $A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof WA=="function"?WA(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Fd=e=>e&&typeof e.length=="number"&&typeof e!="function";function jd(e){return Xe(e?.then)}function Bd(e){return Xe(e[ba])}function Vd(e){return Symbol.asyncIterator&&Xe(e?.[Symbol.asyncIterator])}function zd(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gd=IP();function Ud(e){return Xe(e?.[Gd])}function Zd(e){return YA(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield ps(n.read());if(i)return yield ps(void 0);yield yield ps(r)}}finally{n.releaseLock()}})}function Wd(e){return Xe(e?.getReader)}function xn(e){if(e instanceof Mt)return e;if(e!=null){if(Bd(e))return CP(e);if(Fd(e))return wP(e);if(jd(e))return AP(e);if(Vd(e))return XA(e);if(Ud(e))return bP(e);if(Wd(e))return xP(e)}throw zd(e)}function CP(e){return new Mt(t=>{let n=e[ba]();if(Xe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wP(e){return new Mt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function AP(e){return new Mt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Rd)})}function bP(e){return new Mt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function XA(e){return new Mt(t=>{DP(e,t).catch(n=>t.error(n))})}function xP(e){return XA(Zd(e))}function DP(e,t){var n,r,i,o;return HA(this,void 0,void 0,function*(){try{for(n=$A(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function mr(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Hd(e,t=0){return yt((n,r)=>{n.subscribe(It(r,i=>mr(r,e,()=>r.next(i),t),()=>mr(r,e,()=>r.complete(),t),i=>mr(r,e,()=>r.error(i),t)))})}function Yd(e,t=0){return yt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function qA(e,t){return xn(e).pipe(Yd(t),Hd(t))}function JA(e,t){return xn(e).pipe(Yd(t),Hd(t))}function QA(e,t){return new Mt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function KA(e,t){return new Mt(n=>{let r;return mr(n,t,()=>{r=e[Gd](),mr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Xe(r?.return)&&r.return()})}function $d(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mt(n=>{mr(n,t,()=>{let r=e[Symbol.asyncIterator]();mr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eb(e,t){return $d(Zd(e),t)}function tb(e,t){if(e!=null){if(Bd(e))return qA(e,t);if(Fd(e))return QA(e,t);if(jd(e))return JA(e,t);if(Vd(e))return $d(e,t);if(Ud(e))return KA(e,t);if(Wd(e))return eb(e,t)}throw zd(e)}function sn(e,t){return t?tb(e,t):xn(e)}function Be(...e){let t=bo(e);return sn(e,t)}function xo(e,t){let n=Xe(e)?e:()=>e,r=i=>i.error(n());return new Mt(t?i=>t.schedule(r,0,i):r)}function Sm(e){return!!e&&(e instanceof Mt||Xe(e.lift)&&Xe(e.subscribe))}var qi=Ia(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ke(e,t){return yt((n,r)=>{let i=0;n.subscribe(It(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:MP}=Array;function EP(e,t){return MP(t)?e(...t):e(t)}function nb(e){return Ke(t=>EP(e,t))}var{isArray:SP}=Array,{getPrototypeOf:NP,prototype:TP,keys:_P}=Object;function rb(e){if(e.length===1){let t=e[0];if(SP(t))return{args:t,keys:null};if(PP(t)){let n=_P(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function PP(e){return e&&typeof e=="object"&&NP(e)===TP}function ib(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Iu(...e){let t=bo(e),n=ZA(e),{args:r,keys:i}=rb(e);if(r.length===0)return sn([],t);let o=new Mt(OP(r,t,i?s=>ib(i,s):Nr));return n?o.pipe(nb(n)):o}function OP(e,t,n=Nr){return r=>{ob(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)ob(t,()=>{let c=sn(e[l],t),f=!1;c.subscribe(It(r,d=>{o[l]=d,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ob(e,t,n){e?mr(n,e,t):t()}function sb(e,t,n,r,i,o,s,a){let l=[],c=0,f=0,d=!1,v=()=>{d&&!l.length&&!c&&t.complete()},I=D=>c<r?w(D):l.push(D),w=D=>{o&&t.next(D),c++;let M=!1;xn(n(D,f++)).subscribe(It(t,T=>{i?.(T),o?I(T):t.next(T)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){let T=l.shift();s?mr(t,s,()=>w(T)):w(T)}v()}catch(T){t.error(T)}}))};return e.subscribe(It(t,I,()=>{d=!0,v()})),()=>{a?.()}}function gn(e,t,n=1/0){return Xe(t)?gn((r,i)=>Ke((o,s)=>t(r,o,i,s))(xn(e(r,i))),n):(typeof t=="number"&&(n=t),yt((r,i)=>sb(r,i,e,n)))}function Ma(e=1/0){return gn(Nr,e)}function ab(){return Ma(1)}function Ea(...e){return ab()(sn(e,bo(e)))}function Xd(e){return new Mt(t=>{xn(e()).subscribe(t)})}function vr(e,t){return yt((n,r)=>{let i=0;n.subscribe(It(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Do(e){return yt((t,n)=>{let r=null,i=!1,o;r=t.subscribe(It(n,void 0,void 0,s=>{o=xn(e(s,Do(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function lb(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(It(s,f=>{let d=c++;l=a?e(l,f,d):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Ji(e,t){return Xe(t)?gn(e,t,1):gn(e,1)}function Mo(e){return yt((t,n)=>{let r=!1;t.subscribe(It(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Qi(e){return e<=0?()=>Tr:yt((t,n)=>{let r=0;t.subscribe(It(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Nm(e){return Ke(()=>e)}function qd(e=RP){return yt((t,n)=>{let r=!1;t.subscribe(It(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function RP(){return new qi}function Eo(e){return yt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Ni(e,t){let n=arguments.length>=2;return r=>r.pipe(e?vr((i,o)=>e(i,o,r)):Nr,Qi(1),n?Mo(t):qd(()=>new qi))}function Sa(e){return e<=0?()=>Tr:yt((t,n)=>{let r=[];t.subscribe(It(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Tm(e,t){let n=arguments.length>=2;return r=>r.pipe(e?vr((i,o)=>e(i,o,r)):Nr,Sa(1),n?Mo(t):qd(()=>new qi))}function _m(e,t){return yt(lb(e,t,arguments.length>=2,!0))}function Pm(...e){let t=bo(e);return yt((n,r)=>{(t?Ea(e,n,t):Ea(e,n)).subscribe(r)})}function yr(e,t){return yt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(It(r,l=>{i?.unsubscribe();let c=0,f=o++;xn(e(l,f)).subscribe(i=It(r,d=>r.next(t?t(l,d,f,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Om(e){return yt((t,n)=>{xn(e).subscribe(It(n,()=>n.complete(),yu)),!n.closed&&t.subscribe(n)})}function Dn(e,t,n){let r=Xe(e)||t||n?{next:e,error:t,complete:n}:e;return r?yt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(It(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Nr}var Pe=class extends Error{constructor(t,n){super(Df(t,n)),this.code=t}};function Df(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Pu(e){return{toString:e}.toString()}var Jd="__parameters__";function kP(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function Wb(e,t,n){return Pu(()=>{let r=kP(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,f){let d=l.hasOwnProperty(Jd)?l[Jd]:Object.defineProperty(l,Jd,{value:[]})[Jd];for(;d.length<=f;)d.push(null);return(d[f]=d[f]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var _r=globalThis;function zt(e){for(let t in e)if(e[t]===zt)return t;throw Error("Could not find renamed property on target object.")}function Ir(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ir).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function ub(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var LP=zt({__forward_ref__:zt});function Ov(e){return e.__forward_ref__=Ov,e.toString=function(){return Ir(this())},e}function $r(e){return Hb(e)?e():e}function Hb(e){return typeof e=="function"&&e.hasOwnProperty(LP)&&e.__forward_ref__===Ov}function De(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Zn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Mf(e){return cb(e,$b)||cb(e,Xb)}function Yb(e){return Mf(e)!==null}function cb(e,t){return e.hasOwnProperty(t)?e[t]:null}function FP(e){let t=e&&(e[$b]||e[Xb]);return t||null}function db(e){return e&&(e.hasOwnProperty(fb)||e.hasOwnProperty(jP))?e[fb]:null}var $b=zt({\u0275prov:zt}),fb=zt({\u0275inj:zt}),Xb=zt({ngInjectableDef:zt}),jP=zt({ngInjectorDef:zt}),Oe=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=De({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qb(e){return e&&!!e.\u0275providers}var BP=zt({\u0275cmp:zt}),VP=zt({\u0275dir:zt}),zP=zt({\u0275pipe:zt}),GP=zt({\u0275mod:zt}),sf=zt({\u0275fac:zt}),Cu=zt({__NG_ELEMENT_ID__:zt}),hb=zt({__NG_ENV_ID__:zt});function Jb(e){return typeof e=="string"?e:e==null?"":String(e)}function UP(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Jb(e)}function ZP(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Pe(-200,e)}function Rv(e,t){throw new Pe(-201,!1)}var tt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(tt||{}),Um;function Qb(){return Um}function Yr(e){let t=Um;return Um=e,t}function Kb(e,t,n){let r=Mf(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&tt.Optional)return null;if(t!==void 0)return t;Rv(e,"Injector")}var WP={},Au=WP,Zm="__NG_DI_FLAG__",af="ngTempTokenPath",HP="ngTokenPath",YP=/\n/gm,$P="\u0275",pb="__source",Oa;function XP(){return Oa}function So(e){let t=Oa;return Oa=e,t}function qP(e,t=tt.Default){if(Oa===void 0)throw new Pe(-203,!1);return Oa===null?Kb(e,void 0,t):Oa.get(e,t&tt.Optional?null:void 0,t)}function Se(e,t=tt.Default){return(Qb()||qP)($r(e),t)}function ye(e,t=tt.Default){return Se(e,Ef(t))}function Ef(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Wm(e){let t=[];for(let n=0;n<e.length;n++){let r=$r(e[n]);if(Array.isArray(r)){if(r.length===0)throw new Pe(900,!1);let i,o=tt.Default;for(let s=0;s<r.length;s++){let a=r[s],l=JP(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(Se(i,o))}else t.push(Se(r))}return t}function ex(e,t){return e[Zm]=t,e.prototype[Zm]=t,e}function JP(e){return e[Zm]}function QP(e,t,n,r){let i=e[af];throw t[pb]&&i.unshift(t[pb]),e.message=KP(`
`+e.message,i,n,r),e[HP]=i,e[af]=null,e}function KP(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==$P?e.slice(2):e;let i=Ir(t);if(Array.isArray(t))i=t.map(Ir).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ir(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(YP,`
  `)}`}var Sf=ex(Wb("Optional"),8);var kv=ex(Wb("SkipSelf"),4);function La(e,t){let n=e.hasOwnProperty(sf);return n?e[sf]:null}function eO(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function tO(e){return e.flat(Number.POSITIVE_INFINITY)}function Lv(e,t){e.forEach(n=>Array.isArray(n)?Lv(n,t):t(n))}function tx(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function lf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var bu={},Ti=[],Fa=new Oe(""),nx=new Oe("",-1),rx=new Oe(""),uf=class{get(t,n=Au){if(n===Au){let r=new Error(`NullInjectorError: No provider for ${Ir(t)}!`);throw r.name="NullInjectorError",r}return n}},ix=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ix||{}),Oi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Oi||{}),Ki=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ki||{});function nO(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Hm(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];iO(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function rO(e){return e===3||e===4||e===6}function iO(e){return e.charCodeAt(0)===64}function Fv(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gb(e,n,i,null,t[++r]):gb(e,n,i,null,null))}}return e}function gb(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var ox="ng-template";function oO(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&nO(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jv(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function jv(e){return e.type===4&&e.value!==ox}function sO(e,t,n){let r=e.type===4&&!n?ox:e.value;return t===r}function aO(e,t,n){let r=4,i=e.attrs,o=i!==null?cO(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!ui(r)&&!ui(l))return!1;if(s&&ui(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!sO(e,l,n)||l===""&&t.length===1){if(ui(r))return!1;s=!0}}else if(r&8){if(i===null||!oO(e,i,l,n)){if(ui(r))return!1;s=!0}}else{let c=t[++a],f=lO(l,i,jv(e),n);if(f===-1){if(ui(r))return!1;s=!0;continue}if(c!==""){let d;if(f>o?d="":d=i[f+1].toLowerCase(),r&2&&c!==d){if(ui(r))return!1;s=!0}}}}return ui(r)||s}function ui(e){return(e&1)===0}function lO(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return dO(t,e)}function uO(e,t,n=!1){for(let r=0;r<t.length;r++)if(aO(e,t[r],n))return!0;return!1}function cO(e){for(let t=0;t<e.length;t++){let n=e[t];if(rO(n))return t}return e.length}function dO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function mb(e,t){return e?":not("+t.trim()+")":t}function fO(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ui(s)&&(t+=mb(o,i),i=""),r=s,o=o||!ui(r);n++}return i!==""&&(t+=mb(o,i)),t}function hO(e){return e.map(fO).join(",")}function pO(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!ui(i))break;i=o}r++}return{attrs:t,classes:n}}function cn(e){return Pu(()=>{let t=cx(e),n=un(Me({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ix.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Oi.Emulated,styles:e.styles||Ti,_:null,schemas:e.schemas||null,tView:null,id:""});dx(n);let r=e.dependencies;return n.directiveDefs=yb(r,!1),n.pipeDefs=yb(r,!0),n.id=vO(n),n})}function gO(e){return To(e)||sx(e)}function mO(e){return e!==null}function Wn(e){return Pu(()=>({type:e.type,bootstrap:e.bootstrap||Ti,declarations:e.declarations||Ti,imports:e.imports||Ti,exports:e.exports||Ti,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function vb(e,t){if(e==null)return bu;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Ki.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Ki.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Ga(e){return Pu(()=>{let t=cx(e);return dx(t),t})}function To(e){return e[BP]||null}function sx(e){return e[VP]||null}function ax(e){return e[zP]||null}function lx(e){let t=To(e)||sx(e)||ax(e);return t!==null?t.standalone:!1}function ux(e,t){let n=e[GP]||null;if(!n&&t===!0)throw new Error(`Type ${Ir(e)} does not have '\u0275mod' property.`);return n}function cx(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||bu,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ti,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vb(e.inputs,t),outputs:vb(e.outputs),debugInfo:null}}function dx(e){e.features?.forEach(t=>t(e))}function yb(e,t){if(!e)return null;let n=t?ax:gO;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(mO)}function vO(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Nf(e){return{\u0275providers:e}}function yO(...e){return{\u0275providers:fx(!0,e),\u0275fromNgModule:!0}}function fx(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lv(t,s=>{let a=s;Ym(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hx(i,o),n}function hx(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Bv(i,o=>{t(o,r)})}}function Ym(e,t,n,r){if(e=$r(e),!e)return!1;let i=null,o=db(e),s=!o&&To(e);if(!o&&!s){let l=e.ngModule;if(o=db(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ym(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Lv(o.imports,f=>{Ym(f,t,n,r)&&(c||=[],c.push(f))})}finally{}c!==void 0&&hx(c,t)}if(!a){let c=La(i)||(()=>new i);t({provide:i,useFactory:c,deps:Ti},i),t({provide:rx,useValue:i,multi:!0},i),t({provide:Fa,useValue:()=>Se(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Bv(l,f=>{t(f,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Bv(e,t){for(let n of e)qb(n)&&(n=n.\u0275providers),Array.isArray(n)?Bv(n,t):t(n)}var IO=zt({provide:String,useValue:zt});function px(e){return e!==null&&typeof e=="object"&&IO in e}function CO(e){return!!(e&&e.useExisting)}function wO(e){return!!(e&&e.useFactory)}function $m(e){return typeof e=="function"}var Tf=new Oe(""),Kd={},AO={},Rm;function Vv(){return Rm===void 0&&(Rm=new uf),Rm}var Un=class{},xu=class extends Un{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qm(t,s=>this.processProvider(s)),this.records.set(nx,Na(void 0,this)),i.has("environment")&&this.records.set(Un,Na(void 0,this));let o=this.records.get(Tf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rx,Ti,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Dt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Dt(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=So(this),r=Yr(void 0),i;try{return t()}finally{So(n),Yr(r)}}get(t,n=Au,r=tt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hb))return t[hb](this);r=Ef(r);let i,o=So(this),s=Yr(void 0);try{if(!(r&tt.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=SO(t)&&Mf(t);c&&this.injectableDefInScope(c)?l=Na(Xm(t),Kd):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&tt.Self?Vv():this.parent;return n=r&tt.Optional&&n===Au?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[af]=a[af]||[]).unshift(Ir(t)),o)throw a;return QP(a,t,"R3InjectorError",this.source)}else throw a}finally{Yr(s),So(o)}}resolveInjectorInitializers(){let t=Dt(null),n=So(this),r=Yr(void 0),i;try{let o=this.get(Fa,Ti,tt.Self);for(let s of o)s()}finally{So(n),Yr(r),Dt(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ir(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(t){t=$r(t);let n=$m(t)?t:$r(t&&t.provide),r=xO(t);if(!$m(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Na(void 0,Kd,!0),i.factory=()=>Wm(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Dt(null);try{return n.value===Kd&&(n.value=AO,n.value=n.factory()),typeof n.value=="object"&&n.value&&EO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Dt(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$r(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xm(e){let t=Mf(e),n=t!==null?t.factory:La(e);if(n!==null)return n;if(e instanceof Oe)throw new Pe(204,!1);if(e instanceof Function)return bO(e);throw new Pe(204,!1)}function bO(e){if(e.length>0)throw new Pe(204,!1);let n=FP(e);return n!==null?()=>n.factory(e):()=>new e}function xO(e){if(px(e))return Na(void 0,e.useValue);{let t=DO(e);return Na(t,Kd)}}function DO(e,t,n){let r;if($m(e)){let i=$r(e);return La(i)||Xm(i)}else if(px(e))r=()=>$r(e.useValue);else if(wO(e))r=()=>e.useFactory(...Wm(e.deps||[]));else if(CO(e))r=()=>Se($r(e.useExisting));else{let i=$r(e&&(e.useClass||e.provide));if(MO(e))r=()=>new i(...Wm(e.deps));else return La(i)||Xm(i)}return r}function Na(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function MO(e){return!!e.deps}function EO(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function SO(e){return typeof e=="function"||typeof e=="object"&&e instanceof Oe}function qm(e,t){for(let n of e)Array.isArray(n)?qm(n,t):n&&qb(n)?qm(n.\u0275providers,t):t(n)}function fi(e,t){e instanceof xu&&e.assertNotDestroyed();let n,r=So(e),i=Yr(void 0);try{return t()}finally{So(r),Yr(i)}}function gx(){return Qb()!==void 0||XP()!=null}function NO(e){if(!gx())throw new Pe(-203,!1)}function TO(e){let t=_r.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function _O(e){return typeof e=="function"}var no=0,nt=1,ze=2,On=3,ci=4,hi=5,cf=6,Du=7,di=8,ja=9,Ri=10,Cr=11,Mu=12,Ib=13,Ua=14,ki=15,Ou=16,Ta=17,eo=18,_f=19,mx=20,No=21,km=22,ms=23,to=25,vx=1;var vs=7,df=8,Ba=9,Pr=10,zv=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(zv||{});function Ra(e){return Array.isArray(e)&&typeof e[vx]=="object"}function ro(e){return Array.isArray(e)&&e[vx]===!0}function yx(e){return(e.flags&4)!==0}function Pf(e){return e.componentOffset>-1}function Gv(e){return(e.flags&1)===1}function Ru(e){return!!e.template}function PO(e){return(e[ze]&512)!==0}var Jm=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ix(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function pi(){return Cx}function Cx(e){return e.type.prototype.ngOnChanges&&(e.setInput=RO),OO}pi.ngInherit=!0;function OO(){let e=Ax(this),t=e?.current;if(t){let n=e.previous;if(n===bu)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function RO(e,t,n,r,i){let o=this.declaredInputs[r],s=Ax(e)||kO(e,{previous:bu,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Jm(c&&c.currentValue,n,l===bu),Ix(e,t,i,n)}var wx="__ngSimpleChanges__";function Ax(e){return e[wx]||null}function kO(e,t){return e[wx]=t}var Cb=null;var _i=function(e,t,n){Cb?.(e,t,n)},LO="svg",FO="math",jO=!1;function BO(){return jO}function Li(e){for(;Array.isArray(e);)e=e[no];return e}function VO(e,t){return Li(t[e])}function gi(e,t){return Li(t[e.index])}function bx(e,t){return e.data[t]}function zO(e,t){return e[t]}function As(e,t){let n=t[e];return Ra(n)?n:n[no]}function GO(e){return(e[ze]&4)===4}function Uv(e){return(e[ze]&128)===128}function UO(e){return ro(e[On])}function ff(e,t){return t==null?null:e[t]}function xx(e){e[Ta]=0}function ZO(e){e[ze]&1024||(e[ze]|=1024,Uv(e)&&Eu(e))}function WO(e,t){for(;e>0;)t=t[Ua],e--;return t}function Zv(e){return!!(e[ze]&9216||e[ms]?.dirty)}function Qm(e){e[Ri].changeDetectionScheduler?.notify(1),Zv(e)?Eu(e):e[ze]&64&&(BO()?(e[ze]|=1024,Eu(e)):e[Ri].changeDetectionScheduler?.notify())}function Eu(e){e[Ri].changeDetectionScheduler?.notify();let t=Su(e);for(;t!==null&&!(t[ze]&8192||(t[ze]|=8192,!Uv(t)));)t=Su(t)}function Dx(e,t){if((e[ze]&256)===256)throw new Pe(911,!1);e[No]===null&&(e[No]=[]),e[No].push(t)}function HO(e,t){if(e[No]===null)return;let n=e[No].indexOf(t);n!==-1&&e[No].splice(n,1)}function Su(e){let t=e[On];return ro(t)?t[On]:t}var ut={lFrame:Ox(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function YO(){return ut.lFrame.elementDepthCount}function $O(){ut.lFrame.elementDepthCount++}function XO(){ut.lFrame.elementDepthCount--}function Mx(){return ut.bindingsEnabled}function qO(){return ut.skipHydrationRootTNode!==null}function JO(e){return ut.skipHydrationRootTNode===e}function QO(){ut.skipHydrationRootTNode=null}function hn(){return ut.lFrame.lView}function io(){return ut.lFrame.tView}function qt(e){return ut.lFrame.contextLView=e,e[di]}function Jt(e){return ut.lFrame.contextLView=null,e}function ji(){let e=Ex();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ex(){return ut.lFrame.currentTNode}function KO(){let e=ut.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ku(e,t){let n=ut.lFrame;n.currentTNode=e,n.isParent=t}function Sx(){return ut.lFrame.isParent}function eR(){ut.lFrame.isParent=!1}function tR(){return ut.lFrame.contextLView}function nR(e){return ut.lFrame.bindingIndex=e}function Nx(){return ut.lFrame.bindingIndex++}function rR(){return ut.lFrame.inI18n}function iR(e,t){let n=ut.lFrame;n.bindingIndex=n.bindingRootIndex=e,Km(t)}function oR(){return ut.lFrame.currentDirectiveIndex}function Km(e){ut.lFrame.currentDirectiveIndex=e}function Tx(){return ut.lFrame.currentQueryIndex}function Wv(e){ut.lFrame.currentQueryIndex=e}function sR(e){let t=e[nt];return t.type===2?t.declTNode:t.type===1?e[hi]:null}function _x(e,t,n){if(n&tt.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&tt.Host);)if(i=sR(o),i===null||(o=o[Ua],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=ut.lFrame=Px();return r.currentTNode=t,r.lView=e,!0}function Hv(e){let t=Px(),n=e[nt];ut.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Px(){let e=ut.lFrame,t=e===null?null:e.child;return t===null?Ox(e):t}function Ox(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Rx(){let e=ut.lFrame;return ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var kx=Rx;function Yv(){let e=Rx();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function aR(e){return(ut.lFrame.contextLView=WO(e,ut.lFrame.contextLView))[di]}function $v(){return ut.lFrame.selectedIndex}function ys(e){ut.lFrame.selectedIndex=e}function lR(){let e=ut.lFrame;return bx(e.tView,e.selectedIndex)}function uR(){return ut.lFrame.currentNamespace}var Lx=!0;function Xv(){return Lx}function qv(e){Lx=e}function cR(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Cx(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Jv(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),f!=null&&(e.destroyHooks??=[]).push(n,f)}}function ef(e,t,n){Fx(e,t,3,n)}function tf(e,t,n,r){(e[ze]&3)===n&&Fx(e,t,n,r)}function Lm(e,t){let n=e[ze];(n&3)===t&&(n&=16383,n+=1,e[ze]=n)}function Fx(e,t,n,r){let i=r!==void 0?e[Ta]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Ta]+=65536),(a<o||o==-1)&&(dR(e,n,t,l),e[Ta]=(e[Ta]&4294901760)+l+2),l++}function wb(e,t){_i(4,e,t);let n=Dt(null);try{t.call(e)}finally{Dt(n),_i(5,e,t)}}function dR(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[ze]>>14<e[Ta]>>16&&(e[ze]&3)===t&&(e[ze]+=16384,wb(a,o)):wb(a,o)}var ka=-1,Nu=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fR(e){return e instanceof Nu}function hR(e){return(e.flags&8)!==0}function pR(e){return(e.flags&16)!==0}function jx(e){return e!==ka}function hf(e){return e&32767}function gR(e){return e>>16}function pf(e,t){let n=gR(e),r=t;for(;n>0;)r=r[Ua],n--;return r}var ev=!0;function Ab(e){let t=ev;return ev=e,t}var mR=256,Bx=mR-1,Vx=5,vR=0,Pi={};function yR(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cu)&&(r=n[Cu]),r==null&&(r=n[Cu]=vR++);let i=r&Bx,o=1<<i;t.data[e+(i>>Vx)]|=o}function zx(e,t){let n=Gx(e,t);if(n!==-1)return n;let r=t[nt];r.firstCreatePass&&(e.injectorIndex=t.length,Fm(r.data,e),Fm(t,null),Fm(r.blueprint,null));let i=Qv(e,t),o=e.injectorIndex;if(jx(i)){let s=hf(i),a=pf(i,t),l=a[nt].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Fm(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Gx(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Qv(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Yx(i),r===null)return ka;if(n++,i=i[Ua],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ka}function IR(e,t,n){yR(e,t,n)}function Ux(e,t,n){if(n&tt.Optional||e!==void 0)return e;Rv(t,"NodeInjector")}function Zx(e,t,n,r){if(n&tt.Optional&&r===void 0&&(r=null),!(n&(tt.Self|tt.Host))){let i=e[ja],o=Yr(void 0);try{return i?i.get(t,r,n&tt.Optional):Kb(t,r,n&tt.Optional)}finally{Yr(o)}}return Ux(r,t,n)}function Wx(e,t,n,r=tt.Default,i){if(e!==null){if(t[ze]&2048&&!(r&tt.Self)){let s=bR(e,t,n,r,Pi);if(s!==Pi)return s}let o=Hx(e,t,n,r,Pi);if(o!==Pi)return o}return Zx(t,n,r,i)}function Hx(e,t,n,r,i){let o=wR(n);if(typeof o=="function"){if(!_x(t,e,r))return r&tt.Host?Ux(i,n,r):Zx(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&tt.Optional))Rv(n);else return s}finally{kx()}}else if(typeof o=="number"){let s=null,a=Gx(e,t),l=ka,c=r&tt.Host?t[ki][hi]:null;for((a===-1||r&tt.SkipSelf)&&(l=a===-1?Qv(e,t):t[a+8],l===ka||!xb(r,!1)?a=-1:(s=t[nt],a=hf(l),t=pf(l,t)));a!==-1;){let f=t[nt];if(bb(o,a,f.data)){let d=CR(a,t,n,s,r,c);if(d!==Pi)return d}l=t[a+8],l!==ka&&xb(r,t[nt].data[a+8]===c)&&bb(o,a,t)?(s=f,a=hf(l),t=pf(l,t)):a=-1}}return i}function CR(e,t,n,r,i,o){let s=t[nt],a=s.data[e+8],l=r==null?Pf(a)&&ev:r!=s&&(a.type&3)!==0,c=i&tt.Host&&o===a,f=nf(a,s,n,l,c);return f!==null?Va(t,s,f,a):Pi}function nf(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,f=o>>20,d=r?a:a+f,v=i?a+f:c;for(let I=d;I<v;I++){let w=s[I];if(I<l&&n===w||I>=l&&w.type===n)return I}if(i){let I=s[l];if(I&&Ru(I)&&I.type===n)return l}return null}function Va(e,t,n,r){let i=e[n],o=t.data;if(fR(i)){let s=i;s.resolving&&ZP(UP(o[n]));let a=Ab(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Yr(s.injectImpl):null,f=_x(e,r,tt.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&cR(n,o[n],t)}finally{c!==null&&Yr(c),Ab(a),s.resolving=!1,kx()}}return i}function wR(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Cu)?e[Cu]:void 0;return typeof t=="number"?t>=0?t&Bx:AR:t}function bb(e,t,n){let r=1<<e;return!!(n[t+(e>>Vx)]&r)}function xb(e,t){return!(e&tt.Self)&&!(e&tt.Host&&t)}var gs=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Wx(this._tNode,this._lView,t,Ef(r),n)}};function AR(){return new gs(ji(),hn())}function Of(e){return Pu(()=>{let t=e.prototype.constructor,n=t[sf]||tv(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[sf]||tv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tv(e){return Hb(e)?()=>{let t=tv($r(e));return t&&t()}:La(e)}function bR(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ze]&2048&&!(s[ze]&512);){let a=Hx(o,s,n,r|tt.Self,Pi);if(a!==Pi)return a;let l=o.parent;if(!l){let c=s[mx];if(c){let f=c.get(n,Pi,r);if(f!==Pi)return f}l=Yx(s),s=s[Ua]}o=l}return i}function Yx(e){let t=e[nt],n=t.type;return n===2?t.declTNode:n===1?e[hi]:null}function Db(e,t=null,n=null,r){let i=$x(e,t,n,r);return i.resolveInjectorInitializers(),i}function $x(e,t=null,n=null,r,i=new Set){let o=[n||Ti,yO(e)];return r=r||(typeof e=="object"?void 0:Ir(e)),new xu(o,t||Vv(),r||null,i)}var mi=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Au}static{this.NULL=new uf}static create(n,r){if(Array.isArray(n))return Db({name:""},r,n,"");{let i=n.name??"";return Db({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=De({token:e,providedIn:"any",factory:()=>Se(nx)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var xR="ngOriginalError";function jm(e){return e[xR]}var Fi=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&jm(t);for(;n&&jm(n);)n=jm(n);return n||null}},Xx=new Oe("",{providedIn:"root",factory:()=>ye(Fi).handleError.bind(void 0)}),Kv=(()=>{class e{static{this.__NG_ELEMENT_ID__=DR}static{this.__NG_ENV_ID__=n=>n}}return e})(),nv=class extends Kv{constructor(t){super(),this._lView=t}onDestroy(t){return Dx(this._lView,t),()=>HO(this._lView,t)}};function DR(){return new nv(hn())}function MR(){return Za(ji(),hn())}function Za(e,t){return new Po(gi(e,t))}var Po=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=MR}}return e})();function ER(e){return e instanceof Po?e.nativeElement:e}var rv=class extends tr{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,gx()&&(this.destroyRef=ye(Kv,{optional:!0})??void 0)}emit(t){let n=Dt(null);try{super.next(t)}finally{Dt(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Bm(o),i&&(i=Bm(i)),s&&(s=Bm(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof In&&t.add(a),a}};function Bm(e){return t=>{setTimeout(e,void 0,t)}}var Cn=rv;function SR(){return this._results[Symbol.iterator]()}var iv=class e{get changes(){return this._changes??=new Cn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=SR)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=tO(t);(this._changesDetected=!eO(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function qx(e){return(e.flags&128)===128}var Jx=new Map,NR=0;function TR(){return NR++}function _R(e){Jx.set(e[_f],e)}function PR(e){Jx.delete(e[_f])}var Mb="__ngContext__";function Is(e,t){Ra(t)?(e[Mb]=t[_f],_R(t)):e[Mb]=t}function Qx(e){return eD(e[Mu])}function Kx(e){return eD(e[ci])}function eD(e){for(;e!==null&&!ro(e);)e=e[ci];return e}var ov;function tD(e){ov=e}function OR(){if(ov!==void 0)return ov;if(typeof document<"u")return document;throw new Pe(210,!1)}var Rf=new Oe("",{providedIn:"root",factory:()=>RR}),RR="ng",ey=new Oe(""),Bi=new Oe("",{providedIn:"platform",factory:()=>"unknown"});var ty=new Oe("",{providedIn:"root",factory:()=>OR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kR="h",LR="b";var FR=()=>null;function ny(e,t,n=!1){return FR(e,t,n)}var nD=!1,jR=new Oe("",{providedIn:"root",factory:()=>nD});function rD(e){return e instanceof Function?e():e}function BR(e){return(e??ye(mi)).get(Bi)==="browser"}var bs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(bs||{}),VR;function ry(e,t){return VR(e,t)}function _a(e,t,n,r,i){if(r!=null){let o,s=!1;ro(r)?o=r:Ra(r)&&(s=!0,r=r[no]);let a=Li(r);e===0&&n!==null?i==null?lD(t,n,a):gf(t,n,a,i||null,!0):e===1&&n!==null?gf(t,n,a,i||null,!0):e===2?rk(t,a,s):e===3&&t.destroyNode(a),o!=null&&ok(t,e,o,n,i)}}function zR(e,t){return e.createText(t)}function GR(e,t,n){e.setValue(t,n)}function iD(e,t,n){return e.createElement(t,n)}function UR(e,t){oD(e,t),t[no]=null,t[hi]=null}function ZR(e,t,n,r,i,o){r[no]=i,r[hi]=t,kf(e,r,n,1,i,o)}function oD(e,t){t[Ri].changeDetectionScheduler?.notify(1),kf(e,t,t[Cr],2,null,null)}function WR(e){let t=e[Mu];if(!t)return Vm(e[nt],e);for(;t;){let n=null;if(Ra(t))n=t[Mu];else{let r=t[Pr];r&&(n=r)}if(!n){for(;t&&!t[ci]&&t!==e;)Ra(t)&&Vm(t[nt],t),t=t[On];t===null&&(t=e),Ra(t)&&Vm(t[nt],t),n=t&&t[ci]}t=n}}function HR(e,t,n,r){let i=Pr+r,o=n.length;r>0&&(n[i-1][ci]=t),r<o-Pr?(t[ci]=n[i],tx(n,Pr+r,t)):(n.push(t),t[ci]=null),t[On]=n;let s=t[Ou];s!==null&&n!==s&&YR(s,t);let a=t[eo];a!==null&&a.insertView(e),Qm(t),t[ze]|=128}function YR(e,t){let n=e[Ba],i=t[On][On][ki];t[ki]!==i&&(e[ze]|=zv.HasTransplantedViews),n===null?e[Ba]=[t]:n.push(t)}function sD(e,t){let n=e[Ba],r=n.indexOf(t);n.splice(r,1)}function sv(e,t){if(e.length<=Pr)return;let n=Pr+t,r=e[n];if(r){let i=r[Ou];i!==null&&i!==e&&sD(i,r),t>0&&(e[n-1][ci]=r[ci]);let o=lf(e,Pr+t);UR(r[nt],r);let s=o[eo];s!==null&&s.detachView(o[nt]),r[On]=null,r[ci]=null,r[ze]&=-129}return r}function aD(e,t){if(!(t[ze]&256)){let n=t[Cr];n.destroyNode&&kf(e,t,n,3,null,null),WR(t)}}function Vm(e,t){if(t[ze]&256)return;let n=Dt(null);try{t[ze]&=-129,t[ze]|=256,t[ms]&&OA(t[ms]),XR(e,t),$R(e,t),t[nt].type===1&&t[Cr].destroy();let r=t[Ou];if(r!==null&&ro(t[On])){r!==t[On]&&sD(r,t);let i=t[eo];i!==null&&i.detachView(e)}PR(t)}finally{Dt(n)}}function $R(e,t){let n=e.cleanup,r=t[Du];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Du]=null);let i=t[No];if(i!==null){t[No]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function XR(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Nu)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];_i(4,a,l);try{l.call(a)}finally{_i(5,a,l)}}else{_i(4,i,o);try{o.call(i)}finally{_i(5,i,o)}}}}}function qR(e,t,n){return JR(e,t.parent,n)}function JR(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[no];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Oi.None||o===Oi.Emulated)return null}return gi(r,n)}}function gf(e,t,n,r,i){e.insertBefore(t,n,r,i)}function lD(e,t,n){e.appendChild(t,n)}function Eb(e,t,n,r,i){r!==null?gf(e,t,n,r,i):lD(e,t,n)}function QR(e,t,n,r){e.removeChild(t,n,r)}function iy(e,t){return e.parentNode(t)}function KR(e,t){return e.nextSibling(t)}function ek(e,t,n){return nk(e,t,n)}function tk(e,t,n){return e.type&40?gi(e,n):null}var nk=tk,Sb;function oy(e,t,n,r){let i=qR(e,r,t),o=t[Cr],s=r.parent||t[hi],a=ek(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Eb(o,i,n[l],a,!1);else Eb(o,i,n,a,!1);Sb!==void 0&&Sb(o,r,t,n,i)}function rf(e,t){if(t!==null){let n=t.type;if(n&3)return gi(t,e);if(n&4)return av(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return rf(e,r);{let i=e[t.index];return ro(i)?av(-1,i):Li(i)}}else{if(n&32)return ry(t,e)()||Li(e[t.index]);{let r=uD(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Su(e[ki]);return rf(i,r)}else return rf(e,t.next)}}}return null}function uD(e,t){if(t!==null){let r=e[ki][hi],i=t.projection;return r.projection[i]}return null}function av(e,t){let n=Pr+e+1;if(n<t.length){let r=t[n],i=r[nt].firstChild;if(i!==null)return rf(r,i)}return t[vs]}function rk(e,t,n){let r=iy(e,t);r&&QR(e,r,t,n)}function sy(e,t,n,r,i,o,s){for(;n!=null;){let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Is(Li(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)sy(e,t,n.child,r,i,o,!1),_a(t,e,i,a,o);else if(l&32){let c=ry(n,r),f;for(;f=c();)_a(t,e,i,f,o);_a(t,e,i,a,o)}else l&16?ik(e,t,r,n,i,o):_a(t,e,i,a,o);n=s?n.projectionNext:n.next}}function kf(e,t,n,r,i,o){sy(n,r,e.firstChild,t,i,o,!1)}function ik(e,t,n,r,i,o){let s=n[ki],l=s[hi].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let f=l[c];_a(t,e,i,f,o)}else{let c=l,f=s[On];qx(r)&&(c.flags|=128),sy(e,t,c,f,i,o,!0)}}function ok(e,t,n,r,i){let o=n[vs],s=Li(n);o!==s&&_a(t,e,r,o,i);for(let a=Pr;a<n.length;a++){let l=n[a];kf(l[nt],l,e,t,r,o)}}function sk(e,t,n){e.setAttribute(t,"style",n)}function cD(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function dD(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Hm(e,t,r),i!==null&&cD(e,t,i),o!==null&&sk(e,t,o)}var Lf={};function Or(e=1){fD(io(),hn(),$v()+e,!1)}function fD(e,t,n,r){if(!r)if((t[ze]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ef(t,o,n)}else{let o=e.preOrderHooks;o!==null&&tf(t,o,0,n)}ys(n)}function wn(e,t=tt.Default){let n=hn();if(n===null)return Se(e,t);let r=ji();return Wx(r,n,$r(e),t)}function hD(){let e="invalid";throw new Error(e)}function pD(e,t,n,r,i,o){let s=Dt(null);try{let a=null;i&Ki.SignalBased&&(a=t[r][NA]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ki.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):Ix(t,a,r,o)}finally{Dt(s)}}function ak(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ys(~i);else{let o=i,s=n[++r],a=n[++r];iR(s,o);let l=t[o];a(2,l)}}}finally{ys(-1)}}function Ff(e,t,n,r,i,o,s,a,l,c,f){let d=t.blueprint.slice();return d[no]=i,d[ze]=r|4|128|8|64,(c!==null||e&&e[ze]&2048)&&(d[ze]|=2048),xx(d),d[On]=d[Ua]=e,d[di]=n,d[Ri]=s||e&&e[Ri],d[Cr]=a||e&&e[Cr],d[ja]=l||e&&e[ja]||null,d[hi]=o,d[_f]=TR(),d[cf]=f,d[mx]=c,d[ki]=t.type==2?e[ki]:d,d}function jf(e,t,n,r,i){let o=e.data[t];if(o===null)o=lk(e,t,n,r,i),rR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=KO();o.injectorIndex=s===null?-1:s.injectorIndex}return ku(o,!0),o}function lk(e,t,n,r,i){let o=Ex(),s=Sx(),a=s?o:o&&o.parent,l=e.data[t]=pk(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function gD(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function mD(e,t,n,r,i){let o=$v(),s=r&2;try{ys(-1),s&&t.length>to&&fD(e,t,to,!1),_i(s?2:0,i),n(r,i)}finally{ys(o),_i(s?3:1,i)}}function vD(e,t,n){if(yx(t)){let r=Dt(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Dt(r)}}}function yD(e,t,n){Mx()&&(wk(e,t,n,gi(n,t)),(n.flags&64)===64&&bD(e,t,n))}function ID(e,t,n=gi){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function CD(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ay(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ay(e,t,n,r,i,o,s,a,l,c,f){let d=to+r,v=d+i,I=uk(d,v),w=typeof c=="function"?c():c;return I[nt]={type:e,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:t,data:I.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:f}}function uk(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Lf);return n}function ck(e,t,n,r){let o=r.get(jR,nD)||n===Oi.ShadowDom,s=e.selectRootElement(t,o);return dk(s),s}function dk(e){fk(e)}var fk=()=>null;function hk(e,t,n,r){let i=MD(t);i.push(n),e.firstCreatePass&&ED(e).push(r,i.length-1)}function pk(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return qO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Nb(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=Ki.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}e===0?Tb(r,n,c,a,l):Tb(r,n,c,a)}return r}function Tb(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function gk(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let f=r;f<i;f++){let d=o[f],v=n?n.get(d):null,I=v?v.inputs:null,w=v?v.outputs:null;l=Nb(0,d.inputs,f,l,I),c=Nb(1,d.outputs,f,c,w);let D=l!==null&&s!==null&&!jv(t)?Tk(l,f,s):null;a.push(D)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function mk(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function vk(e,t,n,r,i,o,s,a){let l=gi(t,n),c=t.inputs,f;!a&&c!=null&&(f=c[r])?(ly(e,n,f,r,i),Pf(t)&&yk(n,t.index)):t.type&3?(r=mk(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function yk(e,t){let n=As(t,e);n[ze]&16||(n[ze]|=64)}function wD(e,t,n,r){if(Mx()){let i=r===null?null:{"":-1},o=bk(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&AD(e,t,n,s,i,a),i&&xk(n,r,i)}n.mergedAttrs=Fv(n.mergedAttrs,n.attrs)}function AD(e,t,n,r,i,o){for(let c=0;c<r.length;c++)IR(zx(n,t),e,r[c].type);Mk(n,e.data.length,r.length);for(let c=0;c<r.length;c++){let f=r[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=gD(e,t,r.length,null);for(let c=0;c<r.length;c++){let f=r[c];n.mergedAttrs=Fv(n.mergedAttrs,f.hostAttrs),Ek(e,n,t,l,f),Dk(l,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let d=f.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}gk(e,n,o)}function Ik(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Ck(s)!=a&&s.push(a),s.push(n,r,o)}}function Ck(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function wk(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;Pf(n)&&Sk(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||zx(n,t),Is(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],c=Va(t,e,a,n);if(Is(c,t),s!==null&&Nk(t,a-i,c,l,n,s),Ru(l)){let f=As(n.index,t);f[di]=Va(t,e,a,n)}}}function bD(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oR();try{ys(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Km(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Ak(l,c)}}finally{ys(-1),Km(s)}}function Ak(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function bk(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(uO(t,s.selectors,!1))if(r||(r=[]),Ru(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;lv(e,t,l)}else r.unshift(s),lv(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function lv(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function xk(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new Pe(-301,!1);r.push(t[i],o)}}}function Dk(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ru(t)&&(n[""]=e)}}function Mk(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ek(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=La(i.type,!0)),s=new Nu(o,Ru(i),wn);e.blueprint[r]=s,n[r]=s,Ik(e,t,r,gD(e,n,i.hostVars,Lf),i)}function Sk(e,t,n){let r=gi(t,e),i=CD(n),o=e[Ri].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Bf(e,Ff(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function Nk(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],f=s[a++],d=s[a++];pD(r,n,l,c,f,d)}}function Tk(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function xD(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function DD(e,t){let n=e.contentQueries;if(n!==null){let r=Dt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Wv(o),a.contentQueries(2,t[s],s)}}}finally{Dt(r)}}}function Bf(e,t){return e[Mu]?e[Ib][ci]=t:e[Mu]=t,e[Ib]=t,t}function uv(e,t,n){Wv(0);let r=Dt(null);try{t(e,n)}finally{Dt(r)}}function MD(e){return e[Du]||(e[Du]=[])}function ED(e){return e.cleanup||(e.cleanup=[])}function SD(e,t){let n=e[ja],r=n?n.get(Fi,null):null;r&&r.handleError(t)}function ly(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],f=e.data[s];pD(f,c,r,a,l,i)}}function _k(e,t,n){let r=VO(t,e);GR(e[Cr],r,n)}function Pk(e,t){let n=As(t,e),r=n[nt];Ok(r,n);let i=n[no];i!==null&&n[cf]===null&&(n[cf]=ny(i,n[ja])),uy(r,n,n[di])}function Ok(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function uy(e,t,n){Hv(t);try{let r=e.viewQuery;r!==null&&uv(1,r,n);let i=e.template;i!==null&&mD(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[eo]?.finishViewCreation(e),e.staticContentQueries&&DD(e,t),e.staticViewQueries&&uv(2,e.viewQuery,n);let o=e.components;o!==null&&Rk(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ze]&=-5,Yv()}}function Rk(e,t){for(let n=0;n<t.length;n++)Pk(e,t[n])}function kk(e,t,n,r){let i=Dt(null);try{let o=t.tView,a=e[ze]&4096?4096:16,l=Ff(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[Ou]=c;let f=e[eo];return f!==null&&(l[eo]=f.createEmbeddedView(o)),uy(o,l,n),l}finally{Dt(i)}}function _b(e,t){return!t||t.firstChild===null||qx(e)}function Lk(e,t,n,r=!0){let i=t[nt];if(HR(i,t,e,n),r){let s=av(n,e),a=t[Cr],l=iy(a,e[vs]);l!==null&&ZR(i,e[hi],a,t,l,s)}let o=t[cf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mf(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(Li(o)),ro(o)&&Fk(o,r);let s=n.type;if(s&8)mf(e,t,n.child,r);else if(s&32){let a=ry(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=uD(t,n);if(Array.isArray(a))r.push(...a);else{let l=Su(t[ki]);mf(l[nt],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Fk(e,t){for(let n=Pr;n<e.length;n++){let r=e[n],i=r[nt].firstChild;i!==null&&mf(r[nt],r,i,t)}e[vs]!==e[no]&&t.push(e[vs])}var ND=[];function jk(e){return e[ms]??Bk(e)}function Bk(e){let t=ND.pop()??Object.create(zk);return t.lView=e,t}function Vk(e){e.lView[ms]!==e&&(e.lView=null,ND.push(e))}var zk=un(Me({},TA),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Eu(e.lView)},consumerOnSignalRead(){this.lView[ms]=this}}),TD=100;function _D(e,t=!0,n=0){let r=e[Ri],i=r.rendererFactory,o=!1;o||i.begin?.();try{Gk(e,n)}catch(s){throw t&&SD(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Gk(e,t){cv(e,t);let n=0;for(;Zv(e);){if(n===TD)throw new Pe(103,!1);n++,cv(e,1)}}function Uk(e,t,n,r){let i=t[ze];if((i&256)===256)return;let o=!1;!o&&t[Ri].inlineEffectRunner?.flush(),Hv(t);let s=null,a=null;!o&&Zk(e)&&(a=jk(t),s=_A(a));try{xx(t),nR(e.bindingStartIndex),n!==null&&mD(e,t,n,2,r);let l=(i&3)===3;if(!o)if(l){let d=e.preOrderCheckHooks;d!==null&&ef(t,d,null)}else{let d=e.preOrderHooks;d!==null&&tf(t,d,0,null),Lm(t,0)}if(Wk(t),PD(t,0),e.contentQueries!==null&&DD(e,t),!o)if(l){let d=e.contentCheckHooks;d!==null&&ef(t,d)}else{let d=e.contentHooks;d!==null&&tf(t,d,1),Lm(t,1)}ak(e,t);let c=e.components;c!==null&&RD(t,c,0);let f=e.viewQuery;if(f!==null&&uv(2,f,r),!o)if(l){let d=e.viewCheckHooks;d!==null&&ef(t,d)}else{let d=e.viewHooks;d!==null&&tf(t,d,2),Lm(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[km]){for(let d of t[km])d();t[km]=null}o||(t[ze]&=-73)}catch(l){throw Eu(t),l}finally{a!==null&&(PA(a,s),Vk(a)),Yv()}}function Zk(e){return e.type!==2}function PD(e,t){for(let n=Qx(e);n!==null;n=Kx(n))for(let r=Pr;r<n.length;r++){let i=n[r];OD(i,t)}}function Wk(e){for(let t=Qx(e);t!==null;t=Kx(t)){if(!(t[ze]&zv.HasTransplantedViews))continue;let n=t[Ba];for(let r=0;r<n.length;r++){let i=n[r],o=i[On];ZO(i)}}}function Hk(e,t,n){let r=As(t,e);OD(r,n)}function OD(e,t){Uv(e)&&cv(e,t)}function cv(e,t){let r=e[nt],i=e[ze],o=e[ms],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&mm(o)),o&&(o.dirty=!1),e[ze]&=-9217,s)Uk(r,e,r.template,e[di]);else if(i&8192){PD(e,1);let a=r.components;a!==null&&RD(e,a,1)}}function RD(e,t,n){for(let r=0;r<t.length;r++)Hk(e,t[r],n)}function cy(e){for(e[Ri].changeDetectionScheduler?.notify();e;){e[ze]|=64;let t=Su(e);if(PO(e)&&!t)return e;e=t}return null}var Cs=class{get rootNodes(){let t=this._lView,n=t[nt];return mf(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[di]}set context(t){this._lView[di]=t}get destroyed(){return(this._lView[ze]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[On];if(ro(t)){let n=t[df],r=n?n.indexOf(this):-1;r>-1&&(sv(t,r),lf(n,r))}this._attachedToViewContainer=!1}aD(this._lView[nt],this._lView)}onDestroy(t){Dx(this._lView,t)}markForCheck(){cy(this._cdRefInjectingView||this._lView)}detach(){this._lView[ze]&=-129}reattach(){Qm(this._lView),this._lView[ze]|=128}detectChanges(){this._lView[ze]|=1024,_D(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,oD(this._lView[nt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=t,Qm(this._lView)}},ws=(()=>{class e{static{this.__NG_ELEMENT_ID__=Xk}}return e})(),Yk=ws,$k=class extends Yk{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=kk(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Cs(i)}};function Xk(){return dy(ji(),hn())}function dy(e,t){return e.type&4?new $k(t,e,Za(e,t)):null}var l6=new RegExp(`^(\\d+)*(${LR}|${kR})*(.*)`);var qk=()=>null;function Pb(e,t){return qk(e,t)}var vf=class{},dv=class{},yf=class{};function Jk(e){let t=Error(`No component factory found for ${Ir(e)}.`);return t[Qk]=e,t}var Qk="ngComponent";var fv=class{resolveComponentFactory(t){throw Jk(t)}},Vf=(()=>{class e{static{this.NULL=new fv}}return e})(),Tu=class{};var Kk=(()=>{class e{static{this.\u0275prov=De({token:e,providedIn:"root",factory:()=>null})}}return e})(),zm={};var Ob=new Set;function zf(e){Ob.has(e)||(Ob.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Rb(...e){}function eL(){let e=typeof _r.requestAnimationFrame=="function",t=_r[e?"requestAnimationFrame":"setTimeout"],n=_r[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Vt=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cn(!1),this.onMicrotaskEmpty=new Cn(!1),this.onStable=new Cn(!1),this.onError=new Cn(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=eL().nativeRequestAnimationFrame,rL(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,tL,Rb,Rb);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},tL={};function fy(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nL(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(_r,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,hv(e),e.isCheckStableRunning=!0,fy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),hv(e))}function rL(e){let t=()=>{nL(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(iL(a))return n.invokeTask(i,o,s,a);try{return kb(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Lb(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return kb(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Lb(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,hv(e),fy(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function hv(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function kb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lb(e){e._nesting--,fy(e)}var pv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cn,this.onMicrotaskEmpty=new Cn,this.onStable=new Cn,this.onError=new Cn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function iL(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}function oL(e="zone.js",t){return e==="noop"?new pv:e==="zone.js"?new Vt(t):e}var Pa=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Pa||{}),sL={destroy(){}};function Gf(e,t){!t&&NO(Gf);let n=t?.injector??ye(mi);if(!BR(n))return sL;zf("NgAfterNextRender");let r=n.get(hy),i=r.handler??=new mv,o=t?.phase??Pa.MixedReadWrite,s=()=>{i.unregister(l),a()},a=n.get(Kv).onDestroy(s),l=fi(n,()=>new gv(o,()=>{s(),e()}));return i.register(l),{destroy:s}}var gv=class{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=ye(Vt),this.errorHandler=ye(Fi,{optional:!0}),ye(vf,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},mv=class{constructor(){this.executingCallbacks=!1,this.buckets={[Pa.EarlyRead]:new Set,[Pa.Write]:new Set,[Pa.MixedReadWrite]:new Set,[Pa.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},hy=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=De({token:e,providedIn:"root",factory:()=>new e})}}return e})();function vv(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=ub(i,a);else if(o==2){let l=a,c=t[++s];r=ub(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var If=class extends Vf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=To(t);return new za(n,this.ngModule)}};function Fb(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function aL(e){let t=e.toLowerCase();return t==="svg"?LO:t==="math"?FO:null}var yv=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ef(r);let i=this.injector.get(t,zm,r);return i!==zm||n===zm?i:this.parentInjector.get(t,n,r)}},za=class extends yf{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=Fb(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Fb(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=hO(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=Dt(null);try{i=i||this.ngModule;let s=i instanceof Un?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new yv(t,s):t,l=a.get(Tu,null);if(l===null)throw new Pe(407,!1);let c=a.get(Kk,null),f=a.get(hy,null),d=a.get(vf,null),v={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:d},I=l.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=r?ck(I,r,this.componentDef.encapsulation,a):iD(I,w,aL(w)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let T=null;D!==null&&(T=ny(D,a,!0));let B=ay(0,null,null,1,0,null,null,null,null,null,null),G=Ff(null,B,null,M,null,null,v,I,a,null,T);Hv(G);let H,ne;try{let g=this.componentDef,y,x=null;g.findHostDirectiveDefs?(y=[],x=new Map,g.findHostDirectiveDefs(g,y,x),y.push(g)):y=[g];let S=lL(G,D),_=uL(S,D,g,y,G,v,I);ne=bx(B,to),D&&fL(I,g,D,r),n!==void 0&&hL(ne,this.ngContentSelectors,n),H=dL(_,g,y,x,G,[pL]),uy(B,G,null)}finally{Yv()}return new Iv(this.componentType,H,Za(ne,G),G,ne)}finally{Dt(o)}}},Iv=class extends dv{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cs(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;ly(o[nt],o,i,t,n),this.previousInputValues.set(t,n);let s=As(this._tNode.index,o);cy(s)}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function lL(e,t){let n=e[nt],r=to;return e[r]=t,jf(n,r,2,"#host",null)}function uL(e,t,n,r,i,o,s){let a=i[nt];cL(r,e,t,s);let l=null;t!==null&&(l=ny(t,i[ja]));let c=o.rendererFactory.createRenderer(t,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let d=Ff(i,CD(n),null,f,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&lv(a,e,r.length-1),Bf(i,d),i[e.index]=d}function cL(e,t,n,r){for(let i of e)t.mergedAttrs=Fv(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(vv(t,t.mergedAttrs,!0),n!==null&&dD(r,n,t))}function dL(e,t,n,r,i,o){let s=ji(),a=i[nt],l=gi(s,i);AD(a,i,s,n,null,r);for(let f=0;f<n.length;f++){let d=s.directiveStart+f,v=Va(i,a,d,s);Is(v,i)}bD(a,i,s),l&&Is(l,i);let c=Va(i,a,s.directiveStart+s.componentOffset,s);if(e[di]=i[di]=c,o!==null)for(let f of o)f(c,t);return vD(a,s,i),c}function fL(e,t,n,r){if(r)Hm(e,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=pO(t.selectors[0]);i&&Hm(e,n,i),o&&o.length>0&&cD(e,n,o.join(" "))}}function hL(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function pL(){let e=ji();Jv(hn()[nt],e)}var Oo=(()=>{class e{static{this.__NG_ELEMENT_ID__=gL}}return e})();function gL(){let e=ji();return LD(e,hn())}var mL=Oo,kD=class extends mL{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){let t=Qv(this._hostTNode,this._hostLView);if(jx(t)){let n=pf(t,this._hostLView),r=hf(t),i=n[nt].data[r+8];return new gs(i,n)}else return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=jb(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Pb(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,_b(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!_O(t),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let l=s?t:new za(To(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let D=(s?c:this.parentInjector).get(Un,null);D&&(o=D)}let f=To(l.componentType??{}),d=Pb(this._lContainer,f?.id??null),v=d?.firstChild??null,I=l.create(c,i,v,o);return this.insertImpl(I.hostView,a,_b(this._hostTNode,d)),I}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(UO(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[On],c=new kD(l,l[hi],l[On]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Lk(s,i,o,r),t.attachToViewContainerRef(),tx(Gm(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=jb(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=sv(this._lContainer,n);r&&(lf(Gm(this._lContainer),n),aD(r[nt],r))}detach(t){let n=this._adjustIndex(t,-1),r=sv(this._lContainer,n);return r&&lf(Gm(this._lContainer),n)!=null?new Cs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function jb(e){return e[df]}function Gm(e){return e[df]||(e[df]=[])}function LD(e,t){let n,r=t[e.index];return ro(r)?n=r:(n=xD(r,t,null,e),t[e.index]=n,Bf(t,n)),yL(n,t,e,r),new kD(n,e,t)}function vL(e,t){let n=e[Cr],r=n.createComment(""),i=gi(t,e),o=iy(n,i);return gf(n,o,r,KR(n,i),!1),r}var yL=wL,IL=()=>!1;function CL(e,t,n){return IL(e,t,n)}function wL(e,t,n,r){if(e[vs])return;let i;n.type&8?i=Li(r):i=vL(t,n),e[vs]=i}var Cv=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},wv=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)py(t,n).matches!==null&&this.queries[n].setDirty()}},Av=class{constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=NL(t):this.predicate=t}},bv=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},xv=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,AL(n,o)),this.matchTNodeWithReadOption(t,n,nf(n,t,o,!1,!1))}else r===ws?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,nf(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Po||i===Oo||i===ws&&n.type&4)this.addMatch(n.index,-2);else{let o=nf(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function AL(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function bL(e,t){return e.type&11?Za(e,t):e.type&4?dy(e,t):null}function xL(e,t,n,r){return n===-1?bL(t,e):n===-2?DL(e,t,r):Va(e,e[nt],n,t)}function DL(e,t,n){if(n===Po)return Za(t,e);if(n===ws)return dy(t,e);if(n===Oo)return LD(t,e)}function FD(e,t,n,r){let i=t[eo].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let f=o[c];a.push(xL(t,f,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Dv(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=FD(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],f=t[-l];for(let d=Pr;d<f.length;d++){let v=f[d];v[Ou]===v[On]&&Dv(v[nt],v,c,r)}if(f[Ba]!==null){let d=f[Ba];for(let v=0;v<d.length;v++){let I=d[v];Dv(I[nt],I,c,r)}}}}}return r}function ML(e,t){return e[eo].queries[t].queryList}function EL(e,t,n){let r=new iv((n&4)===4);return hk(e,t,r,r.destroy),(t[eo]??=new wv).queries.push(new Cv(r))-1}function SL(e,t,n){let r=io();return r.firstCreatePass&&(TL(r,new Av(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),EL(r,hn(),t)}function NL(e){return e.split(",").map(t=>t.trim())}function TL(e,t,n){e.queries===null&&(e.queries=new bv),e.queries.track(new xv(t,n))}function py(e,t){return e.queries.getByIndex(t)}function _L(e,t){let n=e[nt],r=py(n,t);return r.crossesNgTemplate?Dv(n,e,t,[]):FD(n,e,r,t)}function PL(e){let t=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=e(i);n.set(i,o=s.then(LL))}return o}return Cf.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,f=i.styleUrls;i.styleUrls.forEach((d,v)=>{a.push(""),s.push(r(d).then(I=>{a[c+v]=I,f.splice(f.indexOf(d),1),f.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let l=Promise.all(s).then(()=>FL(o));t.push(l)}),RL(),Promise.all(t).then(()=>{})}var Cf=new Map,OL=new Set;function RL(){let e=Cf;return Cf=new Map,e}function kL(){return Cf.size===0}function LL(e){return typeof e=="string"?e:e.text()}function FL(e){OL.delete(e)}var _o=class{},_u=class{};var wf=class extends _o{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new If(this);let i=ux(t);this._bootstrapComponents=rD(i.bootstrap),this._r3Injector=$x(t,n,[{provide:_o,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver},...r],Ir(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Af=class extends _u{constructor(t){super(),this.moduleType=t}create(t){return new wf(this.moduleType,t,[])}};function jL(e,t,n){return new wf(e,t,n)}var Mv=class extends _o{constructor(t){super(),this.componentFactoryResolver=new If(this),this.instance=null;let n=new xu([...t.providers,{provide:_o,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver}],t.parent||Vv(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Uf(e,t,n=null){return new Mv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var xs=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jD(e){return VL(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function BL(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function VL(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function BD(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function zL(e){return(e.flags&32)===32}function GL(e,t,n,r,i,o,s,a,l){let c=t.consts,f=jf(t,e,4,s||null,ff(c,a));wD(t,n,f,ff(c,l)),Jv(t,f);let d=f.tView=ay(2,f,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,f),d.queries=t.queries.embeddedTView(f)),f}function Zf(e,t,n,r,i,o,s,a){let l=hn(),c=io(),f=e+to,d=c.firstCreatePass?GL(f,c,l,t,n,r,i,o,s):c.data[f];ku(d,!1);let v=UL(c,l,d,e);Xv()&&oy(c,l,v,d),Is(v,l);let I=xD(v,l,v,d);return l[f]=I,Bf(l,I),CL(I,d,l),Gv(d)&&yD(c,l,d),s!=null&&ID(l,d,a),Zf}var UL=ZL;function ZL(e,t,n,r){return qv(!0),t[Cr].createComment("")}function WL(e,t,n,r){return BD(e,Nx(),n)?t+Jb(n)+r:Lf}function Rr(e,t,n){let r=hn(),i=Nx();if(BD(r,i,t)){let o=io(),s=lR();vk(o,s,r,e,t,r[Cr],n,!1)}return Rr}function Bb(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";ly(e,n,o[s],s,r)}function HL(e,t,n,r,i,o){let s=t.consts,a=ff(s,i),l=jf(t,e,2,r,a);return wD(t,n,l,ff(s,o)),l.attrs!==null&&vv(l,l.attrs,!1),l.mergedAttrs!==null&&vv(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function ct(e,t,n,r){let i=hn(),o=io(),s=to+e,a=i[Cr],l=o.firstCreatePass?HL(s,o,i,t,n,r):o.data[s],c=YL(o,i,l,a,t,e);i[s]=c;let f=Gv(l);return ku(l,!0),dD(a,c,l),!zL(l)&&Xv()&&oy(o,i,c,l),YO()===0&&Is(c,i),$O(),f&&(yD(o,i,l),vD(o,l,i)),r!==null&&ID(i,l),ct}function dt(){let e=ji();Sx()?eR():(e=e.parent,ku(e,!1));let t=e;JO(t)&&QO(),XO();let n=io();return n.firstCreatePass&&(Jv(n,e),yx(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&hR(t)&&Bb(n,t,hn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&pR(t)&&Bb(n,t,hn(),t.stylesWithoutHost,!1),dt}function Vi(e,t,n,r){return ct(e,t,n,r),dt(),Vi}var YL=(e,t,n,r,i,o)=>(qv(!0),iD(r,i,uR()));function Wa(){return hn()}var bf="en-US";var $L=bf;function XL(e){typeof e=="string"&&($L=e.toLowerCase().replace(/_/g,"-"))}function Gt(e,t,n,r){let i=hn(),o=io(),s=ji();return JL(o,i,i[Cr],s,e,t,r),Gt}function qL(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Du],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function JL(e,t,n,r,i,o,s){let a=Gv(r),c=e.firstCreatePass&&ED(e),f=t[di],d=MD(t),v=!0;if(r.type&3||s){let D=gi(r,t),M=s?s(D):D,T=d.length,B=s?H=>s(Li(H[r.index])):r.index,G=null;if(!s&&a&&(G=qL(e,t,i,r.index)),G!==null){let H=G.__ngLastListenerFn__||G;H.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,v=!1}else{o=zb(r,t,f,o,!1);let H=n.listen(M,i,o);d.push(o,H),c&&c.push(i,B,T,T+1)}}else o=zb(r,t,f,o,!1);let I=r.outputs,w;if(v&&I!==null&&(w=I[i])){let D=w.length;if(D)for(let M=0;M<D;M+=2){let T=w[M],B=w[M+1],ne=t[T][B].subscribe(o),g=d.length;d.push(o,ne),c&&c.push(i,r.index,g,-(g+1))}}}function Vb(e,t,n,r){let i=Dt(null);try{return _i(6,t,n),n(r)!==!1}catch(o){return SD(e,o),!1}finally{_i(7,t,n),Dt(i)}}function zb(e,t,n,r,i){return function o(s){if(s===Function)return r;let a=e.componentOffset>-1?As(e.index,t):t;cy(a);let l=Vb(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Vb(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function Wf(e=1){return aR(e)}function Et(e,t,n){SL(e,t,n)}function At(e){let t=hn(),n=io(),r=Tx();Wv(r+1);let i=py(n,r);if(e.dirty&&GO(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=_L(t,r);e.reset(o,ER),e.notifyOnChanges()}return!0}return!1}function bt(){return ML(hn(),Tx())}function Ha(e){let t=tR();return zO(t,to+e)}function Ut(e,t=""){let n=hn(),r=io(),i=e+to,o=r.firstCreatePass?jf(r,i,1,t,null):r.data[i],s=QL(r,n,o,t,e);n[i]=s,Xv()&&oy(r,n,s,o),ku(o,!1)}var QL=(e,t,n,r,i)=>(qv(!0),zR(t[Cr],r));function Hf(e){return VD("",e,""),Hf}function VD(e,t,n){let r=hn(),i=WL(r,e,t,n);return i!==Lf&&_k(r,$v(),i),VD}var KL=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=fx(!1,n.type),i=r.length>0?Uf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=De({token:e,providedIn:"environment",factory:()=>new e(Se(Un))})}}return e})();function zD(e){zf("NgStandalone"),e.getStandaloneInjector=t=>t.get(KL).getOrCreateStandaloneInjector(e)}var Qd=null;function e2(e){Qd!==null&&(e.defaultEncapsulation!==Qd.defaultEncapsulation||e.preserveWhitespaces!==Qd.preserveWhitespaces)||(Qd=e)}var Yf=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var gy=new Oe(""),Lu=new Oe(""),$f=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,my||(t2(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(Se(Vt),Se(Xf),Se(Lu))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),Xf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return my?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function t2(e){my=e}var my;function Ya(e){return!!e&&typeof e.then=="function"}function GD(e){return!!e&&typeof e.subscribe=="function"}var qf=new Oe(""),UD=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ye(qf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Ya(o))n.push(o);else if(GD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jf=new Oe("");function n2(){RA(()=>{throw new Pe(600,!1)})}function r2(e){return e.isBoundToModule}function i2(e,t,n){try{let r=n();return Ya(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}function ZD(e,t){return Array.isArray(t)?t.reduce(ZD,e):Me(Me({},e),t)}var Ds=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ye(Xx),this.afterRenderEffectManager=ye(hy),this.externalTestViews=new Set,this.beforeRender=new tr,this.afterTick=new tr,this.componentTypes=[],this.components=[],this.isStable=ye(xs).hasPendingTasks.pipe(Ke(n=>!n)),this._injector=ye(Un)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof yf;if(!this._injector.get(UD).done){let v=!i&&lx(n),I=!1;throw new Pe(405,I)}let s;i?s=n:s=this._injector.get(Vf).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=r2(s)?void 0:this._injector.get(_o),l=r||s.selector,c=s.create(mi.NULL,[],l,a),f=c.location.nativeElement,d=c.injector.get(gy,null);return d?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),of(this.components,c),d?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Pe(101,!1);let r=Dt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Dt(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===TD)throw new Pe(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)o2(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ev(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ev(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;of(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Jf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>of(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Pe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function of(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function o2(e,t,n){!t&&!Ev(e)||s2(e,n,t)}function Ev(e){return Zv(e)}function s2(e,t,n){let r;n?(r=0,e[ze]|=1024):e[ze]&64?r=0:r=1,_D(e,t,r)}var Sv=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Qf=(()=>{class e{compileModuleSync(n){return new Af(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ux(n),o=rD(i.declarations).reduce((s,a)=>{let l=To(a);return l&&s.push(new za(l)),s},[]);return new Sv(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),a2=new Oe("");function l2(e,t,n){let r=new Af(n);return Promise.resolve(r)}function Gb(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var u2=(()=>{class e{constructor(){this.zone=ye(Vt),this.applicationRef=ye(Ds)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function c2(e){return[{provide:Vt,useFactory:e},{provide:Fa,multi:!0,useFactory:()=>{let t=ye(u2,{optional:!0});return()=>t.initialize()}},{provide:Fa,multi:!0,useFactory:()=>{let t=ye(h2);return()=>{t.initialize()}}},{provide:Xx,useFactory:d2}]}function d2(){let e=ye(Vt),t=ye(Fi);return n=>e.runOutsideAngular(()=>t.handleError(n))}function f2(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var h2=(()=>{class e{constructor(){this.subscription=new In,this.initialized=!1,this.zone=ye(Vt),this.pendingTasks=ye(xs)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function p2(){return typeof $localize<"u"&&$localize.locale||bf}var vy=new Oe("",{providedIn:"root",factory:()=>ye(vy,tt.Optional|tt.SkipSelf)||p2()});var WD=new Oe(""),HD=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let i=oL(r?.ngZone,f2({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{let o=jL(n.moduleType,this.injector,c2(()=>i)),s=o.injector.get(Fi,null);return i.runOutsideAngular(()=>{let a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{of(this._modules,o),a.unsubscribe()})}),i2(s,i,()=>{let a=o.injector.get(UD);return a.runInitializers(),a.donePromise.then(()=>{let l=o.injector.get(vy,bf);return XL(l||bf),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,r=[]){let i=ZD({},r);return l2(this.injector,i,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){let r=n.injector.get(Ds);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new Pe(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(WD,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(Se(mi))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),wu=null,YD=new Oe("");function g2(e){if(wu&&!wu.get(YD,!1))throw new Pe(400,!1);n2(),wu=e;let t=e.get(HD);return y2(e),t}function yy(e,t,n=[]){let r=`Platform: ${t}`,i=new Oe(r);return(o=[])=>{let s=$D();if(!s||s.injector.get(YD,!1)){let a=[...n,...o,{provide:i,useValue:!0}];e?e(a):g2(m2(a,r))}return v2(i)}}function m2(e=[],t){return mi.create({name:t,providers:[{provide:Tf,useValue:"platform"},{provide:WD,useValue:new Set([()=>wu=null])},...e]})}function v2(e){let t=$D();if(!t)throw new Pe(401,!1);return t}function $D(){return wu?.get(HD)??null}function y2(e){e.get(ey,null)?.forEach(n=>n())}var $a=(()=>{class e{static{this.__NG_ELEMENT_ID__=I2}}return e})();function I2(e){return C2(ji(),hn(),(e&16)===16)}function C2(e,t,n){if(Pf(e)&&!n){let r=As(e.index,t);return new Cs(r,r)}else if(e.type&47){let r=t[ki];return new Cs(r,t)}return null}var Nv=class{constructor(){}supports(t){return jD(t)}create(t){return new Tv(t)}},w2=(e,t)=>t,Tv=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||w2}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Ub(r,i,o)?n:r,a=Ub(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,f=l-i;if(c!=f){for(let v=0;v<c;v++){let I=v<o.length?o[v]:o[v]=0,w=I+v;f<=w&&w<c&&(o[v]=I+1)}let d=s.previousIndex;o[d]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!jD(t))throw new Pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,BL(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new _v(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new xf),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xf),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},_v=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Pv=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},xf=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Pv,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ub(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Zb(){return new Iy([new Nv])}var Iy=(()=>{class e{static{this.\u0275prov=De({token:e,providedIn:"root",factory:Zb})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Zb()),deps:[[e,new kv,new Sf]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Pe(901,!1)}}return e})();var XD=yy(null,"core",[]),qD=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(Se(Ds))}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({})}}return e})();function JD(e){let t=To(e);if(!t)return null;let n=new za(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var rM=null;function Ms(){return rM}function iM(e){rM??=e}var Kf=class{};var Hn=new Oe(""),My=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>ye(D2),providedIn:"platform"})}}return e})(),oM=new Oe(""),D2=(()=>{class e extends My{constructor(){super(),this._doc=ye(Hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ms().getBaseHref(this._doc)}onPopState(n){let r=Ms().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ms().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Ey(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function QD(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function oo(e){return e&&e[0]!=="?"?"?"+e:e}var Es=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>ye(Sy),providedIn:"root"})}}return e})(),sM=new Oe(""),Sy=(()=>{class e extends Es{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ye(Hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ey(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+oo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+oo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+oo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(Se(My),Se(sM,8))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),aM=(()=>{class e extends Es{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ey(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+oo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+oo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(Se(My),Se(sM,8))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),qa=(()=>{class e{constructor(n){this._subject=new Cn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=S2(QD(KD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+oo(r))}normalize(n){return e.stripTrailingSlash(E2(this._basePath,KD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=oo}static{this.joinWithSlash=Ey}static{this.stripTrailingSlash=QD}static{this.\u0275fac=function(r){return new(r||e)(Se(Es))}}static{this.\u0275prov=De({token:e,factory:()=>M2(),providedIn:"root"})}}return e})();function M2(){return new qa(Se(Es))}function E2(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function KD(e){return e.replace(/\/index.html$/,"")}function S2(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function eh(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Cy=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},lM=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Cy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),eM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);eM(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(wn(Oo),wn(ws),wn(Iy))}}static{this.\u0275dir=Ga({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function eM(e,t){e.context.$implicit=t.item}var uM=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new wy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(wn(Oo),wn(ws))}}static{this.\u0275dir=Ga({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),wy=class{constructor(){this.$implicit=null,this.ngIf=null}};function tM(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ir(t)}'.`)}var cM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({})}}return e})(),Ny="browser",N2="server";function T2(e){return e===Ny}function th(e){return e===N2}var dM=(()=>{class e{static{this.\u0275prov=De({token:e,providedIn:"root",factory:()=>T2(ye(Bi))?new Ay(ye(Hn),window):new by})}}return e})(),Ay=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=_2(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function _2(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var by=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Xa=class{};var ju=class{},rh=class{},Ss=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var _y=class{encodeKey(t){return hM(t)}encodeValue(t){return hM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function R2(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var k2=/%(\d[a-f0-9])/gi,L2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hM(e){return encodeURIComponent(e).replace(k2,(t,n)=>L2[n]??t)}function nh(e){return`${e}`}var Ro=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new _y,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=R2(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(nh):[nh(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(nh(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(nh(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Py=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function F2(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function pM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function gM(e){return typeof Blob<"u"&&e instanceof Blob}function mM(e){return typeof FormData<"u"&&e instanceof FormData}function j2(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Fu=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(F2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ss,this.context??=new Py,!this.params)this.params=new Ro,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||pM(this.body)||gM(this.body)||mM(this.body)||j2(this.body)?this.body:this.body instanceof Ro?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mM(this.body)?null:gM(this.body)?this.body.type||null:pM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ro?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,f=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((v,I)=>v.set(I,t.setHeaders[I]),c)),t.setParams&&(f=Object.keys(t.setParams).reduce((v,I)=>v.set(I,t.setParams[I]),f)),new e(n,r,s,{params:f,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Ja=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ja||{}),Bu=class{constructor(t,n=sh.Ok,r="OK"){this.headers=t.headers||new Ss,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Oy=class e extends Bu{constructor(t={}){super(t),this.type=Ja.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ih=class e extends Bu{constructor(t={}){super(t),this.type=Ja.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},oh=class extends Bu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},sh=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(sh||{});function Ty(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Ry=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Fu)o=n;else{let l;i.headers instanceof Ss?l=i.headers:l=new Ss(i.headers);let c;i.params&&(i.params instanceof Ro?c=i.params:c=new Ro({fromObject:i.params})),o=new Fu(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Be(o).pipe(Ji(l=>this.handler.handle(l)));if(n instanceof Fu||i.observe==="events")return s;let a=s.pipe(vr(l=>l instanceof ih));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ke(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ke(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ke(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(Ke(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Ro().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Ty(i,r))}post(n,r,i={}){return this.request("POST",n,Ty(i,r))}put(n,r,i={}){return this.request("PUT",n,Ty(i,r))}static{this.\u0275fac=function(r){return new(r||e)(Se(ju))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();function CM(e,t){return t(e)}function B2(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}function V2(e,t,n){return(r,i)=>fi(n,()=>t(r,o=>e(o,i)))}var z2=new Oe(""),ky=new Oe(""),G2=new Oe(""),U2=new Oe("");function Z2(){let e=null;return(t,n)=>{e===null&&(e=(ye(z2,{optional:!0})??[]).reduceRight(B2,CM));let r=ye(xs),i=r.add();return e(t,n).pipe(Eo(()=>r.remove(i)))}}var vM=(()=>{class e extends ju{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ye(xs);let i=ye(U2,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ky),...this.injector.get(G2,[])]));this.chain=i.reduceRight((o,s)=>V2(o,s,this.injector),CM)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Eo(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(Se(rh),Se(Un))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();var W2=/^\)\]\}',?\n/;function H2(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var yM=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Pe(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?sn(r.\u0275loadImpl()):Be(null)).pipe(yr(()=>new Mt(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((D,M)=>s.setRequestHeader(D,M.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let D=n.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(n.responseType){let D=n.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let D=s.statusText||"OK",M=new Ss(s.getAllResponseHeaders()),T=H2(s)||n.url;return l=new Oy({headers:M,status:s.status,statusText:D,url:T}),l},f=()=>{let{headers:D,status:M,statusText:T,url:B}=c(),G=null;M!==sh.NoContent&&(G=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=G?sh.Ok:0);let H=M>=200&&M<300;if(n.responseType==="json"&&typeof G=="string"){let ne=G;G=G.replace(W2,"");try{G=G!==""?JSON.parse(G):null}catch(g){G=ne,H&&(H=!1,G={error:g,text:G})}}H?(o.next(new ih({body:G,headers:D,status:M,statusText:T,url:B||void 0})),o.complete()):o.error(new oh({error:G,headers:D,status:M,statusText:T,url:B||void 0}))},d=D=>{let{url:M}=c(),T=new oh({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(T)},v=!1,I=D=>{v||(o.next(c()),v=!0);let M={type:Ja.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),n.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},w=D=>{let M={type:Ja.UploadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),o.next(M)};return s.addEventListener("load",f),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",I),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Ja.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",f),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",I),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(Se(Xa))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),wM=new Oe(""),Y2="XSRF-TOKEN",$2=new Oe("",{providedIn:"root",factory:()=>Y2}),X2="X-XSRF-TOKEN",q2=new Oe("",{providedIn:"root",factory:()=>X2}),ah=class{},J2=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=eh(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(Se(Hn),Se(Bi),Se($2))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();function Q2(e,t){let n=e.url.toLowerCase();if(!ye(wM)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=ye(ah).getToken(),i=ye(q2);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var AM=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(AM||{});function K2(e,t){return{\u0275kind:e,\u0275providers:t}}function eF(...e){let t=[Ry,yM,vM,{provide:ju,useExisting:vM},{provide:rh,useExisting:yM},{provide:ky,useValue:Q2,multi:!0},{provide:wM,useValue:!0},{provide:ah,useClass:J2}];for(let n of e)t.push(...n.\u0275providers);return Nf(t)}var IM=new Oe("");function tF(){return K2(AM.LegacyInterceptors,[{provide:IM,useFactory:Z2},{provide:ky,useExisting:IM,multi:!0}])}var bM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({providers:[eF(tF())]})}}return e})();var jy=class extends Kf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},By=class e extends jy{static makeCurrent(){iM(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=rF();return n==null?null:iF(n)}resetBaseElement(){Vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return eh(document.cookie,t)}},Vu=null;function rF(){return Vu=Vu||document.querySelector("base"),Vu?Vu.getAttribute("href"):null}function iF(e){return new URL(e,document.baseURI).pathname}var Vy=class{addToWindow(t){_r.getAngularTestability=(r,i=!0)=>{let o=t.findTestabilityInTree(r,i);if(o==null)throw new Pe(5103,!1);return o},_r.getAllAngularTestabilities=()=>t.getAllTestabilities(),_r.getAllAngularRootElements=()=>t.getAllRootElements();let n=r=>{let i=_r.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};_r.frameworkStabilizers||(_r.frameworkStabilizers=[]),_r.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,r){if(n==null)return null;let i=t.getTestability(n);return i??(r?Ms().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},oF=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),zy=new Oe(""),EM=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(Se(zy),Se(Vt))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),lh=class{constructor(t){this._doc=t}},Ly="ng-app-id",SM=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=th(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ly}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ly),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ly,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Se(Hn),Se(Rf),Se(ty,8),Se(Bi))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),Fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uy=/%COMP%/g,NM="%COMP%",sF=`_nghost-${NM}`,aF=`_ngcontent-${NM}`,lF=!0,uF=new Oe("",{providedIn:"root",factory:()=>lF});function cF(e){return aF.replace(Uy,e)}function dF(e){return sF.replace(Uy,e)}function TM(e,t){return t.map(n=>n.replace(Uy,e))}var xM=(()=>{class e{constructor(n,r,i,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=th(a),this.defaultRenderer=new zu(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Oi.ShadowDom&&(r=un(Me({},r),{encapsulation:Oi.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof uh?i.applyToHost(n):i instanceof Gu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Oi.Emulated:o=new uh(l,c,r,this.appId,f,s,a,d);break;case Oi.ShadowDom:return new Gy(l,c,n,r,s,a,this.nonce,d);default:o=new Gu(l,c,r,f,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Se(EM),Se(SM),Se(Rf),Se(uF),Se(Hn),Se(Bi),Se(Vt),Se(ty))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),zu=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Fy[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(DM(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(DM(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Pe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Fy[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Fy[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(bs.DashCase|bs.Important)?t.style.setProperty(n,r,i&bs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&bs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=Ms().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function DM(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Gy=class extends zu{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=TM(i.id,i.styles);for(let f of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=f,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gu=class extends zu{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?TM(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uh=class extends Gu{constructor(t,n,r,i,o,s,a,l){let c=i+"-"+r.id;super(t,n,r,o,s,a,l,c),this.contentAttr=cF(c),this.hostAttr=dF(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},fF=(()=>{class e extends lh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(Se(Hn))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),MM=["alt","control","meta","shift"],hF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},gF=(()=>{class e extends lh{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ms().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),MM.forEach(c=>{let f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=hF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),MM.forEach(s=>{if(s!==i){let a=pF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(Se(Hn))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();function mF(){By.makeCurrent()}function vF(){return new Fi}function yF(){return tD(document),document}var IF=[{provide:Bi,useValue:Ny},{provide:ey,useValue:mF,multi:!0},{provide:Hn,useFactory:yF,deps:[]}],_M=yy(XD,"browser",IF),CF=new Oe(""),wF=[{provide:Lu,useClass:Vy,deps:[]},{provide:gy,useClass:$f,deps:[Vt,Xf,Lu]},{provide:$f,useClass:$f,deps:[Vt,Xf,Lu]}],AF=[{provide:Tf,useValue:"root"},{provide:Fi,useFactory:vF,deps:[]},{provide:zy,useClass:fF,multi:!0,deps:[Hn,Vt,Bi]},{provide:zy,useClass:gF,multi:!0,deps:[Hn]},xM,SM,EM,{provide:Tu,useExisting:xM},{provide:Xa,useClass:oF,deps:[]},[]],PM=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Rf,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Se(CF,12))}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({providers:[...AF,...wF],imports:[cM,qD]})}}return e})();var OM=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(Se(Hn))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Je="primary",rc=Symbol("RouteTitle"),$y=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function nl(e){return new $y(e)}function xF(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function DF(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!zi(e[n],t[n]))return!1;return!0}function zi(e,t){let n=e?Xy(e):void 0,r=t?Xy(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!UM(e[i],t[i]))return!1;return!0}function Xy(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function UM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function ZM(e){return e.length>0?e[e.length-1]:null}function jo(e){return Sm(e)?e:Ya(e)?sn(Promise.resolve(e)):Be(e)}var MF={exact:HM,subset:YM},WM={exact:EF,subset:SF,ignored:()=>!0};function kM(e,t,n){return MF[n.paths](e.root,t.root,n.matrixParams)&&WM[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function EF(e,t){return zi(e,t)}function HM(e,t,n){if(!Ts(e.segments,t.segments)||!fh(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!HM(e.children[r],t.children[r],n))return!1;return!0}function SF(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>UM(e[n],t[n]))}function YM(e,t,n){return $M(e,t,t.segments,n)}function $M(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Ts(i,n)||t.hasChildren()||!fh(i,n,r))}else if(e.segments.length===n.length){if(!Ts(e.segments,n)||!fh(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!YM(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ts(e.segments,i)||!fh(e.segments,i,r)||!e.children[Je]?!1:$M(e.children[Je],t,o,r)}}function fh(e,t,n){return t.every((r,i)=>WM[n](e[i].parameters,r.parameters))}var ko=class{constructor(t=new Nt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=nl(this.queryParams),this._queryParamMap}toString(){return _F.serialize(this)}},Nt=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hh(this)}},Ns=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=nl(this.parameters),this._parameterMap}toString(){return qM(this)}};function NF(e,t){return Ts(e,t)&&e.every((n,r)=>zi(n.parameters,t[r].parameters))}function Ts(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function TF(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Je&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Je&&(n=n.concat(t(i,r)))}),n}var ic=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>new Xu,providedIn:"root"})}}return e})(),Xu=class{parse(t){let n=new Jy(t);return new ko(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Uu(t.root,!0)}`,r=RF(t.queryParams),i=typeof t.fragment=="string"?`#${PF(t.fragment)}`:"";return`${n}${r}${i}`}},_F=new Xu;function hh(e){return e.segments.map(t=>qM(t)).join("/")}function Uu(e,t){if(!e.hasChildren())return hh(e);if(t){let n=e.children[Je]?Uu(e.children[Je],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Je&&r.push(`${i}:${Uu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=TF(e,(r,i)=>i===Je?[Uu(e.children[Je],!1)]:[`${i}:${Uu(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Je]!=null?`${hh(e)}/${n[0]}`:`${hh(e)}/(${n.join("//")})`}}function XM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ch(e){return XM(e).replace(/%3B/gi,";")}function PF(e){return encodeURI(e)}function qy(e){return XM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ph(e){return decodeURIComponent(e)}function LM(e){return ph(e.replace(/\+/g,"%20"))}function qM(e){return`${qy(e.path)}${OF(e.parameters)}`}function OF(e){return Object.entries(e).map(([t,n])=>`;${qy(t)}=${qy(n)}`).join("")}function RF(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ch(n)}=${ch(i)}`).join("&"):`${ch(n)}=${ch(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var kF=/^[^\/()?;#]+/;function Zy(e){let t=e.match(kF);return t?t[0]:""}var LF=/^[^\/()?;=#]+/;function FF(e){let t=e.match(LF);return t?t[0]:""}var jF=/^[^=?&#]+/;function BF(e){let t=e.match(jF);return t?t[0]:""}var VF=/^[^&#]+/;function zF(e){let t=e.match(VF);return t?t[0]:""}var Jy=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Je]=new Nt(t,n)),r}parseSegment(){let t=Zy(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(t),new Ns(ph(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=FF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Zy(this.remaining);i&&(r=i,this.capture(r))}t[ph(n)]=ph(r)}parseQueryParam(t){let n=BF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=zF(this.remaining);s&&(r=s,this.capture(r))}let i=LM(n),o=LM(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Pe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Je);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Je]:new Nt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Pe(4011,!1)}};function JM(e){return e.segments.length>0?new Nt([],{[Je]:e}):e}function QM(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=QM(i);if(r===Je&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Nt(e.segments,t);return GF(n)}function GF(e){if(e.numberOfChildren===1&&e.children[Je]){let t=e.children[Je];return new Nt(e.segments.concat(t.segments),t.children)}return e}function rl(e){return e instanceof ko}function UF(e,t,n=null,r=null){let i=KM(e);return eE(i,t,n,r)}function KM(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Nt(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=JM(r);return t??i}function eE(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Wy(i,i,i,n,r);let o=ZF(t);if(o.toRoot())return Wy(i,i,new Nt([],{}),n,r);let s=WF(o,i,e),a=s.processChildren?Hu(s.segmentGroup,s.index,o.commands):nE(s.segmentGroup,s.index,o.commands);return Wy(i,s.segmentGroup,a,n,r)}function gh(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function qu(e){return typeof e=="object"&&e!=null&&e.outlets}function Wy(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;e===t?s=n:s=tE(e,t,n);let a=JM(QM(s));return new ko(a,o,i)}function tE(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=tE(o,t,n)}),new Nt(e.segments,r)}var mh=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&gh(r[0]))throw new Pe(4003,!1);let i=r.find(qu);if(i&&i!==ZM(r))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZF(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new mh(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new mh(n,t,r)}var el=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function WF(e,t,n){if(e.isAbsolute)return new el(t,!0,0);if(!n)return new el(t,!1,NaN);if(n.parent===null)return new el(n,!0,0);let r=gh(e.commands[0])?0:1,i=n.segments.length-1+r;return HF(n,i,e.numberOfDoubleDots)}function HF(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Pe(4005,!1);i=r.segments.length}return new el(r,!1,i-o)}function YF(e){return qu(e[0])?e[0].outlets:{[Je]:e}}function nE(e,t,n){if(e??=new Nt([],{}),e.segments.length===0&&e.hasChildren())return Hu(e,t,n);let r=$F(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Nt(e.segments.slice(0,r.pathIndex),{});return o.children[Je]=new Nt(e.segments.slice(r.pathIndex),e.children),Hu(o,0,i)}else return r.match&&i.length===0?new Nt(e.segments,{}):r.match&&!e.hasChildren()?Qy(e,t,n):r.match?Hu(e,0,i):Qy(e,t,n)}function Hu(e,t,n){if(n.length===0)return new Nt(e.segments,{});{let r=YF(n),i={};if(Object.keys(r).some(o=>o!==Je)&&e.children[Je]&&e.numberOfChildren===1&&e.children[Je].segments.length===0){let o=Hu(e.children[Je],t,n);return new Nt(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nE(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Nt(e.segments,i)}}function $F(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(qu(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!jM(l,c,s))return o;r+=2}else{if(!jM(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Qy(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(qu(o)){let l=XF(o.outlets);return new Nt(r,l)}if(i===0&&gh(n[0])){let l=e.segments[t];r.push(new Ns(l.path,FM(n[0]))),i++;continue}let s=qu(o)?o.outlets[Je]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&gh(a)?(r.push(new Ns(s,FM(a))),i+=2):(r.push(new Ns(s,{})),i++)}return new Nt(r,{})}function XF(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Qy(new Nt([],{}),0,r))}),t}function FM(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function jM(e,t,n){return e==n.path&&zi(t,n.parameters)}var Yu="imperative",Mn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Mn||{}),Xr=class{constructor(t,n){this.id=t,this.url=n}},il=class extends Xr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=Mn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},so=class extends Xr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=Mn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Lr||{}),vh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(vh||{}),Lo=class extends Xr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Mn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fo=class extends Xr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Mn.NavigationSkipped}},Ju=class extends Xr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=Mn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yh=class extends Xr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Mn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ky=class extends Xr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Mn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eI=class extends Xr{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Mn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tI=class extends Xr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Mn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nI=class extends Xr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Mn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rI=class{constructor(t){this.route=t,this.type=Mn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},iI=class{constructor(t){this.route=t,this.type=Mn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},oI=class{constructor(t){this.snapshot=t,this.type=Mn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sI=class{constructor(t){this.snapshot=t,this.type=Mn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aI=class{constructor(t){this.snapshot=t,this.type=Mn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lI=class{constructor(t){this.snapshot=t,this.type=Mn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ih=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=Mn.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Qu=class{},Ku=class{constructor(t){this.url=t}};var uI=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oc,this.attachRef=null}},oc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uI,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ch=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=cI(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=cI(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=dI(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return dI(t,this._root).map(n=>n.value)}};function cI(e,t){if(e===t.value)return t;for(let n of t.children){let r=cI(e,n);if(r)return r}return null}function dI(e,t){if(e===t.value)return[t];for(let n of t.children){let r=dI(e,n);if(r.length)return r.unshift(t),r}return[]}var kr=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ka(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var wh=class extends Ch{constructor(t,n){super(t),this.snapshot=n,wI(this,t)}toString(){return this.snapshot.toString()}};function rE(e){let t=qF(e),n=new fn([new Ns("",{})]),r=new fn({}),i=new fn({}),o=new fn({}),s=new fn(""),a=new ol(n,r,o,s,i,Je,e,t.root);return a.snapshot=t.root,new wh(new kr(a,[]),t)}function qF(e){let t={},n={},r={},i="",o=new ec([],t,r,i,n,Je,e,null,{});return new Ah("",new kr(o,[]))}var ol=class{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ke(c=>c[rc]))??Be(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ke(t=>nl(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ke(t=>nl(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function CI(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:Me(Me({},t.params),e.params),data:Me(Me({},t.data),e.data),resolve:Me(Me(Me(Me({},e.data),t.data),i?.data),e._resolvedData)}:r={params:Me({},e.params),data:Me({},e.data),resolve:Me(Me({},e.data),e._resolvedData??{})},i&&oE(i)&&(r.resolve[rc]=i.title),r}var ec=class{get title(){return this.data?.[rc]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nl(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ah=class extends Ch{constructor(t,n){super(n),this.url=t,wI(this,n)}toString(){return iE(this._root)}};function wI(e,t){t.value._routerState=e,t.children.forEach(n=>wI(e,n))}function iE(e){let t=e.children.length>0?` { ${e.children.map(iE).join(", ")} } `:"";return`${e.value}${t}`}function Hy(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),zi(t.params,n.params)||e.paramsSubject.next(n.params),DF(t.url,n.url)||e.urlSubject.next(n.url),zi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function fI(e,t){let n=zi(e.params,t.params)&&NF(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||fI(e.parent,t.parent))}function oE(e){return typeof e.title=="string"||e.title===null}var AI=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new Cn,this.deactivateEvents=new Cn,this.attachEvents=new Cn,this.detachEvents=new Cn,this.parentContexts=ye(oc),this.location=ye(Oo),this.changeDetector=ye($a),this.environmentInjector=ye(Un),this.inputBinder=ye(Eh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new hI(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ga({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pi]})}}return e})(),hI=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ol?this.route:t===oc?this.childContexts:this.parent.get(t,n)}},Eh=new Oe(""),BM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Iu([r.queryParams,r.params,r.data]).pipe(yr(([o,s,a],l)=>(a=Me(Me(Me({},o),s),a),l===0?Be(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=JD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();function JF(e,t,n){let r=tc(e,t._root,n?n._root:void 0);return new wh(r,t)}function tc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=QF(e,t,n);return new kr(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>tc(e,a)),s}}let r=KF(t.value),i=t.children.map(o=>tc(e,o));return new kr(r,i)}}function QF(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return tc(e,r,i);return tc(e,r)})}function KF(e){return new ol(new fn(e.url),new fn(e.params),new fn(e.queryParams),new fn(e.fragment),new fn(e.data),e.outlet,e.component,e)}var sE="ngNavigationCancelingError";function aE(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=rl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=lE(!1,Lr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function lE(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[sE]=!0,n.cancellationCode=t,n}function e3(e){return uE(e)&&rl(e.url)}function uE(e){return!!e&&e[sE]}var t3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["ng-component"]],standalone:!0,features:[zD],decls:1,vars:0,template:function(r,i){r&1&&Vi(0,"router-outlet")},dependencies:[AI],encapsulation:2})}}return e})();function n3(e,t){return e.providers&&!e._injector&&(e._injector=Uf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function bI(e){let t=e.children&&e.children.map(bI),n=t?un(Me({},e),{children:t}):Me({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=t3),n}function Gi(e){return e.outlet||Je}function r3(e,t){let n=e.filter(r=>Gi(r)===t);return n.push(...e.filter(r=>Gi(r)!==t)),n}function sc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var i3=(e,t,n,r)=>Ke(i=>(new pI(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),pI=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Hy(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ka(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ka(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ka(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ka(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new lI(o.value.snapshot))}),t.children.length&&this.forwardEvent(new sI(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Hy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hy(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=sc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},bh=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},tl=class{constructor(t,n){this.component=t,this.route=n}};function o3(e,t,n){let r=e._root,i=t?t._root:null;return Zu(r,i,n,[r.value])}function s3(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function al(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Yb(e)?e:t.get(e):r}function Zu(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ka(t);return e.children.forEach(s=>{a3(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$u(a,n.getContext(s),i)),i}function a3(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=l3(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new bh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zu(e,t,a?a.children:null,r,i):Zu(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tl(a.outlet.component,s))}else s&&$u(t,a,i),i.canActivateChecks.push(new bh(r)),o.component?Zu(e,null,a?a.children:null,r,i):Zu(e,null,n,r,i);return i}function l3(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ts(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ts(e.url,t.url)||!zi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fI(e,t)||!zi(e.queryParams,t.queryParams);case"paramsChange":default:return!fI(e,t)}}function $u(e,t,n){let r=Ka(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?$u(s,t.children.getContext(o),n):$u(s,null,n):$u(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new tl(t.outlet.component,i)):n.canDeactivateChecks.push(new tl(null,i)):n.canDeactivateChecks.push(new tl(null,i))}function ac(e){return typeof e=="function"}function u3(e){return typeof e=="boolean"}function c3(e){return e&&ac(e.canLoad)}function d3(e){return e&&ac(e.canActivate)}function f3(e){return e&&ac(e.canActivateChild)}function h3(e){return e&&ac(e.canDeactivate)}function p3(e){return e&&ac(e.canMatch)}function cE(e){return e instanceof qi||e?.name==="EmptyError"}var dh=Symbol("INITIAL_VALUE");function sl(){return yr(e=>Iu(e.map(t=>t.pipe(Qi(1),Pm(dh)))).pipe(Ke(t=>{for(let n of t)if(n!==!0){if(n===dh)return dh;if(n===!1||n instanceof ko)return n}return!0}),vr(t=>t!==dh),Qi(1)))}function g3(e,t){return gn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Be(un(Me({},n),{guardsResult:!0})):m3(s,r,i,e).pipe(gn(a=>a&&u3(a)?v3(r,o,e,t):Be(a)),Ke(a=>un(Me({},n),{guardsResult:a})))})}function m3(e,t,n,r){return sn(e).pipe(gn(i=>A3(i.component,i.route,n,t,r)),Ni(i=>i!==!0,!0))}function v3(e,t,n,r){return sn(t).pipe(Ji(i=>Ea(I3(i.route.parent,r),y3(i.route,r),w3(e,i.path,n),C3(e,i.route,n))),Ni(i=>i!==!0,!0))}function y3(e,t){return e!==null&&t&&t(new aI(e)),Be(!0)}function I3(e,t){return e!==null&&t&&t(new oI(e)),Be(!0)}function C3(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Be(!0);let i=r.map(o=>Xd(()=>{let s=sc(t)??n,a=al(o,s),l=d3(a)?a.canActivate(t,e):fi(s,()=>a(t,e));return jo(l).pipe(Ni())}));return Be(i).pipe(sl())}function w3(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>s3(s)).filter(s=>s!==null).map(s=>Xd(()=>{let a=s.guards.map(l=>{let c=sc(s.node)??n,f=al(l,c),d=f3(f)?f.canActivateChild(r,e):fi(c,()=>f(r,e));return jo(d).pipe(Ni())});return Be(a).pipe(sl())}));return Be(o).pipe(sl())}function A3(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Be(!0);let s=o.map(a=>{let l=sc(t)??i,c=al(a,l),f=h3(c)?c.canDeactivate(e,t,n,r):fi(l,()=>c(e,t,n,r));return jo(f).pipe(Ni())});return Be(s).pipe(sl())}function b3(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return Be(!0);let o=i.map(s=>{let a=al(s,e),l=c3(a)?a.canLoad(t,n):fi(e,()=>a(t,n));return jo(l)});return Be(o).pipe(sl(),dE(r))}function dE(e){return xm(Dn(t=>{if(rl(t))throw aE(e,t)}),Ke(t=>t===!0))}function x3(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return Be(!0);let o=i.map(s=>{let a=al(s,e),l=p3(a)?a.canMatch(t,n):fi(e,()=>a(t,n));return jo(l)});return Be(o).pipe(sl(),dE(r))}var nc=class{constructor(t){this.segmentGroup=t||null}},xh=class extends Error{constructor(t){super(),this.urlTree=t}};function Qa(e){return xo(new nc(e))}function D3(e){return xo(new Pe(4e3,!1))}function M3(e){return xo(lE(!1,Lr.GuardRejected))}var gI=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Be(r);if(i.numberOfChildren>1||!i.children[Je])return D3(t.redirectTo);i=i.children[Je]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new xh(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new ko(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Nt(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new Pe(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},mI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function E3(e,t,n,r,i){let o=xI(e,t,n);return o.matched?(r=n3(t,r),x3(r,t,n,i).pipe(Ke(s=>s===!0?o:Me({},mI)))):Be(o)}function xI(e,t,n){if(t.path==="**")return S3(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?Me({},mI):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||xF)(n,e,t);if(!i)return Me({},mI);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Me(Me({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function S3(e){return{matched:!0,parameters:e.length>0?ZM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function VM(e,t,n,r){return n.length>0&&_3(e,n,r)?{segmentGroup:new Nt(t,T3(r,new Nt(n,e.children))),slicedSegments:[]}:n.length===0&&P3(e,n,r)?{segmentGroup:new Nt(e.segments,N3(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Nt(e.segments,e.children),slicedSegments:n}}function N3(e,t,n,r){let i={};for(let o of n)if(Sh(e,t,o)&&!r[Gi(o)]){let s=new Nt([],{});i[Gi(o)]=s}return Me(Me({},r),i)}function T3(e,t){let n={};n[Je]=t;for(let r of e)if(r.path===""&&Gi(r)!==Je){let i=new Nt([],{});n[Gi(r)]=i}return n}function _3(e,t,n){return n.some(r=>Sh(e,t,r)&&Gi(r)!==Je)}function P3(e,t,n){return n.some(r=>Sh(e,t,r))}function Sh(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function O3(e,t,n,r){return Gi(e)!==r&&(r===Je||!Sh(t,n,e))?!1:xI(t,e,n).matched}function R3(e,t,n){return t.length===0&&!e.children[n]}var vI=class{};function k3(e,t,n,r,i,o,s="emptyOnly"){return new yI(e,t,n,r,i,s,o).recognize()}var L3=31,yI=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gI(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Pe(4002,`'${t.segmentGroup}'`)}recognize(){let t=VM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ke(n=>{let r=new ec([],Object.freeze({}),Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),i=new kr(r,n),o=new Ah("",i),s=UF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Je).pipe(Do(r=>{if(r instanceof xh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nc?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=CI(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(Ke(o=>o instanceof kr?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return sn(i).pipe(Ji(o=>{let s=r.children[o],a=r3(n,o);return this.processSegmentGroup(t,a,s,o)}),_m((o,s)=>(o.push(...s),o)),Mo(null),Tm(),gn(o=>{if(o===null)return Qa(r);let s=fE(o);return F3(s),Be(s)}))}processSegment(t,n,r,i,o,s){return sn(n).pipe(Ji(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Do(l=>{if(l instanceof nc)return Be(null);throw l}))),Ni(a=>!!a),Do(a=>{if(cE(a))return R3(r,i,o)?Be(new vI):Qa(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return O3(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Qa(i):Qa(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=xI(n,i,o);if(!a)return Qa(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>L3&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(gn(v=>this.processSegment(t,r,n,v.concat(f),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=E3(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(yr(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(yr(({routes:l})=>{let c=r._loadedInjector??t,{consumedSegments:f,remainingSegments:d,parameters:v}=a,I=new ec(f,v,Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,B3(r),Gi(r),r.component??r._loadedComponent??null,r,V3(r)),{segmentGroup:w,slicedSegments:D}=VM(n,f,d,l);if(D.length===0&&w.hasChildren())return this.processChildren(c,l,w).pipe(Ke(T=>T===null?null:new kr(I,T)));if(l.length===0&&D.length===0)return Be(new kr(I,[]));let M=Gi(r)===o;return this.processSegment(c,l,w,D,M?Je:o,!0).pipe(Ke(T=>new kr(I,T instanceof kr?[T]:[])))}))):Qa(n)))}getChildConfig(t,n,r){return n.children?Be({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Be({routes:n._loadedRoutes,injector:n._loadedInjector}):b3(t,n,r,this.urlSerializer).pipe(gn(i=>i?this.configLoader.loadChildren(t,n).pipe(Dn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):M3(n))):Be({routes:[],injector:t})}};function F3(e){e.sort((t,n)=>t.value.outlet===Je?-1:n.value.outlet===Je?1:t.value.outlet.localeCompare(n.value.outlet))}function j3(e){let t=e.value.routeConfig;return t&&t.path===""}function fE(e){let t=[],n=new Set;for(let r of e){if(!j3(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=fE(r.children);t.push(new kr(r.value,i))}return t.filter(r=>!n.has(r))}function B3(e){return e.data||{}}function V3(e){return e.resolve||{}}function z3(e,t,n,r,i,o){return gn(s=>k3(e,t,n,r,s.extractedUrl,i,o).pipe(Ke(({state:a,tree:l})=>un(Me({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function G3(e,t){return gn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Be(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of hE(l))s.add(c);let a=0;return sn(s).pipe(Ji(l=>o.has(l)?U3(l,r,e,t):(l.data=CI(l,l.parent,e).resolve,Be(void 0))),Dn(()=>a++),Sa(1),gn(l=>a===s.size?Be(n):Tr))})}function hE(e){let t=e.children.map(n=>hE(n)).flat();return[e,...t]}function U3(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!oE(i)&&(o[rc]=i.title),Z3(o,e,t,r).pipe(Ke(s=>(e._resolvedData=s,e.data=CI(e,e.parent,n).resolve,null)))}function Z3(e,t,n,r){let i=Xy(e);if(i.length===0)return Be({});let o={};return sn(i).pipe(gn(s=>W3(e[s],t,n,r).pipe(Ni(),Dn(a=>{o[s]=a}))),Sa(1),Nm(o),Do(s=>cE(s)?Tr:xo(s)))}function W3(e,t,n,r){let i=sc(t)??r,o=al(e,i),s=o.resolve?o.resolve(t,n):fi(i,()=>o(t,n));return jo(s)}function Yy(e){return yr(t=>{let n=e(t);return n?sn(n).pipe(Ke(()=>t)):Be(t)})}var pE=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Je);return r}getResolvedTitleForRoute(n){return n.data[rc]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>ye(H3),providedIn:"root"})}}return e})(),H3=(()=>{class e extends pE{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(Se(OM))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lc=new Oe("",{providedIn:"root",factory:()=>({})}),Dh=new Oe(""),DI=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ye(Qf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Be(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=jo(n.loadComponent()).pipe(Ke(gE),Dn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Eo(()=>{this.componentLoaders.delete(n)})),i=new Da(r,()=>new tr).pipe(xa());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Be({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Y3(r,this.compiler,n,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(r)})),s=new Da(o,()=>new tr).pipe(xa());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Y3(e,t,n,r){return jo(e.loadChildren()).pipe(Ke(gE),gn(i=>i instanceof _u||Array.isArray(i)?Be(i):sn(t.compileModuleAsync(i))),Ke(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Dh,[],{optional:!0,self:!0}).flat()),{routes:s.map(bI),injector:o}}))}function $3(e){return e&&typeof e=="object"&&"default"in e}function gE(e){return $3(e)?e.default:e}var MI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>ye(X3),providedIn:"root"})}}return e})(),X3=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mE=new Oe(""),vE=new Oe("");function q3(e,t,n){let r=e.get(vE),i=e.get(Hn);return e.get(Vt).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),J3(e))),{onViewTransitionCreated:l}=r;return l&&fi(e,()=>l({transition:a,from:t,to:n})),s})}function J3(e){return new Promise(t=>{Gf(t,{injector:e})})}var EI=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tr,this.transitionAbortSubject=new tr,this.configLoader=ye(DI),this.environmentInjector=ye(Un),this.urlSerializer=ye(ic),this.rootContexts=ye(oc),this.location=ye(qa),this.inputBindingEnabled=ye(Eh,{optional:!0})!==null,this.titleStrategy=ye(pE),this.options=ye(lc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ye(MI),this.createViewTransition=ye(mE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Be(void 0),this.rootComponentType=null;let n=i=>this.events.next(new rI(i)),r=i=>this.events.next(new iI(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(un(Me(Me({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new fn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vr(o=>o.id!==0),Ke(o=>un(Me({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yr(o=>{let s=!1,a=!1;return Be(o).pipe(yr(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Lr.SupersededByNewNavigation),Tr;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?un(Me({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&f!=="reload"){let d="";return this.events.next(new Fo(l.id,this.urlSerializer.serialize(l.rawUrl),d,vh.IgnoredSameUrlNavigation)),l.resolve(null),Tr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Be(l).pipe(yr(d=>{let v=this.transitions?.getValue();return this.events.next(new il(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),v!==this.transitions?.getValue()?Tr:Promise.resolve(d)}),z3(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Dn(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=un(Me({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let v=new yh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:v,source:I,restoredState:w,extras:D}=l,M=new il(d,this.urlSerializer.serialize(v),I,w);this.events.next(M);let T=rE(this.rootComponentType).snapshot;return this.currentTransition=o=un(Me({},l),{targetSnapshot:T,urlAfterRedirects:v,extras:un(Me({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Be(o)}else{let d="";return this.events.next(new Fo(l.id,this.urlSerializer.serialize(l.extractedUrl),d,vh.IgnoredByUrlHandlingStrategy)),l.resolve(null),Tr}}),Dn(l=>{let c=new Ky(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ke(l=>(this.currentTransition=o=un(Me({},l),{guards:o3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),g3(this.environmentInjector,l=>this.events.next(l)),Dn(l=>{if(o.guardsResult=l.guardsResult,rl(l.guardsResult))throw aE(this.urlSerializer,l.guardsResult);let c=new eI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),vr(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Lr.GuardRejected),!1)),Yy(l=>{if(l.guards.canActivateChecks.length)return Be(l).pipe(Dn(c=>{let f=new tI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),yr(c=>{let f=!1;return Be(c).pipe(G3(this.paramsInheritanceStrategy,this.environmentInjector),Dn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(c,"",Lr.NoDataFromResolver)}}))}),Dn(c=>{let f=new nI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}))}),Yy(l=>{let c=f=>{let d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe(Dn(v=>{f.component=v}),Ke(()=>{})));for(let v of f.children)d.push(...c(v));return d};return Iu(c(l.targetSnapshot.root)).pipe(Mo(null),Qi(1))}),Yy(()=>this.afterPreactivation()),yr(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return f?sn(f).pipe(Ke(()=>o)):Be(o)}),Ke(l=>{let c=JF(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=un(Me({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Dn(()=>{this.events.next(new Qu)}),i3(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qi(1),Dn({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new so(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Om(this.transitionAbortSubject.pipe(Dn(l=>{throw l}))),Eo(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Lr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Do(l=>{if(a=!0,uE(l))this.events.next(new Lo(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),e3(l)?this.events.next(new Ku(l.url)):o.resolve(!1);else{this.events.next(new Ju(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return Tr}))}))}cancelNavigationTransition(n,r,i){let o=new Lo(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Q3(e){return e!==Yu}var K3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>ye(ej),providedIn:"root"})}}return e})(),II=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},ej=(()=>{class e extends II{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Of(e)))(i||e)}})()}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>ye(tj),providedIn:"root"})}}return e})(),tj=(()=>{class e extends yE{constructor(){super(...arguments),this.location=ye(qa),this.urlSerializer=ye(ic),this.options=ye(lc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ye(MI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ko,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof il)this.stateMemento=this.createStateMemento();else if(n instanceof Fo)this.rawUrlTree=r.initialUrl;else if(n instanceof yh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Qu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Lo&&(n.code===Lr.GuardRejected||n.code===Lr.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ju?this.restoreHistory(r,!0):n instanceof so&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=Me(Me({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=Me(Me({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Of(e)))(i||e)}})()}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Wu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Wu||{});function IE(e,t){e.events.pipe(vr(n=>n instanceof so||n instanceof Lo||n instanceof Ju||n instanceof Fo),Ke(n=>n instanceof so||n instanceof Fo?Wu.COMPLETE:(n instanceof Lo?n.code===Lr.Redirect||n.code===Lr.SupersededByNewNavigation:!1)?Wu.REDIRECTING:Wu.FAILED),vr(n=>n!==Wu.REDIRECTING),Qi(1)).subscribe(()=>{t()})}function nj(e){throw e}var rj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ij={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_s=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ye(Yf),this.stateManager=ye(yE),this.options=ye(lc,{optional:!0})||{},this.pendingTasks=ye(xs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ye(EI),this.urlSerializer=ye(ic),this.location=ye(qa),this.urlHandlingStrategy=ye(MI),this._events=new tr,this.errorHandler=this.options.errorHandler||nj,this.navigated=!1,this.routeReuseStrategy=ye(K3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ye(Dh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ye(Eh,{optional:!0}),this.eventsSubscription=new In,this.isNgZoneEnabled=ye(Vt)instanceof Vt&&Vt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Lo&&r.code!==Lr.Redirect&&r.code!==Lr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof so)this.navigated=!0;else if(r instanceof Ku){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Q3(i.source)};this.scheduleNavigation(s,Yu,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Me({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(bI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,f=null;switch(a){case"merge":f=Me(Me({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let d;try{let v=i?i.snapshot:this.routerState.snapshot.root;d=KM(v)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return eE(d,n,f,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=rl(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Yu,null,r)}navigate(n,r={skipLocationChange:!1}){return oj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=Me({},rj):r===!1?i=Me({},ij):i=r,rl(n))return kM(this.currentUrlTree,n,i);let o=this.parseUrl(n);return kM(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,v)=>{a=d,l=v});let f=this.pendingTasks.add();return IE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oj(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Pe(4008,!1)}function sj(e){return!(e instanceof Qu)&&!(e instanceof Ku)}var Mh=class{};var aj=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(vr(n=>n instanceof so),Ji(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Uf(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return sn(i).pipe(Ma())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Be(null);let o=i.pipe(gn(s=>s===null?Be(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return sn([o,s]).pipe(Ma())}else return o})}static{this.\u0275fac=function(r){return new(r||e)(Se(_s),Se(Qf),Se(Un),Se(Mh),Se(DI))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),CE=new Oe(""),lj=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=ye(Un),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof il?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof so?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Fo&&n.code===vh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ih&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>Td(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Gf(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ih(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){hD()}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();function uj(e){return e.routerState.root}function uc(e,t){return{\u0275kind:e,\u0275providers:t}}function cj(){let e=ye(mi);return t=>{let n=e.get(Ds);if(t!==n.components[0])return;let r=e.get(_s),i=e.get(wE);e.get(SI)===1&&r.initialNavigation(),e.get(AE,null,tt.Optional)?.setUpPreloading(),e.get(CE,null,tt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wE=new Oe("",{factory:()=>new tr}),SI=new Oe("",{providedIn:"root",factory:()=>1});function dj(){return uc(2,[{provide:SI,useValue:0},{provide:qf,multi:!0,deps:[mi],useFactory:t=>{let n=t.get(oM,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(_s),o=t.get(wE);IE(i,()=>{r(!0)}),t.get(EI).afterPreactivation=()=>(r(!0),o.closed?Be(void 0):o),i.initialNavigation()}))}}])}function fj(){return uc(3,[{provide:qf,multi:!0,useFactory:()=>{let t=ye(_s);return()=>{t.setUpLocationChangeListener()}}},{provide:SI,useValue:2}])}var AE=new Oe("");function hj(e){return uc(0,[{provide:AE,useExisting:aj},{provide:Mh,useExisting:e}])}function pj(){return uc(8,[BM,{provide:Eh,useExisting:BM}])}function gj(e){let t=[{provide:mE,useValue:q3},{provide:vE,useValue:Me({skipNextTransition:!!e?.skipInitialTransition},e)}];return uc(9,t)}var zM=new Oe("ROUTER_FORROOT_GUARD"),mj=[qa,{provide:ic,useClass:Xu},_s,oc,{provide:ol,useFactory:uj,deps:[_s]},DI,[]],NI=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[mj,[],{provide:Dh,multi:!0,useValue:n},{provide:zM,useFactory:Cj,deps:[[_s,new Sf,new kv]]},{provide:lc,useValue:r||{}},r?.useHash?yj():Ij(),vj(),r?.preloadingStrategy?hj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wj(r):[],r?.bindToComponentInputs?pj().\u0275providers:[],r?.enableViewTransitions?gj().\u0275providers:[],Aj()]}}static forChild(n){return{ngModule:e,providers:[{provide:Dh,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(Se(zM,8))}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({})}}return e})();function vj(){return{provide:CE,useFactory:()=>{let e=ye(dM),t=ye(Vt),n=ye(lc),r=ye(EI),i=ye(ic);return n.scrollOffset&&e.setOffset(n.scrollOffset),new lj(i,r,e,t,n)}}}function yj(){return{provide:Es,useClass:aM}}function Ij(){return{provide:Es,useClass:Sy}}function Cj(e){return"guarded"}function wj(e){return[e.initialNavigation==="disabled"?fj().\u0275providers:[],e.initialNavigation==="enabledBlocking"?dj().\u0275providers:[]]}var GM=new Oe("");function Aj(){return[{provide:GM,useFactory:cj},{provide:Jf,multi:!0,useExisting:GM}]}var xj=[],bE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({imports:[NI.forRoot(xj),NI]})}}return e})();var sw={};nn(sw,{absolute:()=>$V,bottom:()=>ez,ellipse:()=>nz,ellipseSpread:()=>tz,fn:()=>XV,left:()=>JV,line:()=>qV,right:()=>QV,top:()=>KV});var ao={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Dj=Object.keys(ao).map(e=>ao[e]).join(""),TI="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Mj=/\s/g,xE=new RegExp(`^(${TI}\\*)?([${Dj}])(/${TI})?([-+]{1,2}${TI})?$`,"g");function ME(e){throw new Error(`Invalid calc() expression: ${e}`)}function Ej(e,t){let n=xE.exec(e.replace(Mj,""));n||ME(e),xE.lastIndex=0;let[,r,i,o,s]=n,{x:a,y:l,width:c,height:f}=t,d=0;switch(i){case ao.width:{d=c;break}case ao.height:{d=f;break}case ao.x:{d=a;break}case ao.y:{d=l;break}case ao.minimum:{d=Math.min(f,c);break}case ao.maximum:{d=Math.max(f,c);break}case ao.diagonal:{d=Math.sqrt(f*f+c*c);break}}return r&&(d*=parseFloat(r)),o&&(d/=parseFloat(o.slice(1))),s&&(d+=Sj(s)),d}function Sj(e){if(!e)return 0;let[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function qr(e){return typeof e=="string"&&e.includes("calc")}var EE="calc(",DE=EE.length;function Jr(e,t){let n=e,r=0;do{let i=n.indexOf(EE,r);if(i===-1)return n;let o=i+DE,s=1;e:do{switch(n[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:ME(n)}o++}while(!0);let a=n.slice(i+DE,o);qr(a)&&(a=Jr(a,t));let l=String(Ej(a,t));n=n.slice(0,i)+l+n.slice(o+1),r=i+l.length}while(!0)}var kn={};nn(kn,{Curve:()=>ht,Ellipse:()=>An,Line:()=>ge,Path:()=>be,Point:()=>k,Polygon:()=>nr,Polyline:()=>ft,Rect:()=>de,bezier:()=>Uj,ellipse:()=>Lj,intersection:()=>Wj,line:()=>lo,normalizeAngle:()=>En,point:()=>ul,random:()=>Nh,rect:()=>Vj,scale:()=>_j,snapToGrid:()=>Ui,toDeg:()=>Ps,toRad:()=>dn,types:()=>Fe});var{round:Nj,floor:Tj,PI:SE}=Math,_j={linear:function(e,t,n){var r=e[1]-e[0],i=t[1]-t[0];return(n-e[0])/r*i+t[0]||0}},En=function(e){return e%360+(e<0?360:0)},Ui=function(e,t){return t*Nj(e/t)},Ps=function(e){return 180*e/SE%360},dn=function(e,t){return t=t||!1,e=t?e:e%360,e*SE/180},Nh=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){let n=e;e=t,t=n}return Tj(Math.random()*(t-e+1)+e)};var{cos:Th,sin:_I,atan2:Pj}=Math,_h=function(e,t){var n=dn(e.y),r=dn(t.y),i=e.x,o=t.x,s=dn(o-i),a=_I(s)*Th(r),l=Th(n)*_I(r)-_I(n)*Th(r)*Th(s),c=Ps(Pj(a,l)),f=["NE","E","SE","S","SW","W","NW","N"],d=c-22.5;return d<0&&(d+=360),d=parseInt(d/45),f[d]};var ll=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return(n-=i)*n+(r-=o)*r};var Ph=function(e,t){return Math.sqrt(ll(e,t))};var Fe={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8};var{abs:Oh,cos:PI,sin:OI,sqrt:NE,min:TE,max:_E,atan2:Oj,round:PE,pow:Rj,PI:OE}=Math,k=function(e,t){if(!(this instanceof k))return new k(e,t);if(typeof e=="string"){var n=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};k.fromPolar=function(e,t,n){n=new k(n);var r=Oh(e*PI(t)),i=Oh(e*OI(t)),o=En(Ps(t));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new k(n.x+r,n.y+i)};k.random=function(e,t,n,r){return new k(Nh(e,t),Nh(n,r))};k.prototype={type:Fe.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new k(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var o=new k(e[i]),s=this.squaredDistance(o);s<r&&(n=o,r=s)}return n},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=TE(_E(this.x,e.x),e.x+e.width),this.y=TE(_E(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return _h(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new k(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new k(this.x-(e||0),this.y-(t||0))},distance:function(e){return Ph(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var n=this.x,r=this.y;return new k((1-t)*n+t*e.x,(1-t)*r+t*e.y)},magnitude:function(){return NE(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Oh(e.x-this.x)+Oh(e.y-this.y)},move:function(e,t){var n=dn(new k(e).theta(this)),r=this.offset(PI(n)*t,-OI(n)*t);return r},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new k(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new k(0,0),t=dn(En(-t));var n=PI(t),r=OI(t),i=n*(this.x-e.x)-r*(this.y-e.y)+e.x,o=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Rj(10,e);break}return this.x=PE(this.x*t)/t,this.y=PE(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new k(n)||new k(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=Ui(this.x,e),this.y=Ui(this.y,t||e),this},squaredDistance:function(e){return ll(this,e)},theta:function(e){e=new k(e);var t=-(e.y-this.y),n=e.x-this.x,r=Oj(t,n);return r<0&&(r=2*OE+r),180*r/OE},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new k(e)||new k(0,0);var t=this.x,n=this.y;return this.x=NE((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=dn(e.theta(new k(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new k(0,0);return t.angleBetween(this,e)}};k.prototype.translate=k.prototype.offset;var ul=k;var{max:RI,min:kI}=Math,ge=function(e,t){if(!(this instanceof ge))return new ge(e,t);if(e instanceof ge)return new ge(e.start,e.end);this.start=new k(e),this.end=new k(t)};ge.prototype={type:Fe.Line,angle:function(){var e=new k(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=kI(this.start.x,this.end.x),t=kI(this.start.y,this.end.y),n=RI(this.start.x,this.end.x),r=RI(this.start.y,this.end.y);return new de(e,t,n-e,r-t)},bearing:function(){return _h(this.start,this.end)},clone:function(){return new ge(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new ge(this.start,e).vector()),n=kI(1,RI(0,t/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(t.cross(e,n)!==0)return!1;var r=this.length();return!(new ge(t,e).length()>r||new ge(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new ge(this.start,t),new ge(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new ge(this.start,t),new ge(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof ge&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new k(this.end.x-this.start.x,this.end.y-this.start.y),n=new k(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new k(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,s=i.x*t.y-i.y*t.x;if(r===0||o*r<0||s*r<0)return null;if(r>0){if(o>r||s>r)return null}else if(o<r||s<r)return null;return[new k(this.start.x+o*t.x/r,this.start.y+o*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Ph(this.start,this.end)},midpoint:function(){return new k((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){let t=this.clone();if(!this.isDifferentiable())return t;let{start:n,end:r}=t,i=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new k(e);var t=this.start,n=this.end,r=(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x);return r/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return ll(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new ge(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new ge(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new k(this.end.x-this.start.x,this.end.y-this.start.y)}};ge.prototype.intersection=ge.prototype.intersect;var lo=ge;var{sqrt:RE,round:Rh,pow:kj}=Math,An=function(e,t,n){if(!(this instanceof An))return new An(e,t,n);if(e instanceof An)return new An(new k(e.x,e.y),e.a,e.b);e=new k(e),this.x=e.x,this.y=e.y,this.a=t,this.b=n};An.fromRect=function(e){return e=new de(e),new An(e.center(),e.width/2,e.height/2)};An.prototype={type:Fe.Ellipse,bbox:function(){return new de(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new k(this.x,this.y)},clone:function(){return new An(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,o=this.b,s=e.vector(),a=n.difference(new k(this)),l=new k(s.x/(i*i),s.y/(o*o)),c=new k(a.x/(i*i),a.y/(o*o)),f=s.dot(l),d=s.dot(c),v=a.dot(c)-1,I=d*d-f*v;if(I<0)return null;if(I>0){var w=RE(I),D=(-d-w)/f,M=(-d+w)/f;if((D<0||1<D)&&(M<0||1<M))return null;0<=D&&D<=1&&t.push(n.lerp(r,D)),0<=M&&M<=1&&t.push(n.lerp(r,M))}else{var T=-d/f;if(0<=T&&T<=1)t.push(n.lerp(r,T));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new k(e),t&&e.rotate(new k(this.x,this.y),t);var n=e.x-this.x,r=e.y-this.y,i;if(n===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new k(this.x,this.y),-t):i;var o=r/n,s=o*o,a=this.a*this.a,l=this.b*this.b,c=RE(1/(1/a+s/l));c=n<0?-c:c;var f=o*c;return i=new k(this.x+c,this.y+f),t?i.rotate(new k(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(r*r)+(n-s)*(n-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=kj(10,e);break}return this.x=Rh(this.x*t)/t,this.y=Rh(this.y*t)/t,this.a=Rh(this.a*t)/t,this.b=Rh(this.b*t)/t,this},tangentTheta:function(e){var t=30,n=e.x,r=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,l=s.y,c=n>s.x+i/2,f=n<s.x-i/2,d,v;return c||f?(d=n>s.x?r-t:r+t,v=i*i/(n-a)-i*i*(r-l)*(d-l)/(o*o*(n-a))+a):(v=r>s.y?n+t:n-t,d=o*o/(r-l)-o*o*(n-a)*(v-a)/(i*i*(r-l))+l),new k(v,d).theta(e)},toString:function(){return new k(this.x,this.y).toString()+" "+this.a+" "+this.b}};var Lj=An;var{abs:kE,cos:Fj,sin:jj,min:cc,max:LE,round:kh,pow:Bj}=Math,de=function(e,t,n,r){if(!(this instanceof de))return new de(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=n===void 0?0:n,this.height=r===void 0?0:r};de.fromEllipse=function(e){return e=new An(e),new de(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};de.fromPointUnion=function(...e){if(e.length===0)return null;let t=new k,n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);let a=t.x,l=t.y;a<n&&(n=a),a>i&&(i=a),l<r&&(r=l),l>o&&(o=l)}return new de(n,r,i-n,o-r)};de.fromRectUnion=function(...e){if(e.length===0)return null;let t=new de,n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);let a=t.x,l=t.y,c=a+t.width,f=l+t.height;a<n&&(n=a),c>i&&(i=c),l<r&&(r=l),f>o&&(o=f)}return new de(n,r,i-n,o-r)};de.prototype={type:Fe.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;let{width:t,height:n}=this,r=dn(e),i=kE(jj(r)),o=kE(Fj(r)),s=t*o+n*i,a=t*i+n*o;return this.x+=(t-s)/2,this.y+=(n-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new k(this.x,this.y+this.height)},bottomLine:function(){return new ge(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new k(this.x+this.width/2,this.y+this.height)},center:function(){return new k(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new de(this)},containsPoint:function(e){return e instanceof k||(e=new k(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new de(this).normalize(),n=new de(e).normalize(),r=t.width,i=t.height,o=n.width,s=n.height;if(!r||!i||!o||!s)return!1;var a=t.x,l=t.y,c=n.x,f=n.y;return o+=c,r+=a,s+=f,i+=l,a<=c&&o<=r&&l<=f&&s<=i},corner:function(){return new k(this.x+this.width,this.y+this.height)},equals:function(e){var t=new de(this).normalize(),n=new de(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=LE(t.x,r.x),s=LE(t.y,r.y);return new de(o,s,cc(n.x,i.x)-o,cc(n.y,i.y)-s)},intersectionWithLine:function(e){var t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],i=[],o,s,a=n.length;for(s=0;s<a;s++)o=e.intersect(n[s]),o!==null&&i.indexOf(o.toString())<0&&(r.push(o),i.push(o.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new k(e);var n=new k(this.x+this.width/2,this.y+this.height/2),r;t&&e.rotate(n,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new ge(n,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(a!==null){r=a;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new ge(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new k(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new de(e),t||(t=e.center());var n,r,i,o,s,a,l,c,f=t.x,d=t.y;n=r=i=o=s=a=l=c=1/0;var v=e.topLeft();v.x<f&&(n=(this.x-f)/(v.x-f)),v.y<d&&(s=(this.y-d)/(v.y-d));var I=e.bottomRight();I.x>f&&(r=(this.x+this.width-f)/(I.x-f)),I.y>d&&(a=(this.y+this.height-d)/(I.y-d));var w=e.topRight();w.x>f&&(i=(this.x+this.width-f)/(w.x-f)),w.y<d&&(l=(this.y-d)/(w.y-d));var D=e.bottomLeft();return D.x<f&&(o=(this.x-f)/(D.x-f)),D.y>d&&(c=(this.y+this.height-d)/(D.y-d)),{sx:cc(n,r,i,o),sy:cc(s,a,l,c)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return cc(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return k.prototype.offset.call(this,e,t)},origin:function(){return new k(this.x,this.y)},pointNearestToPoint:function(e){if(e=new k(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new k(this.x+this.width,e.y);case"left":return new k(this.x,e.y);case"bottom":return new k(e.x,this.y+this.height);case"top":return new k(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new ge(this.topRight(),this.bottomRight())},rightMiddle:function(){return new k(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Bj(10,e);break}return this.x=kh(this.x*t)/t,this.y=kh(this.y*t)/t,this.width=kh(this.width*t)/t,this.height=kh(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new k(e);var t=e.x-this.x,n=this.x+this.width-e.x,r=e.y-this.y,i=this.y+this.height-e.y,o=t,s="left";return n<o&&(o=n,s="right"),r<o&&(o=r,s="top"),i<o&&(s="bottom"),s},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new ge(this.topLeft(),this.topRight())},topMiddle:function(){return new k(this.x+this.width/2,this.y)},topRight:function(){return new k(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return de.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}};de.prototype.bottomRight=de.prototype.corner;de.prototype.topLeft=de.prototype.origin;de.prototype.translate=de.prototype.offset;var Vj=de;function Lh(e){let t=e.trim();if(t==="")return[];let n=[],r=t.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let o=0;o<i;o+=2)n.push({x:+r[o],y:+r[o+1]});return n}function Fh(e){let t=e.length;if(t===0)return[];let n=[];for(let r=0;r<t;r++){let i=e[r].clone();n.push(i)}return n}function jh(e){let{abs:t}=Math;var n,r,i=e.length;if(i===0)return[];var o;for(n=0;n<i;n++)(o===void 0||e[n].y<o.y||e[n].y===o.y&&e[n].x>o.x)&&(o=e[n]);var s=[];for(n=0;n<i;n++){var a=o.theta(e[n]);a===0&&(a=360);var l=[e[n],n,a];s.push(l)}if(s.sort(function(Y,ue){var pe=Y[2]-ue[2];return pe===0&&(pe=ue[1]-Y[1]),pe}),s.length>2){var c=s[s.length-1];s.unshift(c)}for(var f={},d=[],v,I,w,D,M,T;s.length!==0;)if(v=s.pop(),I=v[0],!f.hasOwnProperty(v[0]+"@@"+v[1]))for(var B=!1;!B;)if(d.length<2)d.push(v),B=!0;else{w=d.pop(),D=w[0],M=d.pop(),T=M[0];var G=T.cross(D,I);if(G<0)d.push(M),d.push(w),d.push(v),B=!0;else if(G===0){var H=1e-10,ne=D.angleBetween(T,I);t(ne-180)<H||D.equals(I)||T.equals(D)?(f[w[0]+"@@"+w[1]]=D,d.push(M)):t((ne+1)%360-1)<H&&(d.push(M),s.push(w))}else f[w[0]+"@@"+w[1]]=D,d.push(M)}d.length>2&&d.pop();var g,y=-1;for(r=d.length,n=0;n<r;n++){var x=d[n][1];(g===void 0||x<g)&&(g=x,y=n)}var S=[];if(y>0){var _=d.slice(y),j=d.slice(0,y);S=_.concat(j)}else S=d;var V=[];for(r=S.length,n=0;n<r;n++)V.push(S[n][0]);return V}var ft=function(e){if(!(this instanceof ft))return new ft(e);if(typeof e=="string")return new ft.parse(e);this.points=Array.isArray(e)?e.map(k):[]};ft.parse=function(e){return new ft(Lh(e))};ft.fromRect=function(e){return new ft([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};ft.prototype={type:Fe.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var s=0;s<o;s++){var a=i[s],l=a.x,c=a.y;l<e&&(e=l),l>t&&(t=l),c<n&&(n=c),c>r&&(r=c)}return new de(e,n,t-e,r-n)},clone:function(){return new ft(Fh(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return 0;for(var r,i=1/0,o=0,s=n-1,a=0;a<s;a++){var l=new ge(t[a],t[a+1]),c=l.length(),f=l.closestPointNormalizedLength(e),d=l.pointAt(f),v=d.squaredDistance(e);v<i&&(i=v,r=o+f*c),o+=c}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var n=this.length();return n===0?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(n===0)return!1;for(var r=e.x,i=e.y,o=n-1,s=0,a=0,l=new ge,c=new ge,f=new k;s<n;s++){var d=t[o],v=t[s];if(e.equals(d)||(l.start=d,l.end=v,l.containsPoint(e)))return!0;if(i<=d.y&&i>v.y||i>d.y&&i<=v.y){var I=d.x-r>v.x-r?d.x-r:v.x-r;I>=0&&(f.x=r+I,f.y=i,c.start=e,c.end=f,l.intersect(c)&&a++)}o=s}return a%2===1},close:function(){let{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new ft(jh(this.points))},equals:function(e){if(!e)return!1;var t=this.points,n=e.points,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new ge(e),n=[],r=this.lengthPoints(),i=new ge,o=0,s=r.length-1;o<s;o++){i.start=r[o],i.end=r[o+1];var a=t.intersectionWithLine(i);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var n=new ge,r=t-1,i=0;i<r;i++)if(n.start=e[i],n.end=e[i+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length(),i=r*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=n-1,s=0;s<o;s++){var a=r?s:o-1-s,l=t[a],c=t[a+1],f=new ge(l,c),d=l.distance(c);if(e<=i+d)return f.pointAtLength((r?1:-1)*(e-i));i+=d}var v=r?t[n-1]:t[0];return v.clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},simplify:function(e={}){let t=this.points;if(t.length<3)return this;let n=e.threshold||1e-10,r=0;for(;t[r+2];){let i=r,o=r+1,s=r+2,a=t[i],l=t[o],c=t[s];new ge(a,c).closestPoint(l).distance(l)<=n?t.splice(o,1):r+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length(),i=r*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,o=0,s=n-1,a=0;a<s;a++){var l=r?a:s-1-a,c=t[l],f=t[l+1],d=new ge(c,f),v=c.distance(f);if(d.isDifferentiable()){if(e<=o+v)return d.tangentAtLength((r?1:-1)*(e-o));i=d}o+=v}if(i){var I=r?1:0;return i.tangentAt(I)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}};Object.defineProperty(ft.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(ft.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});var{abs:Bh,sqrt:zj,min:FE,max:jE,pow:LI}=Math,ht=function(e,t,n,r){if(!(this instanceof ht))return new ht(e,t,n,r);if(e instanceof ht)return new ht(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new k(e),this.controlPoint1=new k(t),this.controlPoint2=new k(n),this.end=new k(r)};ht.throughPoints=function(){function e(n){var r=[],i=[],o=n.length-1,s;if(o==1)return r[0]=new k((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new k(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*n[s].x+2*n[s+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;var l=t(a);for(s=1;s<o-1;++s)a[s]=4*n[s].y+2*n[s+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;var c=t(a);for(s=0;s<o;s++)r.push(new k(l[s],c[s])),s<o-1?i.push(new k(2*n[s+1].x-l[s+1],2*n[s+1].y-c[s+1])):i.push(new k((n[o].x+l[o-1])/2,(n[o].y+c[o-1])/2));return[r,i]}function t(n){var r=n.length,i=[],o=[],s=2;i[0]=n[0]/s;for(var a=1;a<r;a++)o[a]=1/s,s=(a<r-1?4:3.5)-o[a],i[a]=(n[a]-i[a-1])/s;for(a=1;a<r;a++)i[r-a-1]-=o[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=e(n),i=[],o=r[0].length,s=0;s<o;s++){var a=new k(r[0][s].x,r[0][s].y),l=new k(r[1][s].x,r[1][s].y);i.push(new ht(n[s],a,l,n[s+1]))}return i}}();ht.prototype={type:Fe.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,i=e.x,o=e.y,s=t.x,a=t.y,l=n.x,c=n.y,f=r.x,d=r.y,v=new Array,I=new Array,w=[new Array,new Array],D,M,T,B,G,H,ne,g,y=0;y<2;++y){if(y===0?(M=6*i-12*s+6*l,D=-3*i+9*s-9*l+3*f,T=3*s-3*i):(M=6*o-12*a+6*c,D=-3*o+9*a-9*c+3*d,T=3*a-3*o),Bh(D)<1e-12){if(Bh(M)<1e-12)continue;B=-T/M,0<B&&B<1&&I.push(B);continue}ne=M*M-4*T*D,g=zj(ne),!(ne<0)&&(G=(-M+g)/(2*D),0<G&&G<1&&I.push(G),H=(-M-g)/(2*D),0<H&&H<1&&I.push(H))}for(var x=I.length,S=x,_,j,V;x--;)B=I[x],_=1-B,j=_*_*_*i+3*_*_*B*s+3*_*B*B*l+B*B*B*f,w[0][x]=j,V=_*_*_*o+3*_*_*B*a+3*_*B*B*c+B*B*B*d,w[1][x]=V,v[x]={X:j,Y:V};I[S]=0,I[S+1]=1,v[S]={X:i,Y:o},v[S+1]={X:f,Y:d},w[0][S]=i,w[1][S]=o,w[0][S+1]=f,w[1][S+1]=d,I.length=S+2,w[0].length=S+2,w[1].length=S+2,v.length=S+2;var Y=FE.apply(null,w[0]),ue=FE.apply(null,w[1]),pe=jE.apply(null,w[0]),Z=jE.apply(null,w[1]);return new de(Y,ue,pe-Y,Z-ue)},clone:function(){return new ht(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i,o,s,a,l,c,f,d=r.length,v=d?1/d:0,I=0;I<d;I++){var w=r[I],D=w.start.distance(e),M=w.end.distance(e),T=D+M;(!f||T<f)&&(i=w,o=I*v,s=(I+1)*v,a=D,l=M,c=w.start.distance(w.end),f=T)}for(var B=LI(10,-n);;){var G=a?Bh(a-l)/a:0,H=l?Bh(a-l)/l:0,ne=G<B||H<B,g=a?a<c*B:!0,y=l?l<c*B:!0,x=g||y;if(ne||x)return a<=l?o:s;var S=i.divide(.5);v/=2;var _=S[0].start.distance(e),j=S[0].end.distance(e),V=_+j,Y=S[1].start.distance(e),ue=S[1].end.distance(e),pe=Y+ue;V<=pe?(i=S[0],s-=v,a=_,l=j):(i=S[1],o+=v,a=Y,l=ue)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var n=this.toPolyline(t);return n.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new ht(t,t,t,t),new ht(t,n,r,i)];if(e>=1)return[new ht(t,n,r,i),new ht(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,l=o.divider,c=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new ht(t,s,a,l),new ht(l,c,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new ge(t,n).pointAt(e),s=new ge(n,r).pointAt(e),a=new ge(r,i).pointAt(e),l=new ge(o,s).pointAt(e),c=new ge(s,a).pointAt(e),f=new ge(l,c).pointAt(e),d={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:c,dividerControlPoint2:a};return d},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new ht(n,r,i,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var l=this.endpointDistance(),c=LI(10,-t),f=2,d=r.cross(n,o)===0&&i.cross(n,o)===0;d&&(f=2*t);for(var v=0;;){v+=1;for(var I=[],w=s.length,D=0;D<w;D++){var M=s[D],T=M.divide(.5);I.push(T[0],T[1])}for(var B=0,G=I.length,H=0;H<G;H++){var ne=I[H];B+=ne.endpointDistance()}if(v>=f){var g=B!==0?(B-l)/B:0;if(g<c)return I}s=I,l=B}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=0,i=n.length,o=0;o<i;o++){var s=n[o];r+=s.endpointDistance()}return r},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=this.divide(e)[0],i=r.length({precision:n});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.dividerControlPoint1,i=t.divider,o=new ge(n,r);return o.translate(i.x-n.x,i.y-n.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r},o=this.length(i),s=o*e;return this.tAtLength(s,i)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e),t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,o={precision:r,subdivisions:i},s,a,l,c,f,d=0,v=i.length,I=1/v,w=0;w<v;w++){var D=n?w:v-1-w,M=i[w],T=M.endpointDistance();if(e<=d+T){s=M,a=D*I,l=(D+1)*I,c=n?e-d:T+d-e,f=n?T+d-e:e-d;break}d+=T}if(!s)return n?1:0;for(var B=this.length(o),G=LI(10,-r);;){var H;if(H=B!==0?c/B:0,H<G)return a;if(H=B!==0?f/B:0,H<G)return l;var ne,g,y=s.divide(.5);I/=2;var x=y[0].endpointDistance(),S=y[1].endpointDistance();c<=x?(s=y[0],l-=I,ne=c,g=x-ne):(s=y[1],a+=I,ne=c-x,g=S-ne),c=ne,f=g}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++){var s=n[o];r.push(s.end.clone())}return r},toPolyline:function(e){return new ft(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};ht.prototype.divide=ht.prototype.divideAtT;function Os(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var o=r[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}var be=function(e){if(!(this instanceof be))return new be(e);if(typeof e=="string")return new be.parse(e);this.segments=[];var t,n;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,l){return a.concat(l)},[]),n=e.length,e[0].isSegment)for(t=0;t<n;t++){var r=e[t];this.appendSegment(r)}else{var i=null;for(t=0;t<n;t++){var o=e[t];if(!(o instanceof ge||o instanceof ht))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(be.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(be.createSegment("M",o.start)),o instanceof ge?this.appendSegment(be.createSegment("L",o.end)):o instanceof ht&&this.appendSegment(be.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof ge)this.appendSegment(be.createSegment("M",e.start)),this.appendSegment(be.createSegment("L",e.end));else if(e instanceof ht)this.appendSegment(be.createSegment("M",e.start)),this.appendSegment(be.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof ft){if(!(e.points&&e.points.length!==0))return;for(n=e.points.length,t=0;t<n;t++){var s=e.points[t];t===0?this.appendSegment(be.createSegment("M",s)):this.appendSegment(be.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};be.parse=function(e){if(!e)return new be;for(var t=new be,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=e.match(n),i=r.length,o=0;o<i;o++){var s=r[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=s.match(a),c=be.createSegment.apply(this,l);t.appendSegment(c)}return t};be.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=be.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return Zi(t,n)};be.prototype={type:Fe.Path,appendSegment:function(e){var t=this.segments,n=t.length,r,i=n!==0?t[n-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(c,f){return c.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var l=e[a];r=this.prepareSegment(l,i,o),t.push(r),i=r}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,i,o),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n,r=0;r<t;r++){var i=e[r];if(i.isVisible){var o=i.bbox();n=n?n.union(o):o}}if(n)return n;var s=e[t-1];return new de(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new be,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointLength(e,i);if(o===0)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<r;l++){var c=n[l],f=o[l];if(c.isVisible){var d=c.closestPointT(e,{precision:i,subdivisions:f}),v=c.pointAtT(d),I=new ge(v,e).squaredLength();I<a&&(s={segmentIndex:l,value:d},a=I)}}return s||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<r;l++){var c=n[l],f=o[l];if(c.isDifferentiable()){var d=c.closestPointT(e,{precision:i,subdivisions:f}),v=c.pointAtT(d),I=new ge(v,e).squaredLength();I<a&&(s=c.tangentAtT(d),a=I)}}return s||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++){var s=n[o];s.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.divideAtLength(l,s)},divideAtLength:function(e,t){var n=this.segments.length;if(n===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a,l=0,c,f,d,v,I;for(s=0;s<n;s++){var w=r?s:n-1-s;a=this.getSegment(w);var D=o[w],M=a.length({precision:i,subdivisions:D});if(a.isDifferentiable()&&(d=a,v=w,e<=l+M)){f=w,c=a.divideAtLength((r?1:-1)*(e-l),{precision:i,subdivisions:D});break}l+=M}if(!d)return null;c||(f=v,I=r?1:0,c=d.divideAtT(I));var T=this.clone();T.replaceSegment(f,c);var B=f,G=f+1,H=f+2;c[0].isDifferentiable()||(T.removeSegment(B),G-=1,H-=1);var ne=T.getSegment(G).start;T.insertSegment(G,be.createSegment("M",ne)),H+=1,c[1].isDifferentiable()||(T.removeSegment(H-1),H-=1);var g=H-B-1;for(s=H;s<T.segments.length;s++){var y=this.getSegment(s-g);if(a=T.getSegment(s),a.type==="Z"&&!y.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var x=be.createSegment("L",y.end);T.replaceSegment(s,x)}}var S=new be(T.segments.slice(0,G)),_=new be(T.segments.slice(G));return[S,_]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=n[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,n=t.length;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<n;o++){var s=t[o],a=s.getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){let t=this.clone().validate().segments,n=t.length,r=[];for(let i=0;i<n;i++){let o=t[i];o.isSubpathStart?r.push(new be(o)):r[r.length-1].appendSegment(o)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(r!==0&&(e>=1?(o=n[e-1],s=o.nextSegment):s=n[0]),Array.isArray(t)){if(t=t.reduce(function(f,d){return f.concat(d)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++){var c=t[l];i=this.prepareSegment(c,o,s),n.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),n.splice(e,0,i)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var s=r[i],a=e.intersect(s);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++){var r=e[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,n=t.length;if(n===0)return 0;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=0,s=0;s<n;s++){var a=t[s],l=i[s];o+=a.length({subdivisions:l})}return o},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(r===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,c=0,f=0;f<i;f++){var d=n[f];l=a[f],c+=d.length({precisison:s,subdivisions:l})}return d=n[i],l=a[i],c+=d.lengthAtT(o,{precisison:s,subdivisions:l}),c},pointAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.pointAtLength(l,s)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,c=0;c<r;c++){var f=i?c:r-1-c,d=n[f],v=s[f],I=d.length({precision:o,subdivisions:v});if(d.isVisible){if(e<=l+I)return d.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:v});a=d}l+=I}if(a)return i?a.end:a.start;var w=n[r-1];return w.end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i,o=n[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(v,I){return v.concat(I)},[]),!t[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var c=t.length,f=0;f<c;f++){var d=t[f];i=this.prepareSegment(d,s,a),n.splice(e+f,0,i),s=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),n.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++){var i=t[r];i.round(e)}return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,o=0;o<i;o++){var s=r[o];s.scale(e,t,n)}return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.segmentIndexAtLength(l,s)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,c=0;c<r;c++){var f=i?c:r-1-c,d=n[f],v=s[f],I=d.length({precision:o,subdivisions:v});if(d.isVisible){if(e<=l+I)return f;a=f}l+=I}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.tangentAtLength(l,s)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,c=0;c<r;c++){var f=i?c:r-1-c,d=n[f],v=s[f],I=d.length({precision:o,subdivisions:v});if(d.isDifferentiable()){if(e<=l+I)return d.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:v});a=d}l+=I}if(a){var w=i?1:0;return a.tangentAtT(w)}return null},tangentAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(n===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var l=t[a];if(l.isVisible){var c=i[a];if(c.length>0){var f=c.map(function(d){return d.start});Array.prototype.push.apply(s,f)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new ft(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++){var i=e[r];n+=i.serialize()+" "}return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++){var o=n[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,be.createSegment("M",0,0)),this}};Object.defineProperty(be.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}});Object.defineProperty(be.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});function Zi(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var ks={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(ks,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(ks,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(ks,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Rn=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Rn))return Zi(Rn,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ge){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new k(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(Zi(Rn,i));return r}else{if(t===1)return this.end=new k(e[0]),this;var o;for(r=[],n=0;n<t;n+=1)o=e[n],r.push(new Rn(o));return r}},BE={clone:function(){return new Rn(this.end)},divideAt:function(e){var t=new ge(this.start,this.end),n=t.divideAt(e);return[new Rn(n[0]),new Rn(n[1])]},divideAtLength:function(e){var t=new ge(this.start,this.end),n=t.divideAtLength(e);return[new Rn(n[0]),new Rn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(BE,"type",{configurable:!0,enumerable:!0,value:"L"});Rn.prototype=Os(ks,ge.prototype,BE);var Fr=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Fr))return Zi(Fr,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(e[0]instanceof ht){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new k(+e[0],+e[1]),this.controlPoint2=new k(+e[2],+e[3]),this.end=new k(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=6)i=e.slice(n,n+6),r.push(Zi(Fr,i));return r}else{if(t===3)return this.controlPoint1=new k(e[0]),this.controlPoint2=new k(e[1]),this.end=new k(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(r=[],n=0;n<t;n+=3)o=e.slice(n,n+3),r.push(Zi(Fr,o));return r}},VE={clone:function(){return new Fr(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new ht(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(e,t);return[new Fr(r[0]),new Fr(r[1])]},divideAtLength:function(e,t){var n=new ht(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(e,t);return[new Fr(r[0]),new Fr(r[1])]},divideAtT:function(e){var t=new ht(this.start,this.controlPoint1,this.controlPoint2,this.end),n=t.divideAtT(e);return[new Fr(n[0]),new Fr(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(VE,"type",{configurable:!0,enumerable:!0,value:"C"});Fr.prototype=Os(ks,ht.prototype,VE);var Rs=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Rs))return Zi(Rs,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ge){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof ht){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new k(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),n===0?r.push(Zi(Rs,i)):r.push(Zi(Rn,i));return r}else{if(t===1)return this.end=new k(e[0]),this;var o;for(r=[],n=0;n<t;n+=1)o=e[n],n===0?r.push(new Rs(o)):r.push(new Rn(o));return r}},FI={bbox:function(){return null},clone:function(){return new Rs(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(FI,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(FI,"type",{configurable:!0,enumerable:!0,value:"M"});Rs.prototype=Os(ks,FI);var cl=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof cl))return Zi(cl,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},jI={clone:function(){return new cl},divideAt:function(e){var t=new ge(this.start,this.end),n=t.divideAt(e);return[n[1].isDifferentiable()?new Rn(n[0]):this.clone(),new Rn(n[1])]},divideAtLength:function(e){var t=new ge(this.start,this.end),n=t.divideAtLength(e);return[n[1].isDifferentiable()?new Rn(n[0]):this.clone(),new Rn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(jI,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(jI,"type",{configurable:!0,enumerable:!0,value:"Z"});cl.prototype=Os(ks,ge.prototype,jI);var Gj=be.segmentTypes={L:Rn,C:Fr,M:Rs,Z:cl,z:cl};be.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Gj).join("")+",.]*$");be.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};var Uj={curveThroughPoints:function(e){return console.warn("deprecated"),new be(ht.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],n=[],r=e.length-1,i;if(r==1)return t[0]=new k((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new k(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var o=[];for(i=1;i<r-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[r-1]=(8*e[r-1].x+e[r].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<r-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[r-1]=(8*e[r-1].y+e[r].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<r;i++)t.push(new k(s[i],a[i])),i<r-1?n.push(new k(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1])):n.push(new k((e[r].x+s[r-1])/2,(e[r].y+a[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new ht(e,t,n,r);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,i=(o<t-1?4:3.5)-r[o],n[o]=(e[o]-n[o-1])/i;for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new ht(e,t,n,r);return function(s){return i.closestPointT(s)}}};var nr=function(e){if(!(this instanceof nr))return new nr(e);if(typeof e=="string")return new nr.parse(e);this.points=Array.isArray(e)?e.map(k):[]};nr.parse=function(e){return new nr(Lh(e))};nr.fromRect=function(e){return new nr([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};nr.prototype=Os(ft.prototype,{type:Fe.Polygon,clone:function(){return new nr(Fh(this.points))},convexHull:function(){return new nr(jh(this.points))},lengthPoints:function(){let{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});var WI={};nn(WI,{ellipseWithEllipse:()=>GE,ellipseWithLine:()=>BI,exists:()=>zE,lineWithLine:()=>Ls,pathWithEllipse:()=>JE,pathWithLine:()=>qE,pathWithPath:()=>KE,pathWithPolygon:()=>Uh,pathWithPolyline:()=>UI,pathWithRect:()=>QE,polygonWithEllipse:()=>Gh,polygonWithLine:()=>GI,polygonWithPolygon:()=>XE,polygonWithPolyline:()=>$E,polygonWithRect:()=>YE,polylineWithEllipse:()=>zI,polylineWithLine:()=>zh,polylineWithPolyline:()=>HE,polylineWithRect:()=>WE,rectWithEllipse:()=>ZE,rectWithLine:()=>UE,rectWithRect:()=>VI});function zE(e,t,n,r){switch(e.type){case Fe.Line:{switch(t.type){case Fe.Line:return Ls(e,t)}break}case Fe.Ellipse:{switch(t.type){case Fe.Line:return BI(e,t);case Fe.Ellipse:return GE(e,t)}break}case Fe.Rect:{switch(t.type){case Fe.Line:return UE(e,t);case Fe.Ellipse:return ZE(e,t);case Fe.Rect:return VI(e,t)}break}case Fe.Polyline:{switch(t.type){case Fe.Line:return zh(e,t);case Fe.Ellipse:return zI(e,t);case Fe.Rect:return WE(e,t);case Fe.Polyline:return HE(e,t)}break}case Fe.Polygon:{switch(t.type){case Fe.Line:return GI(e,t);case Fe.Ellipse:return Gh(e,t);case Fe.Rect:return YE(e,t);case Fe.Polyline:return $E(e,t);case Fe.Polygon:return XE(e,t)}break}case Fe.Path:{switch(t.type){case Fe.Line:return qE(e,t,n);case Fe.Ellipse:return JE(e,t,n);case Fe.Rect:return QE(e,t,n);case Fe.Polyline:return UI(e,t,n);case Fe.Polygon:return Uh(e,t,n);case Fe.Path:return KE(e,t,n,r)}break}}switch(t.type){case Fe.Ellipse:case Fe.Rect:case Fe.Polyline:case Fe.Polygon:case Fe.Path:return zE(t,e,r,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function Ls(e,t){let n=e.start.x,r=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,l=t.end.x,c=t.end.y,f=i-n,d=o-r,v=l-s,I=c-a,w=n-s,D=r-a,M=f*I-v*d,T=(f*D-d*w)/M,B=(v*D-I*w)/M;return T>=0&&T<=1&&B>=0&&B<=1}function BI(e,t){let n=e.a,r=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,l=t.start.y-o,c=t.end.y-o,f=n*n,d=r*r,v=a-s,I=c-l,w=v*v/f+I*I/d,D=2*s*v/f+2*l*I/d,M=s*s/f+l*l/d-1,T=D*D-4*w*M;if(T===0){let B=-D/2/w;return B>=0&&B<=1}else if(T>0){let B=Math.sqrt(T),G=(-D+B)/2/w,H=(-D-B)/2/w;return G>=0&&G<=1||H>=0&&H<=1}return!1}function GE(e,t){return Zj(e,0,t,0)}function UE(e,t){let{start:n,end:r}=t,{x:i,y:o,width:s,height:a}=e;return n.x>i+s&&r.x>i+s||n.x<i&&r.x<i||n.y>o+a&&r.y>o+a||n.y<o&&r.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:Ls(e.topLine(),t)||Ls(e.rightLine(),t)||Ls(e.bottomLine(),t)||Ls(e.leftLine(),t)}function ZE(e,t){return VI(e,de.fromEllipse(t))?Gh(nr.fromRect(e),t):!1}function VI(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function zh(e,t){return eS(e,t,{interior:!1})}function zI(e,t){return tS(e,t,{interior:!1})}function WE(e,t){return nS(e,t,{interior:!1})}function HE(e,t){return Zh(e,t,{interior:!1})}function GI(e,t){return eS(e,t,{interior:!0})}function Gh(e,t){return tS(e,t,{interior:!0})}function YE(e,t){return nS(e,t,{interior:!0})}function $E(e,t){return Zh(e,t,{interior:!0})}function XE(e,t){return ZI(e,t,{interior:!0})}function qE(e,t,n){return e.getSubpaths().some(r=>{let[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?GI(i,t):zh(i,t)})}function JE(e,t,n){return e.getSubpaths().some(r=>{let[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?Gh(i,t):zI(i,t)})}function QE(e,t,n){return Uh(e,nr.fromRect(t),n)}function UI(e,t,n){return rS(e,t,n,{interior:!1})}function Uh(e,t,n){return rS(e,t,n,{interior:!0})}function KE(e,t,n,r){return e.getSubpaths().some(i=>{let[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?Uh(t,o,r):UI(t,o,r)})}function eS(e,t,n={}){let{interior:r=!1}=n,i;if(r){if(e.containsPoint(t.start))return!0;let{start:a,end:l,points:c}=e;i=l.equals(a)?c:[...c,a]}else i=e.points;let{length:o}=i,s=new ge;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],Ls(t,s))return!0;return!1}function tS(e,t,n={}){let{start:r,end:i,points:o}=e;if(t.containsPoint(r))return!0;let s,{interior:a=!1}=n;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(r)?o:[...o,r]}else s=o;let{length:l}=s,c=new ge;for(let f=0;f<l-1;f++)if(c.start=s[f],c.end=s[f+1],BI(t,c))return!0;return!1}function nS(e,t,n){let r=nr.fromRect(t);return ZI(e,r,n)}function rS(e,t,n,r){return e.getSubpaths().some(i=>{let[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?ZI(t,o,r):Zh(t,o,r)})}function Zh(e,t,n={}){let{interior:r=!1}=n,i;if(r){let{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;let o=t.points,{length:s}=o,a=new ge;for(let l=0;l<s-1;l++)if(a.start=o[l],a.end=o[l+1],zh(i,a))return!0;return!1}function ZI(e,t,n){return t.containsPoint(e.start)||Zh(e,t.clone().close(),n)}function Zj(e,t,n,r){let{cos:i,sin:o}=Math,s=o(t),a=i(t),l=o(r),c=i(r),f=s*s,d=a*a,v=s*a,I=l*l,w=c*c,D=l*c,M=e.a*e.a,T=e.b*e.b,B=n.a*n.a,G=n.b*n.b,H=M*f+T*d,ne=B*I+G*w,g=M*d+T*f,y=B*w+G*I,x=2*(T-M)*v,S=2*(G-B)*D,_=-2*H*e.x-x*e.y,j=-2*ne*n.x-S*n.y,V=-x*e.x-2*g*e.y,Y=-S*n.x-2*y*n.y,ue=H*e.x*e.x+g*e.y*e.y+x*e.x*e.y-M*T,pe=ne*n.x*n.x+y*n.y*n.y+S*n.x*n.y-B*G;x=x/2,S=S/2,_=_/2,j=j/2,V=V/2,Y=Y/2;let Z=Bo([[H,x,_],[x,g,V],[_,V,ue]]),Q=Bo([[ne,S,j],[S,y,Y],[j,Y,pe]]),X=.33333333*(Bo([[ne,x,_],[S,g,V],[j,V,ue]])+Bo([[H,S,_],[x,y,V],[_,Y,ue]])+Bo([[H,x,j],[x,g,Y],[_,V,pe]])),J=.33333333*(Bo([[H,S,j],[x,y,Y],[_,Y,pe]])+Bo([[ne,x,j],[S,g,Y],[j,V,pe]])+Bo([[ne,S,_],[S,y,V],[j,Y,ue]])),ke=Vh([[Z,X],[X,J]]),Ne=Vh([[Z,J],[X,Q]]),St=Vh([[X,J],[J,Q]]);return!(Vh([[2*ke,Ne],[Ne,2*St]])>0&&(J>0||X>0))}function Vh(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function Bo(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}var Wj=WI;var rw=Si(Gc(),1);var Qo=Si(qo(),1);var oB=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,i=r.PI,o=r.atan2,s=r.sqrt,a=r.min,l=r.max,c=r.cos,f=r.sin,d=function(y,x,S){if(!(this instanceof d))return d.apply(Object.create(d.prototype),arguments);if(y){if(d.isV(y)&&(y=y.node),x=x||{},d.isString(y)){if(y=y.trim(),y.toLowerCase()==="svg")y=d.createSvgDocument();else if(y[0]==="<"){var _=d.createSvgDocument(y);if(_.childNodes.length>1){var j=[],V,Y;for(V=0,Y=_.childNodes.length;V<Y;V++){var ue=_.childNodes[V];j.push(new d(document.importNode(ue,!0)))}return j}y=document.importNode(_.firstChild,!0)}else y=document.createElementNS(t.svg,y);d.ensureId(y)}return this.node=y,this.setAttributes(x),S&&this.append(S),this}},v=d.prototype;Object.defineProperty(v,"id",{enumerable:!0,get:function(){return this.node.id},set:function(y){this.node.id=y}}),v.getTransformToElement=function(y){var x=this.node;if(d.isSVGGraphicsElement(y)&&d.isSVGGraphicsElement(x)){var S=d.toNode(y).getScreenCTM(),_=x.getScreenCTM();if(S&&_)return S.inverse().multiply(_)}return d.createSVGMatrix()},v.transform=function(y,x){var S=this.node;if(d.isUndefined(y))return d.transformStringToMatrix(this.attr("transform"));if(x&&x.absolute)return this.attr("transform",d.matrixToTransformString(y));var _=d.createSVGTransform(y);return S.transform.baseVal.appendItem(_),this},v.translate=function(y,x,S){S=S||{},x=x||0;var _=this.attr("transform")||"",j=d.parseTransformString(_);if(_=j.value,d.isUndefined(y))return j.translate;_=_.replace(/translate\([^)]*\)/g,"").trim();var V=S.absolute?y:j.translate.tx+y,Y=S.absolute?x:j.translate.ty+x,ue="translate("+V+","+Y+")";return this.attr("transform",(ue+" "+_).trim()),this},v.rotate=function(y,x,S,_){_=_||{};var j=this.attr("transform")||"",V=d.parseTransformString(j);if(j=V.value,d.isUndefined(y))return V.rotate;j=j.replace(/rotate\([^)]*\)/g,"").trim(),y%=360;var Y=_.absolute?y:V.rotate.angle+y,ue=x!==void 0&&S!==void 0?","+x+","+S:"",pe="rotate("+Y+ue+")";return this.attr("transform",(j+" "+pe).trim()),this},v.scale=function(y,x){x=d.isUndefined(x)?y:x;var S=this.attr("transform")||"",_=d.parseTransformString(S);if(S=_.value,d.isUndefined(y))return _.scale;S=S.replace(/scale\([^)]*\)/g,"").trim();var j="scale("+y+","+x+")";return this.attr("transform",(S+" "+j).trim()),this},v.bbox=function(y,x){var S,_=this.node,j=_.ownerSVGElement;if(!j)return new de(0,0,0,0);try{S=_.getBBox()}catch{S={x:_.clientLeft,y:_.clientTop,width:_.clientWidth,height:_.clientHeight}}if(y)return new de(S);var V=this.getTransformToElement(x||j);return d.transformRect(S,V)},v.getBBox=function(y){var x={},S,_=this.node,j=_.ownerSVGElement;if(!j||!d.isSVGGraphicsElement(_))return new de(0,0,0,0);if(y&&(y.target&&(x.target=d.toNode(y.target)),y.recursive&&(x.recursive=y.recursive)),x.recursive){var Y=this.children(),ue=Y.length;if(ue===0)return this.getBBox({target:x.target,recursive:!1});x.target||(x.target=this);for(var pe=0;pe<ue;pe++){var Z=Y[pe],Q;Z.children().length===0?Q=Z.getBBox({target:x.target,recursive:!1}):Q=Z.getBBox({target:x.target,recursive:!0}),S?S=S.union(Q):S=Q}return S}else{try{S=_.getBBox()}catch{S={x:_.clientLeft,y:_.clientTop,width:_.clientWidth,height:_.clientHeight}}if(x.target){var V=this.getTransformToElement(x.target);return d.transformRect(S,V)}else return new de(S)}};function I(y,x){y||(y={});var S=d("textPath"),_=y.d;if(_&&y["xlink:href"]===void 0){var j=d("path").attr("d",_).appendTo(x.defs());S.attr("xlink:href","#"+j.id)}return d.isObject(y)&&S.attr(y),S.node}function w(y,x,S){S||(S={});for(var _=S.includeAnnotationIndices,j=S.eol,V=S.lineHeight,Y=S.baseSize,ue=0,pe={},Z=x.length-1,Q=0;Q<=Z;Q++){var X=x[Q],J=null;if(d.isObject(X)){var ke=X.attrs,Ne=d("tspan",ke),St=Ne.node,Ft=X.t;j&&Q===Z&&(Ft+=j),St.textContent=Ft;var xe=ke.class;xe&&Ne.addClass(xe),_&&Ne.attr("annotations",X.annotations),J=parseFloat(ke["font-size"]),isFinite(J)||(J=Y),J&&J>ue&&(ue=J)}else j&&Q===Z&&(X+=j),St=document.createTextNode(X||" "),Y&&Y>ue&&(ue=Y);y.appendChild(St)}return ue&&(pe.maxFontSize=ue),V?pe.lineHeight=V:ue&&(pe.lineHeight=ue*1.2),pe}var D=/em$/;function M(y,x){var S=parseFloat(y);return D.test(y)?S*x:S}function T(y,x,S,_){if(!Array.isArray(x))return 0;var j=x.length;if(!j)return 0;for(var V=x[0],Y=M(V.maxFontSize,S)||S,ue=0,pe=M(_,S),Z=1;Z<j;Z++){V=x[Z];var Q=M(V.lineHeight,S)||pe;ue+=Q}var X=M(V.maxFontSize,S)||S,J;switch(y){case"middle":J=Y/2-.15*X-ue/2;break;case"bottom":J=-(.25*X)-ue;break;default:case"top":J=.8*Y;break}return J}v.text=function(y,x){if(y&&typeof y!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");y=d.sanitizeText(y),x||(x={});var S=x.displayEmpty,_=x.eol,j=x.textPath,V=x.textVerticalAnchor,Y=V==="middle"||V==="bottom"||V==="top",ue=x.x;ue===void 0&&(ue=this.attr("x")||0);var pe=x.includeAnnotationIndices,Z=x.annotations;Z&&!d.isArray(Z)&&(Z=[Z]);var Q=x.lineHeight,X=Q==="auto",J=X?"1.5em":Q||"1em";this.empty(),this.attr({"xml:space":"preserve",display:y||S?null:"none"});var ke=parseFloat(this.attr("font-size"));ke||(ke=16,(Y||Z)&&this.attr("font-size",ke));var Ne=document,St;j?(typeof j=="string"&&(j={d:j}),St=I(j,this)):St=Ne.createDocumentFragment();for(var Ft=0,xe=y.split(`
`),Te=[],oe,ie=0,he=xe.length-1;ie<=he;ie++){var Ze=J,at="v-line",_e=Ne.createElementNS(t.svg,"tspan"),mt=xe[ie],A;if(mt)if(Z){var N=d.annotateString(mt,Z,{offset:-Ft,includeAnnotationIndices:pe});A=w(_e,N,{includeAnnotationIndices:pe,eol:ie!==he&&_,lineHeight:X?null:J,baseSize:ke});var O=A.lineHeight;O&&X&&ie!==0&&(Ze=O),ie===0&&(oe=A.maxFontSize*.8)}else _&&ie!==he&&(mt+=_),_e.textContent=mt;else{_e.textContent="-",at+=" v-empty-line";var F=_e.style;if(F.fillOpacity=0,F.strokeOpacity=0,Z){A={},N=d.findAnnotationsAtIndex(Z,Ft);let se=ke;for(let Ie=N.length;Ie>0;Ie--){let Le=N[Ie-1].attrs;if(!Le||!("font-size"in Le))continue;let et=parseFloat(Le["font-size"]);if(isFinite(et)){se=et;break}}X&&(ie>0?Ze=se*1.2:oe=se*.8),_e.setAttribute("font-size",se),A.maxFontSize=se}}A&&Te.push(A),ie>0&&_e.setAttribute("dy",Ze),(ie>0||j)&&_e.setAttribute("x",ue),_e.className.baseVal=at,St.appendChild(_e),Ft+=mt.length+1}if(Y)if(Z)Ze=T(V,Te,ke,J);else if(V==="top")Ze="0.8em";else{var U;switch(he>0?(U=parseFloat(J)||1,U*=he,D.test(J)||(U/=ke)):U=0,V){case"middle":Ze=.3-U/2+"em";break;case"bottom":Ze=-U-.3+"em";break}}else V===0?Ze="0em":V?Ze=V:(Ze=0,this.attr("y")===null&&this.attr("y",oe||"0.8em"));return St.firstChild.setAttribute("dy",Ze),this.append(St),this},v.removeAttr=function(y){let x=ne[y],{ns:S,local:_}=d.qualifyAttr(x),j=this.node;return S?j.hasAttributeNS(S,_)&&j.removeAttributeNS(S,_):j.hasAttribute(x)&&j.removeAttribute(x),this},v.attr=function(y,x){if(d.isUndefined(y)){for(var S=this.node.attributes,_={},j=0;j<S.length;j++)_[S[j].name]=S[j].value;return _}if(d.isString(y)&&d.isUndefined(x))return this.node.getAttribute(ne[y]);if(typeof y=="object")for(var V in y)y.hasOwnProperty(V)&&this.setAttribute(V,y[V]);else this.setAttribute(y,x);return this},v.normalizePath=function(){var y=this.tagName();return y==="PATH"&&this.attr("d",d.normalizePathData(this.attr("d"))),this},v.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},v.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},v.setAttributes=function(y){for(var x in y)y.hasOwnProperty(x)&&this.setAttribute(x,y[x]);return this},v.append=function(y){d.isArray(y)||(y=[y]);for(var x=0,S=y.length;x<S;x++)this.node.appendChild(d.toNode(y[x]));return this},v.prepend=function(y){var x=this.node.firstChild;return x?d(x).before(y):this.append(y)},v.before=function(y){var x=this.node,S=x.parentNode;if(S){d.isArray(y)||(y=[y]);for(var _=0,j=y.length;_<j;_++)S.insertBefore(d.toNode(y[_]),x)}return this},v.appendTo=function(y){return d.toNode(y).appendChild(this.node),this},v.svg=function(){return this.node instanceof window.SVGSVGElement?this:d(this.node.ownerSVGElement)},v.tagName=function(){return this.node.tagName.toUpperCase()},v.defs=function(){var y=this.svg()||this,x=y.node.getElementsByTagName("defs")[0];return x?d(x):d("defs").appendTo(y)},v.clone=function(){var y=d(this.node.cloneNode(!0));return y.node.id=d.uniqueId(),y},v.findOne=function(y){var x=this.node.querySelector(y);return x?d(x):void 0},v.find=function(y){var x=[],S=this.node.querySelectorAll(y);if(S)for(var _=0;_<S.length;_++)x.push(d(S[_]));return x},v.children=function(){for(var y=this.node.childNodes,x=[],S=0;S<y.length;S++){var _=y[S];_.nodeType===1&&x.push(d(y[S]))}return x},v.parent=function(){return d(this.node.parentNode)||null},v.index=function(){for(var y=0,x=this.node.previousSibling;x;)x.nodeType===1&&y++,x=x.previousSibling;return y},v.findParentByClass=function(y,x){for(var S=this.node.ownerSVGElement,_=this.node.parentNode;_&&_!==x&&_!==S;){var j=d(_);if(j.hasClass(y))return j;_=_.parentNode}return null},v.contains=function(y){var x=this.node,S=d.toNode(y),_=S&&S.parentNode;return x===_||!!(_&&_.nodeType===1&&x.compareDocumentPosition(_)&16)},v.toLocalPoint=function(y,x){var S=this.svg().node,_=S.createSVGPoint();_.x=y,_.y=x;try{var j=_.matrixTransform(S.getScreenCTM().inverse()),V=this.getTransformToElement(S).inverse()}catch{return _}return j.matrixTransform(V)},v.translateCenterToPoint=function(y){var x=this.getBBox({target:this.svg()}),S=x.center();return this.translate(y.x-S.x,y.y-S.y),this},v.translateAndAutoOrient=function(y,x,S){y=new k(y),x=new k(x),S||(S=this.svg());var _=this.scale();this.attr("transform","");var j=this.getBBox({target:S}).scale(_.sx,_.sy),V=d.createSVGTransform();V.setTranslate(-j.x-j.width/2,-j.y-j.height/2);var Y=d.createSVGTransform(),ue=y.angleBetween(x,y.clone().offset(1,0));ue&&Y.setRotate(ue,0,0);var pe=d.createSVGTransform(),Z=y.clone().move(x,j.width/2);pe.setTranslate(2*y.x-Z.x,2*y.y-Z.y);var Q=this.getTransformToElement(S),X=d.createSVGTransform();return X.setMatrix(pe.matrix.multiply(Y.matrix.multiply(V.matrix.multiply(Q.scale(_.sx,_.sy))))),this.attr("transform",d.matrixToTransformString(X.matrix)),this},v.animateAlongPath=function(y,x){x=d.toNode(x);var S=d.ensureId(x),_=d("animateMotion",y),j=d("mpath",{"xlink:href":"#"+S});_.append(j),this.append(_);try{_.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var V=_.node;V.animators=[];var Y=V.getAttribute("id");Y&&(id2anim[Y]=V);for(var ue=getTargets(V),pe=0,Z=ue.length;pe<Z;pe++){var Q=ue[pe],X=new Animator(V,Q,pe);animators.push(X),V.animators[pe]=X,X.register()}}}return this};let B=/[^\x20\t\r\n\f]+/g;function G(y){return d.isString(y)?y.trim().match(B)||[]:[]}v.hasClass=function(y){return d.isString(y)?this.node.classList.contains(y.trim()):!1},v.addClass=function(y){return this.node.classList.add(...G(y)),this},v.removeClass=function(y){return this.node.classList.remove(...G(y)),this},v.toggleClass=function(y,x){let S=G(y);for(let _=0;_<S.length;_++)this.node.classList.toggle(S[_],x);return this},v.sample=function(y){y=y||1;for(var x=this.node,S=x.getTotalLength(),_=[],j=0,V;j<S;)V=x.getPointAtLength(j),_.push({x:V.x,y:V.y,distance:j}),j+=y;return _},v.convertToPath=function(){var y=d("path");y.attr(this.attr());var x=this.convertToPathData();return x&&y.attr("d",x),y},v.convertToPathData=function(){var y=this.tagName();switch(y){case"PATH":return this.attr("d");case"LINE":return d.convertLineToPathData(this.node);case"POLYGON":return d.convertPolygonToPathData(this.node);case"POLYLINE":return d.convertPolylineToPathData(this.node);case"ELLIPSE":return d.convertEllipseToPathData(this.node);case"CIRCLE":return d.convertCircleToPathData(this.node);case"RECT":return d.convertRectToPathData(this.node)}throw new Error(y+" cannot be converted to PATH.")},d.prototype.toGeometryShape=function(){var y,x,S,_,j,V,Y,ue,pe,Z,Q,X,J,ke,Ne;switch(this.tagName()){case"RECT":return y=parseFloat(this.attr("x"))||0,x=parseFloat(this.attr("y"))||0,S=parseFloat(this.attr("width"))||0,_=parseFloat(this.attr("height"))||0,new de(y,x,S,_);case"CIRCLE":return j=parseFloat(this.attr("cx"))||0,V=parseFloat(this.attr("cy"))||0,Y=parseFloat(this.attr("r"))||0,new An({x:j,y:V},Y,Y);case"ELLIPSE":return j=parseFloat(this.attr("cx"))||0,V=parseFloat(this.attr("cy"))||0,ue=parseFloat(this.attr("rx"))||0,pe=parseFloat(this.attr("ry"))||0,new An({x:j,y:V},ue,pe);case"POLYLINE":return Z=d.getPointsFromSvgNode(this),new ft(Z);case"POLYGON":return Z=d.getPointsFromSvgNode(this),Z.length>1&&Z.push(Z[0]),new ft(Z);case"PATH":return Q=this.attr("d"),be.isDataSupported(Q)||(Q=d.normalizePathData(Q)),new be(Q);case"LINE":return X=parseFloat(this.attr("x1"))||0,ke=parseFloat(this.attr("y1"))||0,J=parseFloat(this.attr("x2"))||0,Ne=parseFloat(this.attr("y2"))||0,new ge({x:X,y:ke},{x:J,y:Ne})}return this.getBBox()},v.findIntersection=function(y,x){var S=this.svg().node;x=x||S;var _=this.getBBox({target:x}),j=_.center();if(_.intersectionWithLineFromCenterToPoint(y)){var V,Y=this.tagName();if(Y==="RECT"){var ue=new de(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),pe=this.getTransformToElement(x),Z=d.decomposeMatrix(pe),Q=S.createSVGTransform();Q.setRotate(-Z.rotation,j.x,j.y);var X=d.transformRect(ue,Q.matrix.multiply(pe));V=new de(X).intersectionWithLineFromCenterToPoint(y,Z.rotation)}else if(Y==="PATH"||Y==="POLYGON"||Y==="POLYLINE"||Y==="CIRCLE"||Y==="ELLIPSE"){var J=Y==="PATH"?this:this.convertToPath(),ke=J.sample(),Ne=1/0,St=[],Ft,xe,Te,oe,ie,he;for(Ft=0;Ft<ke.length;Ft++)xe=ke[Ft],Te=d.createSVGPoint(xe.x,xe.y),Te=Te.matrixTransform(this.getTransformToElement(x)),xe=new k(Te),oe=xe.distance(j),ie=xe.distance(y)*1.1,he=oe+ie,he<Ne?(Ne=he,St=[{sample:xe,refDistance:ie}]):he<Ne+1&&St.push({sample:xe,refDistance:ie});St.sort(function(Ze,at){return Ze.refDistance-at.refDistance}),St[0]&&(V=St[0].sample)}return V}},v.setAttribute=function(y,x){let S=this.node;if(x===null)return this.removeAttr(y),this;let _=ne[y],{ns:j}=d.qualifyAttr(_);return j?S.setAttributeNS(j,_,x):_==="id"?S.id=x:S.setAttribute(_,x),this},d.createSvgDocument=function(y){if(y){let S=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${n}">${y}</svg>`,{documentElement:_}=d.parseXML(S,{async:!1});return _}let x=document.createElementNS(t.svg,"svg");return x.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),x.setAttribute("version",n),x},d.createSVGStyle=function(y){let{node:x}=d("style",{type:"text/css"},[d.createCDATASection(y)]);return x},d.createCDATASection=function(y=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(y)},d.idCounter=0,d.uniqueId=function(){return"v-"+ ++d.idCounter},d.toNode=function(y){return d.isV(y)?y.node:y.nodeName&&y||y[0]},d.ensureId=function(y){return y=d.toNode(y),y.id||(y.id=d.uniqueId())},d.sanitizeText=function(y){return(y||"").replace(/ /g,"\xA0")},d.isUndefined=function(y){return typeof y>"u"},d.isString=function(y){return typeof y=="string"},d.isObject=function(y){return y&&typeof y=="object"},d.isArray=Array.isArray,d.parseXML=function(y,x){x=x||{};var S;try{var _=new DOMParser;d.isUndefined(x.async)||(_.async=x.async),S=_.parseFromString(y,"text/xml")}catch{S=void 0}if(!S||S.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+y);return S};let H=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(y=>H[y]=y);let ne=new Proxy(H,{get(y,x){return d.supportCamelCaseAttributes?x in y?y[x]:y[x]=x.replace(/[A-Z]/g,"-$&").toLowerCase():x}});Object.defineProperty(d,"attributeNames",{value:ne,writable:!1}),Object.defineProperty(d,"supportCamelCaseAttributes",{value:!1,writable:!0}),d.qualifyAttr=function(y){if(y.indexOf(":")!==-1){var x=y.split(":");return{ns:t[x[0]],local:x[1]}}return{ns:null,local:y}},d.transformSeparatorRegex=/[ ,]+/,d.transformRegex=/\b\w+\([^()]+\)/g,d.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,d.transformTranslateRegex=/\btranslate\(([^()]+)\)/,d.transformRotateRegex=/\brotate\(([^()]+)\)/,d.transformScaleRegex=/\bscale\(([^()]+)\)/,d.transformStringToMatrix=function(y){let x=d.createSVGMatrix(),S=y&&y.match(d.transformRegex);if(!S)return x;let _=S.length;for(let j=0;j<_;j++){let Y=S[j].match(d.transformFunctionRegex);if(Y){let ue,pe,Z,Q,X,J=d.createSVGMatrix(),ke=Y[1].toLowerCase(),Ne=Y[2].split(d.transformSeparatorRegex);switch(ke){case"scale":ue=parseFloat(Ne[0]),pe=Ne[1]===void 0?ue:parseFloat(Ne[1]),J=J.scaleNonUniform(ue,pe);break;case"translate":Z=parseFloat(Ne[0]),Q=parseFloat(Ne[1]),J=J.translate(Z,Q);break;case"rotate":X=parseFloat(Ne[0]),Z=parseFloat(Ne[1])||0,Q=parseFloat(Ne[2])||0,Z!==0||Q!==0?J=J.translate(Z,Q).rotate(X).translate(-Z,-Q):J=J.rotate(X);break;case"skewx":X=parseFloat(Ne[0]),J=J.skewX(X);break;case"skewy":X=parseFloat(Ne[0]),J=J.skewY(X);break;case"matrix":J.a=parseFloat(Ne[0]),J.b=parseFloat(Ne[1]),J.c=parseFloat(Ne[2]),J.d=parseFloat(Ne[3]),J.e=parseFloat(Ne[4]),J.f=parseFloat(Ne[5]);break;default:continue}x=x.multiply(J)}}return x},d.matrixToTransformString=function(y){return y||(y=!0),"matrix("+(y.a!==void 0?y.a:1)+","+(y.b!==void 0?y.b:0)+","+(y.c!==void 0?y.c:0)+","+(y.d!==void 0?y.d:1)+","+(y.e!==void 0?y.e:0)+","+(y.f!==void 0?y.f:0)+")"},d.parseTransformString=function(y){var x,S,_;if(y){var j=d.transformSeparatorRegex;if(y.trim().indexOf("matrix")>=0){var V=d.transformStringToMatrix(y),Y=d.decomposeMatrix(V);x=[Y.translateX,Y.translateY],_=[Y.scaleX,Y.scaleY],S=[Y.rotation];var ue=[];(x[0]!==0||x[1]!==0)&&ue.push("translate("+x+")"),(_[0]!==1||_[1]!==1)&&ue.push("scale("+_+")"),S[0]!==0&&ue.push("rotate("+S+")"),y=ue.join(" ")}else{let Z=y.match(d.transformTranslateRegex);Z&&(x=Z[1].split(j));let Q=y.match(d.transformRotateRegex);Q&&(S=Q[1].split(j));let X=y.match(d.transformScaleRegex);X&&(_=X[1].split(j))}}var pe=_&&_[0]?parseFloat(_[0]):1;return{value:y,translate:{tx:x&&x[0]?parseInt(x[0],10):0,ty:x&&x[1]?parseInt(x[1],10):0},rotate:{angle:S&&S[0]?parseInt(S[0],10):0,cx:S&&S[1]?parseInt(S[1],10):void 0,cy:S&&S[2]?parseInt(S[2],10):void 0},scale:{sx:pe,sy:_&&_[1]?parseFloat(_[1]):pe}}},d.deltaTransformPoint=function(y,x){var S=x.x*y.a+x.y*y.c+0,_=x.x*y.b+x.y*y.d+0;return{x:S,y:_}},d.decomposeMatrix=function(y){var x=d.deltaTransformPoint(y,{x:0,y:1}),S=d.deltaTransformPoint(y,{x:1,y:0}),_=180/i*o(x.y,x.x)-90,j=180/i*o(S.y,S.x);return{translateX:y.e,translateY:y.f,scaleX:s(y.a*y.a+y.b*y.b),scaleY:s(y.c*y.c+y.d*y.d),skewX:_,skewY:j,rotation:_}},d.matrixToScale=function(y){var x,S,_,j;return y?(x=d.isUndefined(y.a)?1:y.a,j=d.isUndefined(y.d)?1:y.d,S=y.b,_=y.c):x=j=1,{sx:S?s(x*x+S*S):x,sy:_?s(_*_+j*j):j}},d.matrixToRotate=function(y){var x={x:0,y:1};return y&&(x=d.deltaTransformPoint(y,x)),{angle:En(Ps(o(x.y,x.x))-90)}},d.matrixToTranslate=function(y){return{tx:y&&y.e||0,ty:y&&y.f||0}},d.isV=function(y){return y instanceof d},d.isVElement=d.isV,d.isSVGGraphicsElement=function(y){return y?(y=d.toNode(y),y instanceof SVGElement&&typeof y.getScreenCTM=="function"):!1};var g=d("svg").node;return d.createSVGMatrix=function(y){var x=g.createSVGMatrix();for(var S in y)x[S]=y[S];return x},d.createSVGTransform=function(y){return d.isUndefined(y)?g.createSVGTransform():(y instanceof SVGMatrix||(y=d.createSVGMatrix(y)),g.createSVGTransformFromMatrix(y))},d.createSVGPoint=function(y,x){var S=g.createSVGPoint();return S.x=y,S.y=x,S},d.transformRect=function(y,x){var S=g.createSVGPoint();S.x=y.x,S.y=y.y;var _=S.matrixTransform(x);S.x=y.x+y.width,S.y=y.y;var j=S.matrixTransform(x);S.x=y.x+y.width,S.y=y.y+y.height;var V=S.matrixTransform(x);S.x=y.x,S.y=y.y+y.height;var Y=S.matrixTransform(x),ue=a(_.x,j.x,V.x,Y.x),pe=l(_.x,j.x,V.x,Y.x),Z=a(_.y,j.y,V.y,Y.y),Q=l(_.y,j.y,V.y,Y.y);return new de(ue,Z,pe-ue,Q-Z)},d.transformPoint=function(y,x){return new k(d.createSVGPoint(y.x,y.y).matrixTransform(x))},d.transformLine=function(y,x){return new ge(d.transformPoint(y.start,x),d.transformPoint(y.end,x))},d.transformPolyline=function(y,x){var S=y instanceof ft?y.points:y;d.isArray(S)||(S=[]);for(var _=[],j=0,V=S.length;j<V;j++)_[j]=d.transformPoint(S[j],x);return new ft(_)},d.styleToObject=function(y){for(var x={},S=y.split(";"),_=0;_<S.length;_++){var j=S[_],V=j.split("=");x[V[0].trim()]=V[1].trim()}return x},d.createSlicePathData=function(y,x,S,_){var j=2*i-1e-6,V=y,Y=x,ue=S,pe=_,Z=(pe<ue&&(Z=ue,ue=pe,pe=Z),pe-ue),Q=Z<i?"0":"1",X=c(ue),J=f(ue),ke=c(pe),Ne=f(pe);return Z>=j?V?"M0,"+Y+"A"+Y+","+Y+" 0 1,1 0,"+-Y+"A"+Y+","+Y+" 0 1,1 0,"+Y+"M0,"+V+"A"+V+","+V+" 0 1,0 0,"+-V+"A"+V+","+V+" 0 1,0 0,"+V+"Z":"M0,"+Y+"A"+Y+","+Y+" 0 1,1 0,"+-Y+"A"+Y+","+Y+" 0 1,1 0,"+Y+"Z":V?"M"+Y*X+","+Y*J+"A"+Y+","+Y+" 0 "+Q+",1 "+Y*ke+","+Y*Ne+"L"+V*ke+","+V*Ne+"A"+V+","+V+" 0 "+Q+",0 "+V*X+","+V*J+"Z":"M"+Y*X+","+Y*J+"A"+Y+","+Y+" 0 "+Q+",1 "+Y*ke+","+Y*Ne+"L0,0Z"},d.mergeAttrs=function(y,x){for(var S in x)S==="class"?y[S]=y[S]?y[S]+" "+x[S]:x[S]:S==="style"?d.isObject(y[S])&&d.isObject(x[S])?y[S]=d.mergeAttrs(y[S],x[S]):d.isObject(y[S])?y[S]=d.mergeAttrs(y[S],d.styleToObject(x[S])):d.isObject(x[S])?y[S]=d.mergeAttrs(d.styleToObject(y[S]),x[S]):y[S]=d.mergeAttrs(d.styleToObject(y[S]),d.styleToObject(x[S])):y[S]=x[S];return y},d.annotateString=function(y,x,S){x=x||[],S=S||{};for(var _=S.offset||0,j=[],V,Y=[],ue,pe,Z=0;Z<y.length;Z++){ue=Y[Z]=y[Z];for(var Q=0;Q<x.length;Q++){var X=x[Q],J=X.start+_,ke=X.end+_;Z>=J&&Z<ke&&(d.isObject(ue)?ue.attrs=d.mergeAttrs(d.mergeAttrs({},ue.attrs),X.attrs):ue=Y[Z]={t:y[Z],attrs:X.attrs},S.includeAnnotationIndices&&(ue.annotations||(ue.annotations=[])).push(Q))}pe=Y[Z-1],pe?d.isObject(ue)&&d.isObject(pe)?JSON.stringify(ue.attrs)===JSON.stringify(pe.attrs)?V.t+=ue.t:(j.push(V),V=ue):d.isObject(ue)||d.isObject(pe)?(j.push(V),V=ue):V=(V||"")+ue:V=ue}return V&&j.push(V),j},d.findAnnotationsAtIndex=function(y,x){var S=[];return y&&y.forEach(function(_){_.start<x&&x<=_.end&&S.push(_)}),S},d.findAnnotationsBetweenIndexes=function(y,x,S){var _=[];return y&&y.forEach(function(j){(x>=j.start&&x<j.end||S>j.start&&S<=j.end||j.start>=x&&j.end<S)&&_.push(j)}),_},d.shiftAnnotations=function(y,x,S){return y&&y.forEach(function(_){_.start<x&&_.end>=x?_.end+=S:_.start>=x&&(_.start+=S,_.end+=S)}),y},d.convertLineToPathData=function(y){y=d(y);var x=["M",y.attr("x1"),y.attr("y1"),"L",y.attr("x2"),y.attr("y2")].join(" ");return x},d.convertPolygonToPathData=function(y){var x=d.getPointsFromSvgNode(y);return x.length===0?null:d.svgPointsToPath(x)+" Z"},d.convertPolylineToPathData=function(y){var x=d.getPointsFromSvgNode(y);return x.length===0?null:d.svgPointsToPath(x)},d.svgPointsToPath=function(y){for(var x=0,S=y.length;x<S;x++)y[x]=y[x].x+" "+y[x].y;return"M "+y.join(" L")},d.getPointsFromSvgNode=function(y){y=d.toNode(y);var x=[],S=y.points;if(S)for(var _=0,j=S.numberOfItems;_<j;_++)x.push(S.getItem(_));return x},d.KAPPA=.551784,d.convertCircleToPathData=function(y){y=d(y);var x=parseFloat(y.attr("cx"))||0,S=parseFloat(y.attr("cy"))||0,_=parseFloat(y.attr("r")),j=_*d.KAPPA,V=["M",x,S-_,"C",x+j,S-_,x+_,S-j,x+_,S,"C",x+_,S+j,x+j,S+_,x,S+_,"C",x-j,S+_,x-_,S+j,x-_,S,"C",x-_,S-j,x-j,S-_,x,S-_,"Z"].join(" ");return V},d.convertEllipseToPathData=function(y){y=d(y);var x=parseFloat(y.attr("cx"))||0,S=parseFloat(y.attr("cy"))||0,_=parseFloat(y.attr("rx")),j=parseFloat(y.attr("ry"))||_,V=_*d.KAPPA,Y=j*d.KAPPA,ue=["M",x,S-j,"C",x+V,S-j,x+_,S-Y,x+_,S,"C",x+_,S+Y,x+V,S+j,x,S+j,"C",x-V,S+j,x-_,S+Y,x-_,S,"C",x-_,S-Y,x-V,S-j,x,S-j,"Z"].join(" ");return ue},d.convertRectToPathData=function(y){return y=d(y),d.rectToPath({x:parseFloat(y.attr("x"))||0,y:parseFloat(y.attr("y"))||0,width:parseFloat(y.attr("width"))||0,height:parseFloat(y.attr("height"))||0,rx:parseFloat(y.attr("rx"))||0,ry:parseFloat(y.attr("ry"))||0})},d.rectToPath=function(y){var x,S=y.x,_=y.y,j=y.width,V=y.height,Y=a(y.rx||y["top-rx"]||0,j/2),ue=a(y.rx||y["bottom-rx"]||0,j/2),pe=a(y.ry||y["top-ry"]||0,V/2),Z=a(y.ry||y["bottom-ry"]||0,V/2);return Y||ue||pe||Z?x=["M",S,_+pe,"v",V-pe-Z,"a",ue,Z,0,0,0,ue,Z,"h",j-2*ue,"a",ue,Z,0,0,0,ue,-Z,"v",-(V-Z-pe),"a",Y,pe,0,0,0,-Y,-pe,"h",-(j-2*Y),"a",Y,pe,0,0,0,-Y,pe,"Z"]:x=["M",S,_,"H",S+j,"V",_+V,"H",S,"V",_,"Z"],x.join(" ")},d.normalizePathData=function(){var y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,x=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),S=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),_=Math,j=_.PI,V=_.sin,Y=_.cos,ue=_.tan,pe=_.asin,Z=_.sqrt,Q=_.abs;function X(xe,Te,oe,ie,he,Ze){var at=.3333333333333333,_e=2/3;return[at*xe+_e*oe,at*Te+_e*ie,at*he+_e*oe,at*Ze+_e*ie,he,Ze]}function J(xe,Te,oe){var ie=xe*Y(oe)-Te*V(oe),he=xe*V(oe)+Te*Y(oe);return{x:ie,y:he}}function ke(xe,Te,oe,ie,he,Ze,at,_e,mt,A){var N=j*120/180,O=j/180*(+he||0),F=[],U;if(A)jt=A[0],$t=A[1],me=A[2],xt=A[3];else{U=J(xe,Te,-O),xe=U.x,Te=U.y,U=J(_e,mt,-O),_e=U.x,mt=U.y;var se=(xe-_e)/2,Ie=(Te-mt)/2,Le=se*se/(oe*oe)+Ie*Ie/(ie*ie);Le>1&&(Le=Z(Le),oe=Le*oe,ie=Le*ie);var et=oe*oe,en=ie*ie,tn=(Ze==at?-1:1)*Z(Q((et*en-et*Ie*Ie-en*se*se)/(et*Ie*Ie+en*se*se))),me=tn*oe*Ie/ie+(xe+_e)/2,xt=tn*-ie*se/oe+(Te+mt)/2,jt=pe(((Te-xt)/ie).toFixed(9)),$t=pe(((mt-xt)/ie).toFixed(9));jt=xe<me?j-jt:jt,$t=_e<me?j-$t:$t,jt<0&&(jt=j*2+jt),$t<0&&($t=j*2+$t),at&&jt>$t&&(jt=jt-j*2),!at&&$t>jt&&($t=$t-j*2)}var Xt=$t-jt;if(Q(Xt)>N){var pn=$t,Kn=_e,ii=mt;$t=jt+N*(at&&$t>jt?1:-1),_e=me+oe*Y($t),mt=xt+ie*V($t),F=ke(_e,mt,oe,ie,he,0,at,Kn,ii,[$t,pn,me,xt])}Xt=$t-jt;var fr=Y(jt),oi=V(jt),Ai=Y($t),iu=V($t),as=ue(Xt/4),ou=4/3*(oe*as),su=4/3*(ie*as),wd=[xe,Te],Sr=[xe+ou*oi,Te-su*fr],Io=[_e+ou*iu,mt-su*Ai],au=[_e,mt];if(Sr[0]=2*wd[0]-Sr[0],Sr[1]=2*wd[1]-Sr[1],A)return[Sr,Io,au].concat(F);F=[Sr,Io,au].concat(F).join().split(",");for(var lu=[],hr=F.length,on=0;on<hr;on++)lu[on]=on%2?J(F[on-1],F[on],O).y:J(F[on],F[on+1],O).x;return lu}function Ne(xe){if(!xe)return null;var Te={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},oe=[];return String(xe).replace(x,function(ie,he,Ze){var at=[],_e=he.toLowerCase();for(Ze.replace(S,function(mt,A){A&&at.push(+A)}),_e==="m"&&at.length>2&&(oe.push([he].concat(at.splice(0,2))),_e="l",he=he==="m"?"l":"L");at.length>=Te[_e]&&(oe.push([he].concat(at.splice(0,Te[_e]))),!!Te[_e]););}),oe}function St(xe){if((!Array.isArray(xe)||!Array.isArray(xe&&xe[0]))&&(xe=Ne(xe)),!xe||!xe.length)return[["M",0,0]];for(var Te=[],oe=0,ie=0,he=0,Ze=0,at=0,_e,mt=xe.length,A=at;A<mt;A++){var N=[];Te.push(N);var O=xe[A];if(_e=O[0],_e!=_e.toUpperCase()){N[0]=_e.toUpperCase();var F,U;switch(N[0]){case"A":N[1]=O[1],N[2]=O[2],N[3]=O[3],N[4]=O[4],N[5]=O[5],N[6]=+O[6]+oe,N[7]=+O[7]+ie;break;case"V":N[1]=+O[1]+ie;break;case"H":N[1]=+O[1]+oe;break;case"M":for(he=+O[1]+oe,Ze=+O[2]+ie,F=O.length,U=1;U<F;U++)N[U]=+O[U]+(U%2?oe:ie);break;default:for(F=O.length,U=1;U<F;U++)N[U]=+O[U]+(U%2?oe:ie);break}}else for(var se=O.length,Ie=0;Ie<se;Ie++)N[Ie]=O[Ie];switch(N[0]){case"Z":oe=+he,ie=+Ze;break;case"H":oe=N[1];break;case"V":ie=N[1];break;case"M":he=N[N.length-2],Ze=N[N.length-1],oe=N[N.length-2],ie=N[N.length-1];break;default:oe=N[N.length-2],ie=N[N.length-1];break}}return Te}function Ft(xe){var Te=St(xe),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function ie(F,U,se){var Ie,Le;if(!F)return["C",U.x,U.y,U.x,U.y,U.x,U.y];switch(F[0]in{T:1,Q:1}||(U.qx=null,U.qy=null),F[0]){case"M":U.X=F[1],U.Y=F[2];break;case"A":parseFloat(F[1])===0||parseFloat(F[2])===0?F=["L",F[6],F[7]]:F=["C"].concat(ke.apply(0,[U.x,U.y].concat(F.slice(1))));break;case"S":se==="C"||se==="S"?(Ie=U.x*2-U.bx,Le=U.y*2-U.by):(Ie=U.x,Le=U.y),F=["C",Ie,Le].concat(F.slice(1));break;case"T":se==="Q"||se==="T"?(U.qx=U.x*2-U.qx,U.qy=U.y*2-U.qy):(U.qx=U.x,U.qy=U.y),F=["C"].concat(X(U.x,U.y,U.qx,U.qy,F[1],F[2]));break;case"Q":U.qx=F[1],U.qy=F[2],F=["C"].concat(X(U.x,U.y,F[1],F[2],F[3],F[4]));break;case"H":F=["L"].concat(F[1],U.y);break;case"V":F=["L"].concat(U.x,F[1]);break;case"L":break;case"Z":break}return F}function he(F,U){if(F[U].length>7){F[U].shift();for(var se=F[U];se.length;)Ze[U]="A",F.splice(U++,0,["C"].concat(se.splice(0,6)));F.splice(U,1),mt=Te.length}}for(var Ze=[],at="",_e="",mt=Te.length,A=0;A<mt;A++){Te[A]&&(at=Te[A][0]),at!=="C"&&(Ze[A]=at,A>0&&(_e=Ze[A-1])),Te[A]=ie(Te[A],oe,_e),Ze[A]!=="A"&&at==="C"&&(Ze[A]="C"),he(Te,A);var N=Te[A],O=N.length;oe.x=N[O-2],oe.y=N[O-1],oe.bx=parseFloat(N[O-4])||oe.x,oe.by=parseFloat(N[O-3])||oe.y}return(!Te[0][0]||Te[0][0]!=="M")&&Te.unshift(["M",0,0]),Te}return function(xe){return Ft(xe).join(",").split(",").join(" ")}}(),d.namespace=t,d.g=kn,d}(),ee=oB;var jn={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300};var Zc="[object Arguments]",SC="[object Array]",tg="[object Boolean]",OC="[object Date]",XN="[object Error]",sB="[object Function]",Hc="[object Map]",ng="[object Number]",aB="[object Null]",jl="[object Object]",RC="[object RegExp]",Yc="[object Set]",rg="[object String]",ig="[object Symbol]",lB="[object Undefined]",uB="[object WeakMap]",kC="[object ArrayBuffer]",LC="[object DataView]",qN="[object Float32Array]",JN="[object Float64Array]",QN="[object Int8Array]",KN="[object Int16Array]",eT="[object Int32Array]",tT="[object Uint8Array]",nT="[object Uint8ClampedArray]",rT="[object Uint16Array]",iT="[object Uint32Array]",cB={[Zc]:!0,[SC]:!0,[kC]:!0,[LC]:!0,[tg]:!0,[OC]:!0,[qN]:!0,[JN]:!0,[QN]:!0,[KN]:!0,[eT]:!0,[Hc]:!0,[ng]:!0,[jl]:!0,[RC]:!0,[Yc]:!0,[rg]:!0,[ig]:!0,[tT]:!0,[nT]:!0,[rT]:!0,[iT]:!0,[XN]:!1,[sB]:!1,[uB]:!1},FC="\\ud800-\\udfff",dB="\\u0300-\\u036f",fB="\\ufe20-\\ufe2f",hB="\\u20d0-\\u20ff",pB="\\u1ab0-\\u1aff",gB="\\u1dc0-\\u1dff",mB=dB+fB+hB+pB+gB,oT="\\u2700-\\u27bf",sT="a-z\\xdf-\\xf6\\xf8-\\xff",vB="\\xac\\xb1\\xd7\\xf7",yB="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",IB="\\u2000-\\u206f",CB=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aT="A-Z\\xc0-\\xd6\\xd8-\\xde",wB="\\ufe0e\\ufe0f",lT=vB+yB+IB+CB,uT="['\u2019]",UN=`[${lT}]`,jC=`[${mB}]`,cT="\\d",AB=`[${oT}]`,dT=`[${sT}]`,fT=`[^${FC}${lT+cT+oT+sT+aT}]`,NC="\\ud83c[\\udffb-\\udfff]",bB=`(?:${jC}|${NC})`,hT=`[^${FC}]`,BC="(?:\\ud83c[\\udde6-\\uddff]){2}",VC="[\\ud800-\\udbff][\\udc00-\\udfff]",Fl=`[${aT}]`,xB="\\u200d",ZN=`(?:${dT}|${fT})`,DB=`(?:${Fl}|${fT})`,WN=`(?:${uT}(?:d|ll|m|re|s|t|ve))?`,HN=`(?:${uT}(?:D|LL|M|RE|S|T|VE))?`,pT=`${bB}?`,gT=`[${wB}]?`,MB=`(?:${xB}(?:${[hT,BC,VC].join("|")})${gT+pT})*`,EB="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",SB="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mT=gT+pT+MB,NB=`(?:${[AB,BC,VC].join("|")})${mT}`,TB=RegExp([`${Fl}?${dT}+${WN}(?=${[UN,Fl,"$"].join("|")})`,`${DB}+${HN}(?=${[UN,Fl+ZN,"$"].join("|")})`,`${Fl}?${ZN}+${WN}`,`${Fl}+${HN}`,SB,EB,`${cT}+`,NB].join("|"),"g"),zC=200,TC="__hash_undefined__",_B=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,PB=`[${FC}]`,OB=`${hT}${jC}?`,RB=`(?:${[OB,jC,BC,VC,PB].join("|")})`,vT=RegExp(`${NC}(?=${NC})|${RB+mT}`,"g"),kB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LB=/^\w*$/,FB=46,jB=/\\(\\)?/g,BB=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),VB=/^(?:0|[1-9]\d*)$/,zB=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),GB=4294967294,UB=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yT=e=>vT.test(e),ZB=e=>e.match(vT)||[],WB=e=>e.split(""),IT=e=>yT(e)?ZB(e):WB(e),HB=e=>e==null?[]:$c(e).map(t=>e[t]),$c=e=>ei(e)?CT(e):Object.keys(Object(e)),YB=e=>{if(!og(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&n!="constructor"&&t.push(n);return t},CT=(e,t)=>{let n=Array.isArray(e),r=!n&&Ci(e)&&Kr(e)===Zc,i=!n&&!r&&Jc(e),o=n||r||i,s=e.length,a=new Array(o?s:0),l=o?-1:s;for(;++l<s;)a[l]=`${l}`;for(let c in e)(t||hasOwnProperty.call(e,c))&&!(o&&(c==="length"||NT(c,s)))&&a.push(c);return a},qp=(e,t)=>{let{length:n}=e;for(;n--;)if(zl(e[n][0],t))return n;return-1},zl=(e,t)=>e===t||e!==e&&t!==t,Ci=e=>e!=null&&typeof e=="object",Qp=(e,t,n)=>{if(!qe(n))return!1;let r=typeof t;return(r=="number"?ei(n)&&t>-1&&t<n.length:r=="string"&&t in n)?zl(n[t],e):!1},$B=e=>Ci(e)&&Kr(e)==Yc,XB=e=>Ci(e)&&Kr(e)==Hc,og=e=>{let t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Object.prototype;return e===n},Xc=(e,t,n)=>{let r=e[t];(!(hasOwnProperty.call(e,t)&&zl(r,n))||n===void 0&&!(t in e))&&(e[t]=n)},qc=(e,t,n)=>{let r=-1,i=t.length;for(;++r<i;){let o=t[r];Xc(n,o,e[o])}return n},ei=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Vl=e=>typeof e=="symbol"||Ci(e)&&Kr(e)===ig,qB=e=>{let t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n},GC=(e,t)=>{let n=-1,r=e.length;for(t||(t=new Array(r));++n<r;)t[n]=e[n];return t},Kr=e=>e==null?e===void 0?lB:aB:Object.prototype.toString.call(e),UC=e=>{let t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},wT=(e,t)=>{let n=t?UC(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},JB=e=>{let t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},AT=e=>typeof e.constructor=="function"&&!og(e)?Object.create(Object.getPrototypeOf(e)):{},ZC=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),QB=(e,t)=>qc(e,ZC(e),t);function KB(e,t){let n=t?UC(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var eV=(e,t,n)=>{let r=e.constructor;switch(t){case kC:return UC(e,n);case tg:case OC:return new r(+e);case LC:return KB(e,n);case qN:case JN:case QN:case KN:case eT:case tT:case nT:case rT:case iT:return wT(e,n);case Hc:return new r(e);case ng:case rg:return new r(e);case RC:return JB(e);case Yc:return new r;case ig:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},Jc=e=>Ci(e)&&_B.test(Kr(e)),_C=e=>{let t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...ZC(Object(e))),t},bT=e=>{let t=[];for(;e;)t.push(...ZC(e)),e=Object.getPrototypeOf(Object(e));return t},xT=e=>{let t=[];for(let n in e)t.push(n);return Array.isArray(e)||t.push(...bT(e)),t},Jp=({__data__:e},t)=>{let n=e;return dV(t)?n[typeof t=="string"?"string":"hash"]:n.map},tV=(e,t,n,r)=>{let i=_C(e),o=i.length,a=_C(t).length;if(o!=a)return!1;let l,c=o;for(;c--;)if(l=i[c],!hasOwnProperty.call(t,l))return!1;let f=r.get(e),d=r.get(t);if(f&&d)return f==t&&d==e;let v=!0;r.set(e,t),r.set(t,e);let I,w;for(;++c<o;){l=i[c];let D=e[l],M=t[l];if(!(I===void 0?D===M||n(D,M,r):I)){v=!1;break}w||(w=l=="constructor")}if(v&&!w){let D=e.constructor,M=t.constructor;D!=M&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof M=="function"&&M instanceof M)&&(v=!1)}return r.delete(e),r.delete(t),v},sg=(e,t,n)=>e===t?!0:e==null||t==null||!Ci(e)&&!Ci(t)?e!==e&&t!==t:nV(e,t,sg,n),nV=(e,t,n,r)=>{let i=Array.isArray(e),o=Array.isArray(t),s=i?SC:Kr(e),a=o?SC:Kr(t);s=s==Zc?jl:s,a=a==Zc?jl:a;let l=s==jl,c=a==jl,f=s==a;if(f&&!l)return r||(r=new Jo),i||Jc(e)?DT(e,t,!1,n,r):oV(e,t,s,n,r);let d=l&&hasOwnProperty.call(e,"__wrapped__"),v=c&&hasOwnProperty.call(t,"__wrapped__");if(d||v){let I=d?e.value():e,w=v?t.value():t;return r||(r=new Jo),n(I,w,r)}return f?(r||(r=new Jo),tV(e,t,n,r)):!1},DT=(e,t,n,r,i)=>{let s=e.length,a=t.length;if(s!=a)return!1;let l=i.get(e),c=i.get(t);if(l&&c)return l==t&&c==e;let f=-1,d=!0,v=n?new Qs:void 0;for(i.set(e,t),i.set(t,e);++f<s;){let I,w=e[f],D=t[f];if(I!==void 0){if(I)continue;d=!1;break}if(v){if(!rV(t,(M,T)=>{if(!iV(v,T)&&(w===M||r(w,M,i)))return v.push(T)})){d=!1;break}}else if(!(w===D||r(w,D,i))){d=!1;break}}return i.delete(e),i.delete(t),d},rV=(e,t)=>{let n=-1,r=e==null?0:e.length;for(;++n<r;)if(t(e[n],n,e))return!0;return!1},iV=(e,t)=>e.has(t),YN=(e,t,n,r)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),r)),oV=(e,t,n,r,i)=>{switch(n){case LC:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,YN(e,t,r,i));case kC:return YN(e,t,r,i);case tg:case OC:case ng:return zl(+e,+t);case XN:return e.name==t.name&&e.message==t.message;case RC:case rg:return e==`${t}`;case Hc:let o=MT;case Yc:if(o||(o=ag),e.size!=t.size)return!1;let s=i.get(e);if(s)return s==t;i.set(e,t);let a=DT(o(e),o(t),!0,r,i);return i.delete(e),a;case ig:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},MT=e=>{let t=-1,n=Array(e.size);return e.forEach((r,i)=>{n[++t]=[i,r]}),n},ag=e=>{let t=-1,n=new Array(e.size);return e.forEach(r=>{n[++t]=r}),n},WC=(e,t)=>{if(Array.isArray(e))return!1;let n=typeof e;return n==="number"||n==="boolean"||e==null||Vl(e)?!0:LB.test(e)||!kB.test(e)||t!=null&&e in Object(t)},sV=e=>{let t=[];return e.charCodeAt(0)===FB&&t.push(""),e.replace(BB,(n,r,i,o)=>{let s=n;i?s=o.replace(jB,"$1"):r&&(s=r.trim()),t.push(s)}),t},Gl=(e,t)=>Array.isArray(e)?e:WC(e,t)?[e]:sV(`${e}`),lg=(e,t)=>{t=Gl(t,e);let n=0,r=t.length;for(;e!=null&&n<r;)e=e[Ks(t[n])],n++;return n&&n==r?e:void 0};function aV(e,t){if(e!==t){let n=e!==void 0,r=e===null,i=e===e,o=Vl(e),s=t!==void 0,a=t===null,l=t===t,c=Vl(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function lV(e,t,n){let r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){let l=r<a?n[r]:null,f=(l&&typeof l=="function"?l:aV)(i[r],o[r]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}var ET=(e,t)=>{let n=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,r=!0,i=[],o=t.length;if(!e.length)return i;t.length>=zC&&(n=(s,a)=>s.has(a),r=!1,t=new Qs(t));e:for(let s in e){let a=e[s],l=a;if(a=a!==0?a:0,r&&l===l){let c=o;for(;c--;)if(t[c]===l)continue e;i.push(a)}else n(t,l)||i.push(a)}return i};var Ks=e=>{if(typeof e=="string"||Vl(e))return e;let t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Bl=(e,t=!1,n=!1,r=!0,i,o,s,a)=>{let l;if(i&&(l=s?i(e,o,s,a):i(e)),l!==void 0)return l;if(!qe(e))return e;let c=Array.isArray(e),f=Kr(e);if(c){if(l=qB(e),!t)return GC(e,l)}else{let w=typeof e=="function";if(f===jl||f===Zc||w&&!s){if(l=n||w?{}:AT(e),!t)return n?uV(e,qc(e,Object.keys(e),l)):QB(e,Object.assign(l,e))}else{if(w||!cB[f])return s?e:{};l=eV(e,f,t)}}a||(a=new Jo);let d=a.get(e);if(d)return d;if(a.set(e,l),XB(e))return e.forEach((w,D)=>{l.set(D,Bl(w,t,n,r,i,D,e,a))}),l;if($B(e))return e.forEach(w=>{l.add(Bl(w,t,n,r,i,w,e,a))}),l;if(Jc(e))return l;let I=c?void 0:(r?n?xT:_C:n?HC:$c)(e);return(I||e).forEach((w,D)=>{I&&(D=w,w=e[D]),Xc(l,D,Bl(w,t,n,r,i,D,e,a))}),l},uV=(e,t)=>qc(e,bT(e),t),ST=(e,t)=>t.length<2?e:lg(e,t.slice(0,-1));var NT=(e,t)=>{let n=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(n==="number"||n!=="symbol"&&VB.test(e))&&e>-1&&e%1==0&&e<t},cV=(e,t)=>{t=Gl(t,e),e=ST(e,t);let n=t[t.length-1];return e==null||delete e[Ks(n)]},dV=e=>{let t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},HC=e=>{let t=[];for(let n in e)t.push(n);return t},fV=e=>{e=Object(e);let t={};for(let n in e)t[n]=e[n];return t},$N=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function TT(e,t=!1){return(n,...r)=>{let i=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(l,c)=>{if(Array.isArray(l)&&!Array.isArray(c))return c}:void 0,a&&Qp(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),n=Object(n);++i<o;){let l=r[i];l&&e(n,l,i,s)}return n}}var YC=(e,t,n,r,i)=>{e!==t&&lr(t,(o,s)=>{if(qe(o))i||(i=new Jo),hV(e,t,s,n,YC,r,i);else{let a=r?r(e[s],o,`${s}`,e,t,i):void 0;a===void 0&&(a=o),PC(e,s,a)}},HC)},hV=(e,t,n,r,i,o,s)=>{let a=$N(e,n),l=$N(t,n),c=s.get(l);if(c){PC(e,n,c);return}let f=o?o(a,l,`${n}`,e,t,s):void 0,d=f===void 0;if(d){let v=Array.isArray(l),I=!v&&Jc(l);f=l,v||I?Array.isArray(a)?f=a:Ci(a)&&ei(a)?f=GC(a):I?(d=!1,f=wT(l,!0)):f=[]:Tt(l)||Wc(l)?(f=a,Wc(a)?f=fV(a):(typeof a=="function"||!qe(a))&&(f=AT(l))):d=!1}d&&(s.set(l,f),i(f,l,r,o,s),s.delete(l)),PC(e,n,f)},PC=(e,t,n)=>{(n!==void 0&&!zl(e[t],n)||n===void 0&&!(t in e))&&Xc(e,t,n)};function pV(e,t,n){let r=Object(e),i=n(e),{length:o}=i,s=-1;for(;o--;){let a=i[++s];if(t(r[a],a,r)===!1)break}return e}var gV=(e,t)=>e&&pV(e,t,$c),$C=(e,t)=>{if(e==null)return e;if(!ei(e))return gV(e,t);let n=e.length,r=Object(e),i=-1;for(;++i<n&&t(r[i],i,r)!==!1;);return e};function mV(e){let t=e==null?0:e.length;return t?e[t-1]:void 0}var vV=Set&&1/ag(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function _T(e,t,n,r,i,o){return qe(e)&&qe(t)&&(o.set(t,e),YC(e,t,void 0,_T,o),o.delete(t)),e}function yV(e,t,n){t.length?t=t.map(s=>Array.isArray(s)?a=>lg(a,s.length===1?s[0]:s):s):t=[s=>s];let r=-1,i=-1,o=ei(e)?new Array(e.length):[];return $C(e,s=>{let a=t.map(l=>l(s));o[++i]={criteria:a,index:++r,value:s}}),IV(o,(s,a)=>lV(s,a,n))}function IV(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}function PT(e){return e===e&&!qe(e)}function OT(e,t){return n=>n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}function CV(e,t){return e!=null&&kV(e,t,RV)}function wV(e,t){return WC(e)&&PT(t)?OT(Ks(e),t):n=>{let r=lg(n,e);return r===void 0&&r===t?CV(n,e):sg(t,r)}}function AV(e){let t=bV(e);return t.length===1&&t[0][2]?OT(t[0][0],t[0][1]):n=>n===e||xV(n,e,t)}function bV(e){let t=$c(e),n=t.length;for(;n--;){let r=t[n],i=e[r];t[n]=[r,i,PT(i)]}return t}function xV(e,t,n,r){let i=n.length,o=i,s=!r;if(e==null)return!o;let a,l;for(e=Object(e);i--;)if(a=n[i],s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=n[i];let c=a[0],f=e[c],d=a[1];if(s&&a[2]){if(f===void 0&&!(c in e))return!1}else{let v=new Jo;if(r&&(l=r(f,d,c,e,t,v)),!(l===void 0?sg(d,f,v):l))return!1}}return!0}function DV(e){return WC(e)?MV(Ks(e)):EV(e)}function MV(e){return t=>t?.[e]}function EV(e){return t=>lg(t,e)}function SV(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?wV(e[0],e[1]):AV(e):DV(e)}function ug(){let e=SV;return arguments.length?e(arguments[0],arguments[1]):e}var NV=(e,t,n,r)=>{let i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},TV=(e,t,n,r,i)=>(i(e,(o,s,a)=>{n=r?(r=!1,o):t(n,o,s,a)}),n);function _V(e,t,n){let r=Array.isArray(e)?NV:TV,i=arguments.length<3;return r(e,t,n,i,$C)}var PV=e=>Array.isArray(e)||Wc(e)||!!(e&&e[Symbol.isConcatSpreadable]);function RT(e,t,n,r,i){let o=-1,s=e.length;for(n||(n=PV),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?RT(a,t-1,n,r,i):i.push(...a):r||(i[i.length]=a)}return i}var Wc=e=>Ci(e)&&Kr(e)=="[object Arguments]";var OV=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,RV=(e,t)=>e!=null&&t in Object(e),kV=(e,t,n)=>{t=Gl(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Ks(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&OV(i)&&NT(s,i)&&(Array.isArray(e)||Wc(e)))},LV=e=>e.match(UB),FV=e=>e.match(TB),jV=(e,t)=>t===void 0?(zB(e)?FV(e):LV(e))||[]:e.match(t)||[],BV=(e,t,n)=>{let{length:r}=e;return n=n===void 0?r:n,!t&&n>=r?e:e.slice(t,n)},VV=zV("toUpperCase");function zV(e){return t=>{if(!t)return"";let n=yT(t)?IT(t):void 0,r=n?n[0]:t[0],i=n?BV(n,1).join(""):t.slice(1);return r[e]()+i}}var Jo=class{constructor(t){let n=this.__data__=new Uc(t);this.size=n.size}clear(){this.__data__=new Uc,this.size=0}delete(t){let n=this.__data__,r=n.delete(t);return this.size=n.size,r}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let r=this.__data__;if(r instanceof Uc){let i=r.__data__;if(i.length<zC-1)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new Kp(i)}return r.set(t,n),this.size=r.size,this}},Uc=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){let n=this.__data__,r=qp(n,t);if(r<0)return!1;let i=n.length-1;return r==i?n.pop():n.splice(r,1),--this.size,!0}get(t){let n=this.__data__,r=qp(n,t);return r<0?void 0:n[r][1]}has(t){return qp(this.__data__,t)>-1}set(t,n){let r=this.__data__,i=qp(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}},Kp=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new eg,map:new Map,string:new eg}}delete(t){let n=Jp(this,t).delete(t);return this.size-=n?1:0,n}get(t){return Jp(this,t).get(t)}has(t){return Jp(this,t).has(t)}set(t,n){let r=Jp(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}},eg=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){let n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){let r=this.__data__[t];return r===TC?void 0:r}has(t){return this.__data__[t]!==void 0}set(t,n){let r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n===void 0?TC:n,this}},Qs=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.__data__=new Kp;++n<r;)this.add(t[n])}add(t){return this.__data__.set(t,TC),this}has(t){return this.__data__.has(t)}};Qs.prototype.push=Qs.prototype.add;var XC=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===tg},qe=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},bn=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===ng},rn=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===rg},Ce=TT((e,t)=>{if(og(t)||ei(t)){qc(t,$c(t),e);return}for(var n in t)hasOwnProperty.call(t,n)&&Xc(e,n,t[n])});var kT=(e,...t)=>{let n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Qp(t[0],t[1],i)&&(r=1);++n<r;){let o=t[n];if(o==null)continue;let s=Object.keys(o),a=s.length,l=-1;for(;++l<a;){let c=s[l],f=e[c];(f===void 0||zl(f,Object.prototype[c])&&!hasOwnProperty.call(e,c))&&(e[c]=o[c])}}return e},Bn=kT,LT=function(...t){return t.push(void 0,_T),Zt.apply(void 0,t)},ea=LT,sr=(e,t,...n)=>{let r=-1,i=typeof t=="function",o=ei(e)?new Array(e.length):[];return $C(e,s=>{o[++r]=i?t.apply(s,n):FT(s,t,...n)}),o},FT=(e,t,...n)=>{t=Gl(t,e),e=ST(e,t);let r=e==null?e:e[Ks(mV(t))];return r?.apply(e,n)},Qc=(e,t,n)=>{let r=0,i=e==null?0:e.length;if(i==0)return 0;n=ug(n,2),t=n(t);let o=t!==t,s=t===null,a=Vl(t),l=t===void 0;for(;r<i;){let c,f=Math.floor((r+i)/2),d=n(e[f]),v=d!==void 0,I=d===null,w=d===d,D=Vl(d);o?c=w:l?c=w&&v:s?c=w&&v&&!I:a?c=w&&v&&!I&&!D:I||D?c=!1:c=d<t,c?r=f+1:i=f}return Math.min(i,GB)},zr=(e,t)=>{let n=-1,r=(l,c)=>!!(l==null?0:l.length)&&l.indexOf(c)>-1;t=ug(t,2);let i=!0,{length:o}=e,s=[],a=s;if(o>=zC){let l=t?null:vV(e);if(l)return ag(l);i=!1,r=(c,f)=>c.has(f),a=new Qs}else a=t?[]:s;e:for(;++n<o;){let l=e[n],c=t?t(l):l;if(l=l!==0?l:0,i&&c===c){let f=a.length;for(;f--;)if(a[f]===c)continue e;t&&a.push(c),s.push(l)}else r(a,c)||(a!==s&&a.push(c),s.push(l))}return s},Gr=e=>Bl(e),Xn=e=>Bl(e,!0),ar=e=>{if(e==null)return!0;if(ei(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||Jc(e)||Wc(e)))return!e.length;let t=Kr(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(og(e))return!YB(e).length;for(let n in e)if(hasOwnProperty.call(e,n))return!1;return!0},Hi=(e,t)=>sg(e,t),pt=e=>typeof e=="function",Tt=e=>{if(!Ci(e)||Kr(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},je=e=>{if(!e)return[];if(ei(e))return rn(e)?IT(e):GC(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){let r=e[Symbol.iterator](),i,o=[];for(;!(i=r.next()).done;)o.push(i.value);return o}let t=Kr(e);return(t==Hc?MT:t==Yc?ag:HB)(e)};function qC(e,t,n){if(typeof e!="function")throw new TypeError("Expected a function");let r,i,o,s,a,l,c=0,f=!1,d=!1,v=!0,I=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,qe(n)&&(f=!!n.leading,d="maxWait"in n,o=d?Math.max(+n.maxWait||0,t):o,v="trailing"in n?!!n.trailing:v);function w(y){let x=r,S=i;return r=i=void 0,c=y,s=e.apply(S,x),s}function D(y,x){return I?(window.cancelAnimationFrame(a),window.requestAnimationFrame(y)):setTimeout(y,x)}function M(y){if(I)return window.cancelAnimationFrame(y);clearTimeout(y)}function T(y){return c=y,a=D(H,t),f?w(y):s}function B(y){let x=y-l,S=y-c,_=t-x;return d?Math.min(_,o-S):_}function G(y){let x=y-l,S=y-c;return l===void 0||x>=t||x<0||d&&S>=o}function H(){let y=Date.now();if(G(y))return ne(y);a=D(H,B(y))}function ne(y){return a=void 0,v&&r?w(y):(r=i=void 0,s)}function g(...y){let x=Date.now(),S=G(x);if(r=y,i=this,l=x,S){if(a===void 0)return T(l);if(d)return a=D(H,t),w(l)}return a===void 0&&(a=D(H,t)),s}return g.cancel=()=>{a!==void 0&&M(a),c=0,r=l=i=a=void 0},g.flush=()=>a===void 0?s:ne(Date.now()),g.pending=()=>a!==void 0,g}var JC=(e,t)=>(t=ug(t,2),_V(e,(n,r,i)=>(i=t(r),hasOwnProperty.call(n,i)?n[i].push(r):Xc(n,i,[r]),n),{})),Kc=(e,t=[])=>{if(e==null)return[];let n=t.length;return n>1&&Qp(e,t[0],t[1])?t=[]:n>2&&Qp(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[ug(t,2)]),yV(e,t.flat(1),[])},QC=e=>(e==null?0:e.length)?RT(e,1/0):[],Ul=(e,...t)=>ei(e)?ET(e,t):[],ed=(e,...t)=>Ci(e)&&ei(e)?ET(e,t.flat(1)):[];var Zl=(...e)=>{let t=e.flat(1);return zr(t)},Mr=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let n=-1,r=e;for(;++n<t.length;){if(!r||!hasOwnProperty.call(r,t[n]))return!1;r=r[t[n]]}return!0},Lt=(e,t,n)=>{t=Gl(t,e);let r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){let o=e?.[Ks(t[r])];o===void 0&&(r=i,o=n),e=typeof o=="function"?o.call(e):o}return e},Ur=(e,...t)=>{let n={};if(e==null)return n;let r=!1;t=t.flat(1).map(o=>(o=Gl(o,e),r||(r=o.length>1),o)),qc(e,xT(e),n),r&&(n=Bl(n,!0,!0,!0,o=>Tt(o)?void 0:o));let i=t.length;for(;i--;)cV(n,t[i]);return n};var lr=(e,t=n=>n)=>{let n=-1,r=Object(e),i=ei(e)?CT(e,!0):HC(e),o=i.length;for(;o--;){let s=i[++n];if(t(r[s],s,r)===!1)break}},KC=(e="")=>jV(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,r)=>(n=n.toLowerCase(),t+(r?VV(n):n)),""),GV=0,ew=(e="")=>{let t=++GV;return`${e}`+t},Zt=TT((e,t,n,r)=>{YC(e,t,n,r)},!0);var Vn=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,jn.classNamePrefix.length)!==jn.classNamePrefix&&(t=jn.classNamePrefix+t),t}).join(" ")},BT=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,jn.classNamePrefix.length)===jn.classNamePrefix&&(t=t.substr(jn.classNamePrefix.length)),t}).join(" ")},ta=function(e,t){let n={},r={},i=ee.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(l,c,f){for(let d=0;d<l.length;d++){let v=l[d];if(typeof v=="string"){let H=document.createTextNode(v);c.appendChild(H);continue}if(!v.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");let I=v.tagName,w;v.hasOwnProperty("namespaceURI")&&(f=v.namespaceURI),w=document.createElementNS(f,I);let D=f===i,M=D?ee:Qo.default,T=v.attributes;T&&M(w).attr(T);let B=v.style;if(B&&(0,Qo.default)(w).css(B),v.hasOwnProperty("className")){let H=v.className;D?w.className.baseVal=H:w.className=H}if(v.hasOwnProperty("textContent")&&(w.textContent=v.textContent),v.hasOwnProperty("selector")){let H=v.selector;if(n[H])throw new Error("json-dom-parser: selector must be unique");n[H]=w,M(w).attr("joint-selector",H)}if(v.hasOwnProperty("groupSelector")){let H=v.groupSelector;Array.isArray(H)||(H=[H]);for(let ne=0;ne<H.length;ne++){let g=H[ne],y=r[g];y||(y=r[g]=[]),y.push(w)}}c.appendChild(w);let G=v.children;Array.isArray(G)&&a(G,w,f)}};return a(e,s,o),{fragment:s,selectors:n,groupSelectors:r}},nd=function(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t},go=function(e,t,n){for(var r=Array.isArray(t)?t:t.split(n||"/"),i,o=0,s=r.length;o<s;)if(i=r[o++],Object(e)===e&&i in e)e=e[i];else return;return e},VT=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},rd=function(e,t,n,r){let i=Array.isArray(t)?t:t.split(r||"/"),o=i.length-1,s=e,a=0;for(;a<o;a++){let l=i[a];if(!VT(s,l))return e;s=s[l]||(s[l]={})}return s[i[o]]=n,e},tw=function(e,t,n){let r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1,o=e,s=0;for(;s<i;s++){let a=r[s];if(!VT(o,a))return e;let l=o[a];if(!l)return e;o=l}return delete o[r[i]],e};var zT=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})},Ko=function(e){return Ko.id=Ko.id||1,e===void 0?"j_"+Ko.id++:(e.id=e.id===void 0?"j_"+Ko.id++:e.id,e.id)},GT=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},Tn=function(e){if(e.normalized)return e;let{originalEvent:t,target:n}=e,r=t&&t.changedTouches&&t.changedTouches[0];if(r)for(let i in r)e[i]===void 0&&(e[i]=r[i]);if(n){let i=n.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},UT=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}},ZT=function(e,t){return e>t?t:e<-t?-t:e},id=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=new Date().getTime(),i=Math.max(0,16-(r-t)),o=setTimeout(function(){n(r+i)},i);return t=r+i,o}}return function(n,r,...i){return e(r!==void 0?n.bind(r,...i):n)}}(),od=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}();var vn=function(e){return rn(e)&&e.slice(-1)==="%"},UV=function(e,t){function n(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return l?l[1]:null}var r=parseFloat(e);if(Number.isNaN(r))return null;var i={};i.value=r;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else rn(t)&&(o=t);var s=n(o);return s===null?null:(i.unit=s,i)},td=0;function ZV(e,t){let n=e.split(t),r=1;for(let i=0,o=n.length-1;i<o;i++){let s=[];(i>0||n[0]!=="")&&s.push(td),s.push(t),(i<o-1||n[o]!=="")&&s.push(td),n.splice(r,0,...s),r+=s.length+1}return n.filter(i=>i!=="")}function jT(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}var cg=function(e,t,n={},r={}){var i=t.width,o=t.height,s=r.svgDocument||ee("svg").node,a=ee("tspan").node,l=ee("text").attr(n).append(a).node,c=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(c),s.appendChild(l),r.svgDocument||document.body.appendChild(s);let f=r.preserveSpaces,d=" ",v=r.separator||r.separator===""?r.separator:d,I=typeof v=="string"?v:d;var w=r.eol||`
`,D=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,M=r.maxLineCount;bn(M)||(M=1/0);var T=e.split(v),B=[],G=[],H,ne,g;f&&ee(a).attr("xml:space","preserve");for(var y=0,x=0,S=T.length;y<S;y++){var _=T[y];if(!(!_&&!f)&&typeof _=="string"){var j=!1;if(w&&_.indexOf(w)>=0)if(_.length>1){let ke=ZV(T[y],w);T.splice(y,1,...ke),y--,S=T.length;continue}else{if(f&&typeof T[y-1]=="string"){T.splice(y,td,"",td),S+=2,y--;continue}G[++x]=!f||typeof T[y+1]=="string"?"":void 0,j=!0}if(!j){let ke;if(f?ke=G[x]!==void 0?G[x]+I+_:_:ke=G[x]?G[x]+I+_:_,c.data=ke,a.getComputedTextLength()<=i)G[x]=ke,(H||ne)&&(B[x++]=!0,H=0,ne=0);else{if(!G[x]||H){var V=!!H;if(H=_.length-1,V||!H){if(!H){if(!G[x]){G=[];break}T.splice(y,2,_+T[y+1]),S--,B[x++]=!0,y--;continue}T[y]=_.substring(0,H);let Ne=T[y+1];T[y+1]=_.substring(H)+(Ne===void 0||Ne===td?"":Ne)}else{if(ne)T.splice(y,2,T[y]+T[y+1]),ne=0;else{var Y=_.search(D);Y>-1&&Y!==_.length-1&&Y!==0&&(ne=Y+1,H=0),T.splice(y,1,_.substring(0,ne||H),_.substring(ne||H)),S++}x&&!B[x-1]&&x--}(!f||G[x]!=="")&&y--;continue}x++,y--}}var ue=null;if(G.length>M)ue=M-1;else if(o!==void 0){if(g===void 0&&c.data!=="")if(n.lineHeight==="auto")g=jT({value:1.5,unit:"em"},l);else{let ke=UV(n.lineHeight,["em","px",""]);g=jT(ke,l)}g*G.length>o&&(ue=Math.floor(o/g)-1)}if(ue!==null){G.splice(ue+1);var pe=r.ellipsis;if(!pe||ue<0)break;typeof pe!="string"&&(pe="\u2026");var Z=G[ue];if(!Z&&!j)break;var Q=Z.length,X,J;do{if(J=Z[Q],X=Z.substring(0,Q),J?J.match(v)&&(X+=J):X+=I,X+=pe,c.data=X,a.getComputedTextLength()<=i){G[ue]=X;break}Q--}while(Q>=0);break}}}return r.svgDocument?s.removeChild(l):document.body.removeChild(s),G.join(w)},WT=function(e){var t=(0,Qo.default)(Qo.default.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var n=this;Qo.default.each(n.attributes,function(){var r=this,i=r.name,o=r.value;(i.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&(0,Qo.default)(n).removeAttr(i)})}),t.html()};var HT=function(e,t){var n=(0,Qo.default)(e),r=n.map(function(){var i=this,o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(n,t).each(function(i){r[i].call(this)})};var Zr=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,o;return n=r=i=o=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:r,bottom:i,left:o}},YT={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return .5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},dg={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var i,o,s={};for(i=n.length-1;i!=-1;i--)o=n[i],s[o]=e[o]+(t[o]-e[o])*r;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=n&255,o=(r&255)-i,s=n&65280,a=(r&65280)-s,l=n&16711680,c=(r&16711680)-l;return function(f){var d=i+o*f&255,v=s+a*f&65280,I=l+c*f&16711680;return"#"+(1<<24|d|v|I).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i[1].indexOf("."),s=o>0?i[1].length-o-1:0;e=+r[1];var a=+i[1]-e,l=r[2];return function(c){return(e+a*c).toFixed(s)+l}}},$T={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return qn(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return qn(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return qn('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return qn(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return qn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return qn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return qn('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return qn('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return qn('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return qn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return qn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}};var qn=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),s=o.split("."),a=n[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}};function fg(e){e=zr(e);let t=je(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return je(e).forEach(function(n){let r=t[n.id];if(r.isLink()){let s=r.source(),a=r.target();s.id&&t[s.id]&&r.prop("source/id",t[s.id].id),a.id&&t[a.id]&&r.prop("target/id",t[a.id].id)}let i=n.get("parent");i&&t[i]&&r.set("parent",t[i].id);let o=je(n.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);ar(o)||r.set("embeds",o)}),t}var WV=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],HV=WV.reduce((e,t)=>(e[t]=!0,e),{}),YV={qualify:function(e){return Tt(e)},set:function(e,t,n){Object.keys(e).forEach(function(r){if(HV[r]&&r in n){let i=e[r];n.tagName==="SELECT"&&Array.isArray(i)?Array.from(n.options).forEach(function(o,s){o.selected=i.includes(o.value)}):n[r]=i}})}},XT=YV;var Hl=Si(qo(),1);function es(e,t){return function(n,r){var i=vn(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var s=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);o[e]=s}return o}}function hg(e,t,n){return function(r,i){var o=vn(r);r=parseFloat(r),o&&(r/=100);var s;if(isFinite(r)){var a=i[n]();o||r>0&&r<1?s=a[e]+i[t]*r:s=a[e]+r}var l=k();return l[e]=s||0,l}}function qT(e,t,n){return function(r,i){var o;r==="middle"?o=i[t]/2:r===n?o=i[t]:isFinite(r)?o=r>-1&&r<1?-i[t]*r:-r:vn(r)?o=i[t]*parseFloat(r)/100:o=0;var s=k();return s[e]=-(i[e]+o),s}}function t1(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(i,o,s){var a=(0,Hl.default)(s),l=a.data(n);if(!l||l.value!==i){var c=e(i);l={value:i,shape:c,shapeBBox:c.bbox()},a.data(n,l)}var f=l.shape.clone(),d=l.shapeBBox.clone(),v=d.origin(),I=o.origin();d.x=I.x,d.y=I.y;var w=o.maxRectScaleToFit(d,I),D=d.width===0||o.width===0?1:w.sx,M=d.height===0||o.height===0?1:w.sy;return f.scale(D,M,v),r&&f.translate(-v.x,-v.y),f}}function JT(e){function t(r){return new be(ee.normalizePathData(r))}var n=t1(t,e);return function(r,i,o){var s=n(r,i,o);return{d:s.serialize()}}}function QT(e){var t=t1(ft,e);return function(n,r,i){var o=t(n,r,i);return{points:o.serialize()}}}function pg(e,t){var n=new k(1,0);return function(r){var i,o,s=this[e](r);return s?(o=t.rotate?s.vector().vectorAngle(n):0,i=s.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function KT(e){return function(n,r,i){let o=ee(i);o.attr(e)!==n&&o.attr(e,n)}}function Wl(e,t,n){return n.text!==void 0}function sd(){return this.model.isLink()}function nw(e){var t={},n=e.stroke;typeof n=="string"&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return r===void 0&&(r=e["stroke-opacity"]),r===void 0&&(r=e.opacity),r!==void 0&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}function e1(e){let{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}var Ye={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:KT("href")},xlinkHref:{set:KT("xlink:href")},filter:{qualify:Tt,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Tt,set:e1},stroke:{qualify:Tt,set:e1},sourceMarker:{qualify:Tt,set:function(e,t,n,r){return e=Ce(nw(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Tt,set:function(e,t,n,r){return e=Ce(nw(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Tt,set:function(e,t,n,r){return e=Ce(nw(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!Tt(n.textWrap)},set:function(e,t,n,r){let i=(0,Hl.default)(n),o="joint-text",s=i.data(o),{lineHeight:a,annotations:l,textVerticalAnchor:c,eol:f,displayEmpty:d}=r,v=r.textPath,I=r.x;qr(I)&&(I=Jr(I,t));let w=r["font-size"]||r.fontSize;qr(w)&&(w=Jr(w,t));let D=JSON.stringify([e,a,l,c,f,d,v,I,w]);if(s===void 0||s!==D){if(w&&n.setAttribute("font-size",w),qe(v)){let M=v.selector;if(typeof M=="string"){let[T]=this.findBySelector(M);T instanceof SVGPathElement&&(v=Ce({"xlink:href":"#"+T.id},v))}}ee(n).text(""+e,{lineHeight:a,annotations:l,textPath:v,x:I,textVerticalAnchor:c,eol:f,displayEmpty:d}),i.data(o,D)}}},textWrap:{qualify:Tt,set:function(e,t,n,r){var i={},o=e.width||0;vn(o)?i.width=t.width*parseFloat(o)/100:qr(o)?i.width=Number(Jr(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var s=e.height||0;vn(s)?i.height=t.height*parseFloat(s)/100:qr(s)?i.height=Number(Jr(s,t)):e.height===null||(s<=0?i.height=t.height+s:i.height=s);var a,l=e.text;if(l===void 0&&(l=r.text),l!==void 0){let c=e.breakText||cg,f=r["font-size"]||r.fontSize;a=c(""+l,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":qr(f)?Jr(f,t):f,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";Ye.text.set.call(this,a,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=(0,Hl.default)(n),i="joint-title",o=r.data(i);if(o===void 0||o!==e){if(r.data(i,e),n.tagName==="title"){n.textContent=e;return}var s=n.firstElementChild;if(s&&s.tagName==="title")s.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,s)}}}},lineHeight:{qualify:Wl},textVerticalAnchor:{qualify:Wl},textPath:{qualify:Wl},annotations:{qualify:Wl},eol:{qualify:Wl},displayEmpty:{qualify:Wl},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:Tt,set:function(e,t,n){(0,Hl.default)(n).css(e)}},html:{set:function(e,t,n){(0,Hl.default)(n).html(e+"")}},props:XT,ref:{},refX:{position:hg("x","width","origin")},refY:{position:hg("y","height","origin")},refDx:{position:hg("x","width","corner")},refDy:{position:hg("y","height","corner")},refWidth:{set:es("width","width")},refHeight:{set:es("height","height")},refRx:{set:es("rx","width")},refRy:{set:es("ry","height")},refRInscribed:{set:function(e){var t=es(e,"width"),n=es(e,"height");return function(r,i){var o=i.height>i.width?t:n;return o(r,i)}}("r")},refRCircumscribed:{set:function(e,t){var n=vn(e);e=parseFloat(e),n&&(e/=100);var r=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(n||e>=0&&e<=1?i=e*r:i=Math.max(e+r,0)),{r:i}}},refCx:{set:es("cx","width")},refCy:{set:es("cy","height")},xAlignment:{offset:qT("x","width","right")},yAlignment:{offset:qT("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:JT({resetOffset:!0})},refDKeepOffset:{set:JT({resetOffset:!1})},refPointsResetOffset:{set:QT({resetOffset:!0})},refPointsKeepOffset:{set:QT({resetOffset:!1})},connection:{qualify:sd,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let n;e<0?n=(this.getConnectionLength()+e)/2:n=e;let r=this.getConnection(),i=this.getConnectionSubdivisions(),o=r.divideAtLength(n,{segmentSubdivisions:i}),s=r.divideAtLength(-n,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:sd,set:pg("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:sd,set:pg("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:sd,set:pg("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:sd,set:pg("getTangentAtRatio",{rotate:!1})}};Ye["xlink:href"]=Ye.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{Ye[e]={qualify:qr,set:function(n,r){return{[e]:Jr(n,r)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{Ye[e]={qualify:qr,set:function(n,r){return{[e]:Math.max(0,Jr(n,r))}}}});Ye.refR=Ye.refRInscribed;Ye.refD=Ye.refDResetOffset;Ye.refPoints=Ye.refPointsResetOffset;Ye.atConnectionLength=Ye.atConnectionLengthKeepGradient;Ye.atConnectionRatio=Ye.atConnectionRatioKeepGradient;Ye.fontSize=Ye["font-size"];Ye.strokeWidth=Ye["stroke-width"];Ye.refX2=Ye.refX;Ye.refY2=Ye.refY;Ye.refWidth2=Ye.refWidth;Ye.refHeight2=Ye.refHeight;Ye["ref-x"]=Ye.refX;Ye["ref-y"]=Ye.refY;Ye["ref-dy"]=Ye.refDy;Ye["ref-dx"]=Ye.refDx;Ye["ref-width"]=Ye.refWidth;Ye["ref-height"]=Ye.refHeight;Ye["x-alignment"]=Ye.xAlignment;Ye["y-alignment"]=Ye.yAlignment;var ad=Ye;var Jn=rw.default.Model.extend({constructor:function(e,t){var n,r=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=ew("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=Lt(this,"defaults"))&&(r=Zt({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){let t=Lt(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,r={};lr(n,function(o,s){let a=t[s];lr(o,function(l,c){qe(l)&&!Array.isArray(l)?lr(l,function(f,d){(!a||!a[c]||!Hi(a[c][d],f))&&(r[s]=r[s]||{},(r[s][c]||(r[s][c]={}))[d]=f)}):(!a||!Hi(a[c],l))&&(r[s]=r[s]||{},r[s][c]=l)})});let i=Xn(Ur(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(e){let t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return zT()},processPorts:function(){var e=this.ports,t={};lr(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var n={};if(lr(e,function(o,s){t[s]||(n[s]=!0)}),this.graph&&!ar(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(o){n[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){n[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){let{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");let r=this.getParentCell();r&&r.unembed(this,e);let i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){let a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=Bn(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];let r=e.foregroundEmbeds?n:Kc(n,l=>l.z()),o=t.maxZIndex()-n.length+1,s=t.get("cells"),a=s.indexOf(r[0])!==s.length-n.length;a||(a=r.some(function(l,c){return l.z()!==o+c})),a&&(this.startBatch("to-front"),o=o+n.length,r.forEach(function(l,c){l.set("z",o+c,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=Bn(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];let i=e.foregroundEmbeds?r:Kc(r,a=>a.z()),o=t.minZIndex();var n=t.get("cells");let s=n.indexOf(i[0])!==0;s||(s=i.some(function(a,l){return a.z()!==o+l})),s&&(this.startBatch("to-back"),o-=r.length,i.forEach(function(a,l){a.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){let n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){let n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){let n="embed";this.startBatch(n);let r=Ce([],this.get("embeds"));e.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",zr(r),t),this.stopBatch(n)},_unembedCells:function(e,t){let n="unembed";this.startBatch(n),e.forEach(r=>r.unset("parent",t)),this.set("embeds",Ul(this.get("embeds"),...e.map(r=>r.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);let t=this.get("embeds");if(ar(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=Kc(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(e){let t=[],n=[];for(n.push(this);n.length>0;){let r=n.shift();t.push(r);let i=r.getEmbeddedCells({sortSiblings:e});n.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){let t=[],n=[];for(n.push(this);n.length>0;){let r=n.pop();t.push(r);let i=r.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)n.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=rn(e)?e:e.id,r=this.parent();if(t=Ce({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return je(fg([this].concat(this.getEmbeddedCells({deep:!0}))));var t=rw.default.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var r="/",i=rn(e);if(i||Array.isArray(e))if(arguments.length>1){var o,s;i?(o=e,s=o.split("/")):(o=e.join(r),s=e.slice());var a=s[0],l=s.length;let G=n||{};G.propertyPath=o,G.propertyValue=t,G.propertyPathArray=s,"rewrite"in G||(G.rewrite=!1);for(var c={},f=c,d=a,v=1;v<l;v++){var I=s[v],w=Number.isFinite(i?Number(I):I);f=f[d]=w?[]:{},d=I}c=rd(c,s,t,"/");var D=Zt({},this.attributes);G.rewrite&&tw(D,o,"/");var M=Zt(D,c);return this.set(a,M[a],G)}else return go(this.attributes,e,r);let T=t||{};T.propertyPath=null,T.propertyValue=e,T.propertyPathArray=[],"rewrite"in T||(T.rewrite=!1);let B={};for(let G in e){let{changedValue:H}=Zt({},{changedValue:this.attributes[G]},{changedValue:e[G]});B[G]=H}return this.set(B,T)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if(r==="attrs"&&(t.dirty=!0),n.length===1)return this.unset(e,t);var i=n.slice(1),o=this.get(r);return o==null?this:(o=Xn(o),tw(o,i,"/"),this.set(r,o,t))},attr:function(e,t,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(e)?r[0]=["attrs"].concat(e):rn(e)?r[0]="attrs/"+e:r[0]={attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/";var i={duration:100,delay:10,timingFunction:YT.linear,valueFunction:dg.number};n=Ce(i,n);var o=0,s,a=function(d){var v,I,w;o=o||d,d-=o,I=d/n.duration,I<1?this._transitionIds[e]=v=id(a):(I=1,delete this._transitionIds[e]),w=s(n.timingFunction(I)),n.transitionId=v,this.prop(e,w,n),v||this.trigger("transition:end",this,e)}.bind(this);let{_scheduledTransitionIds:l}=this,c;var f=d=>{l[e]&&(l[e]=Ul(l[e],c),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,r),s=n.valueFunction(go(this.attributes,e,r),t),this._transitionIds[e]=id(d),this.trigger("transition:start",this,e)};return c=setTimeout(f,n.delay,a),l[e]||(l[e]=[]),l[e].push(c),c},getTransitions:function(){return Zl(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){let{_scheduledTransitionIds:n={}}=this,r=Object.keys(n);if(e){let i=e.split(t);r=r.filter(o=>Hi(i,o.split(t).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(s=>clearTimeout(s)),delete n[i]}),this},stopPendingTransitions(e,t="/"){let{_transitionIds:n={}}=this,r=Object.keys(n);if(e){let i=e.split(t);r=r.filter(o=>Hi(i,o.split(t).slice(0,i.length)))}r.forEach(i=>{let o=n[i];od(o),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Ce({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Ce({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new k(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new k},getBBox:function(){return new de(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){let r=new k(t,n);return e&&r.rotate(this.getBBox().center(),e),r},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,n=ad;return t&&t[e]||n[e]},define:function(e,t,n,r){n=Ce({defaults:ea({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&Mr(joint,"shapes")&&rd(joint.shapes,e,i,"."),i}});var n1=function(e,t,n){if(rn(n)){if(!gg[n])throw new Error('Unknown wrapper: "'+n+'"');n=gg[n]}if(!pt(n))throw new Error("Wrapper must be a function.");je(t).forEach(function(r){e[r]=n(e[r])})},gg={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof Jn?r=t:r instanceof Jn&&(t.length>1&&t.pop(),r=t)),i instanceof Jn&&(i={}),e.call(this,r,i)}}};var an={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function ld(e,t){let n=new de(e);switch(t){case void 0:throw new Error("Position required");case an.LEFT:case"leftMiddle":return n.leftMiddle();case an.RIGHT:case"rightMiddle":return n.rightMiddle();case an.TOP:case"topMiddle":return n.topMiddle();case an.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case an.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case an.TOP_RIGHT:case"topRight":return n.topRight();case an.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case an.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case an.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}function r1(e,t,n){var r=e.toJSON();return r.angle=t||0,Bn({},n,r)}function ud(e,t,n,r){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),r1(a.round(),0,ow(r,i))},lo(t,n))}function i1(e,t,n,r){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=An.fromRect(t);return e.map(function(l,c,f){var d=n+r(c,f.length),v=s.clone().rotate(i,-d).scale(o,1,i),I=l.compensateRotation?-a.tangentTheta(v):0;return(l.dx||l.dy)&&v.offset(l.dx||0,l.dy||0),l.dr&&v.move(i,l.dr),r1(v.round(),I,ow(t,l))})}function ow(e,t){let{x:n,y:r,angle:i}=t;return vn(n)?n=parseFloat(n)/100*e.width:qr(n)&&(n=Number(Jr(n,e))),vn(r)?r=parseFloat(r)/100*e.height:qr(r)&&(r=Number(Jr(r,e))),{x:n,y:r,angle:i}}function iw(e,t){let{x:n,y:r}=ow(e,t);return new k(n||0,r||0)}var $V=function(e,t){return e.map(n=>{let r=iw(t,n).round().toJSON();return r.angle=n.angle||0,r})},XV=function(e,t,n){return n.fn(e,t,n)},qV=function(e,t,n){var r=iw(t,n.start||t.origin()),i=iw(t,n.end||t.corner());return ud(e,r,i,t)},JV=function(e,t,n){return ud(e,t.origin(),t.bottomLeft(),t)},QV=function(e,t,n){return ud(e,t.topRight(),t.corner(),t)},KV=function(e,t,n){return ud(e,t.origin(),t.topRight(),t)},ez=function(e,t,n){return ud(e,t.bottomLeft(),t.corner(),t)},tz=function(e,t,n){var r=n.startAngle||0,i=n.step||360/e.length;return i1(e,t,r,function(o){return o*i})},nz=function(e,t,n){var r=n.startAngle||0,i=n.step||20;return i1(e,t,r,function(o,s){return(o+.5-s/2)*i})};var aw={};nn(aw,{bottom:()=>az,inside:()=>dz,insideOriented:()=>cz,left:()=>iz,manual:()=>rz,outside:()=>uz,outsideOriented:()=>lz,radial:()=>fz,radialOriented:()=>hz,right:()=>oz,top:()=>sz});function ts(e,t){return ea({},e,t,{x:0,y:0,angle:0,attrs:{}})}function o1(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[n,o,i,r]}function s1(e,t,n,r){r=Bn({},r,{offset:15});var i=t.center().theta(e),o,s,a,l,c=r.offset,f=0;let[d,v,I,w]=o1(t);i<v||i>I?(a=".3em",o=c,s=0,l="start"):i<d?(o=0,s=-c,n?(f=-90,l="start",a=".3em"):(l="middle",a="0")):i<w?(a=".3em",o=-c,s=0,l="end"):(o=0,s=c,n?(f=90,l="start",a=".3em"):(l="middle",a=".6em"));var D=Math.round;return ts(r,{x:D(o),y:D(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function a1(e,t,n,r){r=Bn({},r,{offset:15});var i=t.center().theta(e),o,s,a,l,c=r.offset,f=0;let[d,v,I,w]=o1(t);i<v||i>I?(a=".3em",o=-c,s=0,l="end"):i<d?(o=0,s=c,n?(f=90,l="start",a=".3em"):(l="middle",a=".6em")):i<w?(a=".3em",o=c,s=0,l="start"):(o=0,s=-c,n?(f=-90,l="start",a=".3em"):(l="middle",a="0"));var D=Math.round;return ts(r,{x:D(o),y:D(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function l1(e,t,n){n=Bn({},n,{offset:20});var r=ul(0,0),i=-e.theta(r),o=i,s=e.clone().move(r,n.offset).difference(e).round(),a=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var c=Math.round;return ts(n,{x:c(s.x),y:c(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:l}}})}var rz=function(e,t,n){return ts(n)},iz=function(e,t,n){return ts(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},oz=function(e,t,n){return ts(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},sz=function(e,t,n){return ts(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},az=function(e,t,n){return ts(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},lz=function(e,t,n){return s1(e,t,!0,n)},uz=function(e,t,n){return s1(e,t,!1,n)},cz=function(e,t,n){return a1(e,t,!0,n)},dz=function(e,t,n){return a1(e,t,!1,n)},fz=function(e,t,n){return l1(e.difference(t.center()),!1,n)},hz=function(e,t,n){return l1(e.difference(t.center()),!0,n)};var wi={};nn(wi,{Cell:()=>Jn,CellView:()=>$e,Element:()=>Pt,ElementView:()=>Kt,Graph:()=>mg,HighlighterView:()=>_n,LayersNames:()=>ur,Link:()=>_t,LinkView:()=>oa,Paper:()=>e5,PaperLayer:()=>lw,ToolView:()=>Mw,ToolsView:()=>t5,attributes:()=>ad});var ns=Si(Gc(),1);var _t=Jn.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){if(e===void 0)return Gr(this.get("source"));var r,i,o=e instanceof Jn;if(o)return r=Gr(t)||{},r.id=e.id,i=n,this.set("source",r,i);var s=!Tt(e);return s?(r=Gr(t)||{},r.x=e.x,r.y=e.y,i=n,this.set("source",r,i)):(r=e,i=t,this.set("source",r,i))},target:function(e,t,n){if(e===void 0)return Gr(this.get("target"));var r,i,o=e instanceof Jn;if(o)return r=Gr(t)||{},r.id=e.id,i=n,this.set("target",r,i);var s=!Tt(e);return s?(r=Gr(t)||{},r.x=e.x,r.y=e.y,i=n,this.set("target",r,i)):(r=e,i=t,this.set("target",r,i))},router:function(e,t,n){if(e===void 0){var r=this.get("router");return r?typeof r=="object"?Gr(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:n;return this.set("router",o,s)},connector:function(e,t,n){if(e===void 0){var r=this.get("connector");return r?typeof r=="object"?Gr(r):r:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:n;return this.set("connector",o,s)},label:function(e,t,n){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){let{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var i=e[r],o=this._normalizeVertex(i);n.push(o)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return r.splice(e,0,o),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){var t=!Tt(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(i){return k(i).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!pt(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var o=this.vertices();return o.length>0&&(n.vertices=o.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new k(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new k(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){let e=[this.getSourcePoint(),...this.vertices().map(k),this.getTargetPoint()];return new ft(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?t=r:r.isEmbeddedIn(n)?t=n:t=this.graph.getCommonAncestor(n,r)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var o=r===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){let{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){let{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=rn(e)||bn(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var n=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&n}});var u1=function(e){var t=Xn(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=sw,this.portLabelLayoutNamespace=aw,this._init(t)};u1.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},l=r.map(function(d){return d&&d.position&&d.position.args}),c=s[o](l,t,a),f={ports:r,result:[]};return je(c).reduce(function(d,v,I){var w=d.ports[I];return d.result.push({portId:w.id,portTransformation:v,labelTransformation:this._getPortLabelLayout(w,k(v),t),portAttrs:w.attrs,portSize:w.size,labelSize:w.label.size}),d}.bind(this),f),f.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(qe(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=je(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return Zt(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Ce({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=Zt({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=Zt({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=Ce({},n.size,t.size),t},_getZIndex:function(e,t){return bn(t.z)?t.z:bn(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return Zt({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n={},r;pt(e)?(r="fn",n.fn=e):rn(e)?r=e:e===void 0?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):qe(e)&&(r=e.name,Ce(n,e.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};var c1={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};je(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},r={};je(n.items).forEach(function(a){t[a.id]||(r[a.id]=!0)});var i=this.graph;if(i&&!ar(r)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){r[a.get("target").port]&&a.remove()});var s=i.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){r[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return Xn(this.prop("ports/items"))||[]},getGroupPorts:function(e){let t=je(this.prop(["ports","items"])).filter(n=>n.group===e);return Xn(t)},getPort:function(e){return Xn(je(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,de(this.size()));return t.reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(e){var t=qe(e)?e.id:e;return this._isValidPortId(t)?je(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!qe(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=Ce([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){let r=typeof e=="number"?e:this.getPortIndex(e);if(!qe(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");let i=Ce([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):rn(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],Tt(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var n=je(e.items);return n.forEach(function(r){typeof r!="object"&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),zr(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!qe(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Ce([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){let n=t||{},r=this.getPortIndex(e);if(r!==-1){let i=Ce([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},e.length===0)return this.this;r=Ce([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){let a=qe(s)?s.id:s;return o.id===a})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new u1(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!n.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},d1={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=JC(this.model._portSettingsData.getPorts(),"z"),o="auto";je(i[o]).forEach(function(f){var d=this._getPortElement(f);t.append(d),e.push(d)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a];if(l!==o){var c=parseInt(l,10);this._appendPorts(i[l],c,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=je(e).map(this._getPortElement,this);n[t]||t<0?ee(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){let n=this._portElementsCache[e];if(!n)return null;if(!t)return n.portContentElement.node;let r=n.portElement.node,i=n.portSelectors,[o=null]=this.findBySelector(t,r,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){sr(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,r,i;var o=ee(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),l=a.fragment;l.childNodes.length>1?t=ee("g").append(l):t=ee(l.firstChild),i=a.selectors}else t=ee(s),Array.isArray(t)&&(t=ee("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});let c=this._getPortLabelMarkup(e.label);if(Array.isArray(c)){let{fragment:D,selectors:M}=this.parseDOMJSON(c,o.node),T=D.childNodes.length;T>0&&(r=M,n=T===1?ee(D.firstChild):ee("g").append(D))}else n=ee(c),Array.isArray(n)&&(n=ee("g").append(n));var f;if(i&&r){for(var d in r)if(i[d]&&d!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=Ce({},i,r)}else f=i||r||{};let v="portRoot",I="labelRoot",w="labelText";if(v in f||(f[v]=t.node),n){let D=n.node;if(I in f||(f[I]=D),!(w in f)){let M=n.tagName()==="TEXT"?D:Array.from(D.querySelectorAll("text"));f[w]=M,r||(r={}),r[w]=M}}return o.append(t.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:n,portSelectors:f,portLabelSelectors:r,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=de(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var o=n[r],s=o.portId,a=this._portElementsCache[s]||{},l=o.portTransformation,c=o.labelTransformation;c&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,c.attrs,{rootBBox:new de(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,c,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new de(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(e,t,n){var r=ee.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}};var Pt=Jn.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Jn.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){let r=bn(t);n=(r?n:e)||{};let{parentRelative:i,deep:o,restrictedArea:s}=n,a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");let l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(r){if(a&&(e+=a.x,t+=a.y),o||s){let{x:l,y:c}=this.get("position");this.translate(e-l,t-c,n)}else this.set("position",{x:e,y:t},n);return this}else{let l=k(this.get("position"));return i?l.difference(a):l}},translate:function(e,t,n){if(e=e||0,t=t||0,e===0&&t===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,r.x+e,r.y+t,n);e=o.x-r.x,t=o.y-r.y}else{var s=this.getBBox({deep:!0}),a=r.x-s.x,l=r.y-s.y,c=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,r.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-s.height,r.y+t));e=c-r.x,t=f-r.y}var d={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(qe(n.transition)||(n.transition={}),this.transition("position",d,Ce({},n.transition,{valueFunction:dg.object})),sr(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",d,n),sr(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return e===void 0?{width:r.width,height:r.height}:(qe(e)&&(n=t,t=bn(e.height)?e.height:r.height,e=bn(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width;break}var i=En(this.get("angle")||0),o=this.getBBox(),s;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var l=o[["bottomLeft","corner","topRight","origin"][a]](),c=k(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,d=a*Math.PI/2;d+=Math.atan(a%2==0?t/e:e/t),d-=dn(i);var v=k.fromPolar(f,d,c);s=k(v).offset(e/-2,t/-2)}else switch(s=o.topLeft(),n.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},n),this.position(s.x,s.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){let{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");let n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&sr(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){let{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;let n=this.getParentCell();if(!n||!n.isElement())return this;let r=n.getEmbeddedCells().filter(i=>i.isElement());return r.length===0?this:(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:r},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){let t=this.graph.getCellsBBox(e.elements);if(!t)return;let{expandOnly:n,shrinkOnly:r}=e;if(n&&r)return;let{x:i,y:o,width:s,height:a}=t,{left:l,right:c,top:f,bottom:d}=Zr(e.padding);i-=l,o-=f,s+=l+c,a+=d+f;let v=new de(i,o,s,a);if(n)v=this.getBBox().union(v);else if(r){let I=this.getBBox().intersect(v);if(!I)return;v=I}this.set({position:{x:v.x,y:v.y},size:{width:v.width,height:v.height}},e)},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-o.width/2-s.x,l=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+l,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return En(this.get("angle")||0)},getBBox:function(e={}){let{graph:t,attributes:n}=this,{deep:r,rotate:i}=e;if(r&&t){let d=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return d.push(this),t.getCellsBBox(d,e)}let{angle:o=0,position:{x:s,y:a},size:{width:l,height:c}}=n,f=new de(s,a,l,c);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new k(a[o]).offset(n.origin()),c=this.angle();return c&&l.rotate(r,-c),l}});Ce(Pt.prototype,c1);var pz=ns.default.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Mr(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,r=n.cellNamespace,i=e.type==="link"?_t:go(r,e.type,".")||Pt,o=new i(e,t);return t.dry||(o.graph=n.graph),o},comparator:function(e){return e.get("z")||0}}),mg=ns.default.Model.extend({initialize:function(e,t){t=t||{};var n=new pz([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});ns.default.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=ns.default.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return typeof e=="object"?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Ur(r,"cells")),ns.default.Model.prototype.set.call(this,r,n)},clear:function(e){e=Ce({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(e);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof ns.default.Model?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!rn(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof ns.default.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=QC(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var n=je(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),sr(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var n=t.indirect,r=t.inbound,i=t.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=[],s={};i&&a(this,e),r&&l(this,e);function a(d,v){if(lr(d.getOutboundEdges(v.id),function(w,D){if(!s[D]){var M=d.getCell(D);o.push(M),s[D]=!0,n&&(r&&l(d,M),i&&a(d,M))}}.bind(d)),n&&v.isLink()){var I=v.getTargetCell();I&&I.isLink()&&(s[I.id]||(o.push(I),a(d,I)))}}function l(d,v){if(lr(d.getInboundEdges(v.id),function(w,D){if(!s[D]){var M=d.getCell(D);o.push(M),s[D]=!0,n&&(r&&l(d,M),i&&a(d,M))}}.bind(d)),n&&v.isLink()){var I=v.getSourceCell();I&&I.isLink()&&(s[I.id]||(o.push(I),l(d,I)))}}if(t.deep){var c=e.getEmbeddedCells({deep:!0}),f={};c.forEach(function(d){d.isElement()&&(f[d.id]=!0)}),c.forEach(function(d){d.isLink()||(i&&lr(this.getOutboundEdges(d.id),function(v,I){if(!s[I]){var w=this.getCell(I),{source:D,target:M}=w.attributes,T=D.id,B=M.id;if(!t.includeEnclosed&&T&&f[T]&&B&&f[B])return;o.push(this.getCell(I)),s[I]=!0}}.bind(this)),r&&lr(this.getInboundEdges(d.id),function(v,I){if(!s[I]){var w=this.getCell(I),{source:D,target:M}=w.attributes,T=D.id,B=M.id;if(!t.includeEnclosed&&T&&f[T]&&B&&f[B])return;o.push(this.getCell(I)),s[I]=!0}}.bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;n===void 0&&r===void 0&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce(function(a,l){var{source:c,target:f}=l.attributes,d=l.hasLoop(t);if(n&&Mr(c,"id")&&!a[c.id]){var v=this.getCell(c.id);v.isElement()&&(d||v&&v!==e&&(!t.deep||!v.isEmbeddedIn(e)))&&(a[c.id]=v)}if(r&&Mr(f,"id")&&!a[f.id]){var I=this.getCell(f.id);I.isElement()&&(d||I&&I!==e&&(!t.deep||!I.isEmbeddedIn(e)))&&(a[f.id]=I)}return a}.bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return je(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=je(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},Ce({},t,{outbound:!0})),n},cloneCells:fg,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],o=[];return je(e).forEach(function(s){if(r[s.id]||(n.push(s),r[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(l){r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(s){var{source:a,target:l}=s.attributes;if(a.id&&!r[a.id]){var c=this.getCell(a.id);n.push(c),r[c.id]=c,i.push(c)}if(l.id&&!r[l.id]){var f=this.getCell(l.id);n.push(this.getCell(l.id)),r[f.id]=f,i.push(f)}},this),i.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(l){var{source:c,target:f}=l.attributes;!r[l.id]&&c.id&&r[c.id]&&f.id&&r[f.id]&&(n.push(l),r[l.id]=l)})},this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},Ce({},t,{inbound:!0})),n},search:function(e,t,n){n=n||{},n.breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){let r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(r[s.id]||(r[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;let a=this.getNeighbors(s,n);for(let l=0,c=a.length;l<c;l++){let f=a[l];i[f.id]=i[s.id]+1,o.push(f)}}},dfs:function(e,t,n={}){let r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){let s=o.pop();if(r[s.id]||(r[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;let a=this.getNeighbors(s,n),l=o.length;for(let c=0,f=a.length;c<f;c++){let d=a[c];i[d.id]=i[s.id]+1,o.splice(l,0,d)}}},getSources:function(){var e=[];return lr(this._nodes,function(t,n){(!this._in[n]||ar(this._in[n]))&&e.push(this.getCell(n))}.bind(this)),e},getSinks:function(){var e=[];return lr(this._nodes,function(t,n){(!this._out[n]||ar(this._out[n]))&&e.push(this.getCell(n))}.bind(this)),e},isSource:function(e){return!this._in[e.id]||ar(this._in[e.id])},isSink:function(e){return!this._out[e.id]||ar(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){n=n||{};var r=n.inbound,i=n.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=!1;return this.getConnectedLinks(e,n).forEach(function(s){var{source:a,target:l}=s.attributes;if(r&&Mr(a,"id")&&a.id===t.id||i&&Mr(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){sr(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){let n=new de(e),{strict:r=!1}=t,i=r?"containsRect":"intersect";return this.getElements().filter(o=>n[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){let{searchBy:n="bbox"}=t,r=e.getBBox().rotateAroundCenter(e.angle());return(n==="bbox"?this.findModelsInArea(r):this.findModelsFromPoint(ld(r,n))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){let{rotate:n=!0}=t;return je(e).reduce(function(r,i){let o=i.getBBox({rotate:n});return o?r?r.union(o):o:r},null)},translate:function(e,t,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return sr(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);sr(n,"scale",o,s,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Ce({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Ce({},t,{batchName:e}))},hasActiveBatch:function(e){let t=this._batches,n;return arguments.length===0?n=Object.keys(t):Array.isArray(e)?n=e:n=[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),s=o.filter(function(a){var{source:l,target:c}=a.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&c&&c.id===r.id&&(!c.port||c.port===r.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});n1(mg.prototype,["resetCells","addCells","removeCells"],gg.cells);var na=Si(Gc(),1),ra=Si(qo(),1);var rs={},Er=na.default.View.extend({options:{},theme:null,themeClassNamePrefix:Vn("theme-"),requireSetThemeOverride:!1,defaultTheme:jn.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Ce({},this.options,e),na.default.View.call(this,e)},initialize:function(){rs[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Lt(this,"children")),e){var t=this.svgElement,n=ee.namespace[t?"svg":"xhtml"],r=ta(e,n);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&n.nodeType===1;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Lt(this,"el"));else{var e=Lt(this,"tagName"),t=Ce({},Lt(this,"attributes")),n=Ce({},Lt(this,"style"));this.id&&(t.id=Lt(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(ee.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof na.default.$?e:na.default.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=ee(this.el))},_ensureElClassName:function(){var e=Lt(this,"className");if(e){var t=Vn(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),rs[this.cid]=null,na.default.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&(0,ra.default)(e).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(e){return(0,ra.default)(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Lt(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return t===void 0?n?n[r]||{}:{}:(n||(n=e.data={}),n[r]||(n[r]={}),Ce(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Ce({},e[0])||{},n=e[1]&&Ce({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,na.default.View.extend.call(this,t,n)}}),f1="dbltap";if(ra.default.event&&!(f1 in ra.default.event.special)){let e=jn.doubleTapInterval,t=30;ra.default.event.special[f1]={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){let{handleObj:i,target:o}=n,s=ra.default.data(o),a=new Date().getTime(),l="lastTouch"in s?a-s.lastTouch:0;l<e&&l>t?(s.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):s.lastTouch=a}}}var ur={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},lw=Er.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Vn(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){let{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){let{el:t,pivotNodes:n}=this;e=+e,e||(e=0);let r=n[e];if(r)return r;r=n[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in n)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){let o=n[i];t.insertBefore(r,o.nextSibling)}else t.insertBefore(r,t.firstChild);return r},removePivots:function(){let{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}});var cw=Si(qo(),1);function cd(e){return e?Array.isArray(e)?e:[e]:[]}var _n=Er.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){let{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;let{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let n;if(typeof t=="string")[n]=e.findBySelector(t);else if(Tt(t)){let r=e.model.isLink(),{label:i=null,port:o,selector:s}=t;r&&i!==null?n=e.findLabelNode(i,s):!r&&o?n=e.findPortNode(o,s):[n]=e.findBySelector(s)}else t&&(n=ee.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){let{options:n}=this,{layer:r}=n,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?r?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){let{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s){this.update(t,a),this.transform();return}let{vel:l,paper:c}=t,{layer:f}=r;if(f){let d;o?(d=o,this.detachedTransformGroup=null):d=ee("g").addClass("highlight-transform").append(n),this.transformGroup=d,c.getLayerView(f).insertSortedNode(d.node,r.z)}else(!n.parentNode||n.nextSibling)&&l.append(n)},unmount(){let{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){let{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;let r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=r.multiply(i);e.attr("transform",ee.matrixToTransformString(o))},update(){let{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;let o=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){let{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){let t=Lt(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){let{cellView:e}=this;if(!e)return;let{model:t,paper:n}=e;Lt(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){let r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){let r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){let{cid:n}=e,{_views:r}=this,i=r[n];if(t===null){let o=[];if(!i)return o;for(let s in i){let a=i[s];a instanceof this&&o.push(a)}return o}else{if(!i)return null;if(t in i){let o=i[t];if(o instanceof this)return o}return null}},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");let i=_n.get(e,n);i&&i.remove();let o=new this(r);return o.id=n,this._addRef(e,n,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,n){let{cid:r}=e,{_views:i}=this,o=i[r];o||(o=i[r]={}),o[t]=n},_removeRef(e,t){let{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let o in i)return;delete r[n]}},remove(e,t=null){cd(this.get(e,t)).forEach(n=>{n.remove()})},removeAll(e,t=null){let{_views:n}=this;for(let r in n)for(let i in n[r]){let o=n[r][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,n=!1){cd(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){cd(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){cd(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){cd(this.get(e,t)).forEach(n=>n.mount())},uniqueId(e,t=""){return ee.ensureId(e)+JSON.stringify(t)}});var Yl={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},gz={TOOLS:"TOOLS"},$e=Er.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,i){e.push("type-"+i.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},n=0,r,i,o,s=Lt(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),r=0,i=l.length;r<i;r++){o=l[r];var c=e[o];c||(c=e[o]=1<<n++),t[a]|=c}}var f=Lt(this,"initFlag");for(Array.isArray(f)||(f=[f]),r=0,i=f.length;r<i;r++)o=f[r],e[o]||(e[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||Ko(this),Er.call(this,e)},initialize:function(){this.setFlags(),Er.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){let{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=ta(e),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(t){var s=this.selector;if(r[s])throw new Error("dia.CellView: ambiguous root selector.");r[s]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=pt(this.options.interactive)?this.options.interactive(this):this.options.interactive;return qe(t)&&t[e]!==!1||XC(t)&&t!==!1},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||e===".")return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return jn.useCSSSelectors?(0,cw.default)(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){let t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),r=this.getNodeMatrix(e);return ee.transformRect(t,n.multiply(r))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():ee.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return ee.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),n=ee.createSVGMatrix().translate(t.x,t.y);return n},getRootRotateMatrix:function(){var e=ee.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e},_notifyHighlight:function(e,t,n={}){let{el:r}=this,i;if(typeof t=="string"?[i=r]=this.findBySelector(t):[i=r]=this.$(t),n.partial=i!==r,n.type===void 0){let o;switch(!0){case n.embedding:o=Yl.EMBEDDING;break;case n.connecting:o=Yl.CONNECTING;break;case n.magnetAvailability:o=Yl.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=Yl.ELEMENT_AVAILABILITY;break;default:o=Yl.DEFAULT;break}n.type=o}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){let t=this.el,n=this.$(e)[0];n||(n=t);do{let r=n.getAttribute("magnet"),i=n===t;if((r||i)&&r!=="false")return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);let n=e.getAttribute(`${t}-selector`);if(n){let[r]=this.findBySelector(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return typeof t=="string"&&(n="> "+t),n;if(e){var r=ee(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(e,...t){var n=this.model,r=n.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:r};return o!=null&&(s.magnet=o),i!=null?(s.port=i,!n.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,n,r,i,o){let{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var l=a.call(s,e,this,t,new k(n,r),i,o,s);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,n=e.port,r=e.magnet,i=this.model,o;return n!=null&&i.isElement()&&i.hasPort(n)?o=this.findPortNode(n,r)||t:(r||(r=e.selector),!r&&n!=null&&(r='[port="'+n+'"]'),o=this.findBySelector(r,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");let i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=r.targetMagnet;if(s==="onleave"){if(l===a||ee(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,n)}},dragLinkEnd:function(e,t,n){var r=this.eventData(e),i=r.linkView;i&&(i.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){ar(t)||(e instanceof SVGElement?ee(e).attr(t):(0,cw.default)(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,o,s,a,l,c,f,d=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],i=this.getAttributeDefinition(n),i&&(!pt(i.qualify)||i.qualify.call(this,r,e,t,this))?(rn(i.set)&&(a||(a={}),a[i.set]=r),r!==null&&d.push(n,i)):(a||(a={}),a[GT(n)]=r));for(o=0,s=d.length;o<s;o+=2)n=d[o],i=d[o+1],r=t[n],pt(i.set)&&(l||(l={}),l[n]=r),pt(i.position)&&(c||(c={}),c[n]=r),pt(i.offset)&&(f||(f={}),f[n]=r);return{raw:t,normal:a,set:l,position:c,offset:f}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var i,o,s,a=t.raw||{},l=t.normal||{},c=t.set,f=t.position,d=t.offset;for(i in c){o=c[i],s=this.getAttributeDefinition(i);var v=s.set.call(this,o,n.clone(),e,a,this);qe(v)?Ce(l,v):v!==void 0&&(l[i]=v)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var I=l.transform,w=ee.transformStringToMatrix(I),D=k(w.e,w.f);I&&(l=Ur(l,"transform"),w.e=w.f=0);var M,T,B;if(f||d){var G=this.getNodeScale(e,r.scalableNode);M=G.sx,T=G.sy}var H=!1;for(i in f)o=f[i],s=this.getAttributeDefinition(i),B=s.position.call(this,o,n.clone(),e,a,this),B&&(D.offset(k(B).scale(M,T)),H||(H=!0));this.setNodeAttributes(e,l);var ne=!1;if(d){var g=this.getNodeBoundingRect(e);if(g.width>0&&g.height>0){var y=ee.transformRect(g,w).scale(1/M,1/T);for(i in d)o=d[i],s=this.getAttributeDefinition(i),B=s.offset.call(this,o,y,e,a,this),B&&(D.offset(k(B).scale(M,T)),ne||(ne=!0))}}(I!==void 0||H||ne)&&(D.round(1),w.e=D.x,w.f=D.y,e.setAttribute("transform",ee.matrixToTransformString(w)))},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=ee.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=ee(e).getBBox()),new de(t.boundingRect)},getNodeMatrix:function(e){let t=this.nodeCache(e);if(t.magnetMatrix===void 0){let{rotatableNode:n,el:r}=this,i;n&&n.contains(e)?i=n:i=r,t.magnetMatrix=ee(e).getTransformToElement(i)}return ee.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=ee(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,o,s,a,l={},c=[];for(var f in e)if(e.hasOwnProperty(f)&&(s=e[f],!!Tt(s))){var d=n[f]=this.findBySelector(f,t,r);for(i=0,o=d.length;i<o;i++){var v=d[i];a=ee.ensureId(v);var I=r&&r[f]===v,w=l[a];if(w){w.array||(c.push(a),w.array=!0,w.attributes=[w.attributes],w.selectedLength=[w.selectedLength]);var D=w.attributes,M=w.selectedLength;if(I)D.unshift(s),M.unshift(-1);else{var T=Qc(M,o);D.splice(T,0,s),M.splice(T,0,o)}}else l[a]={attributes:s,selectedLength:I?-1:o,node:v,array:!1}}}for(i=0,o=c.length;i<o;i++)a=c[i],s=l[a],s.attributes=Zt({},...s.attributes.reverse());return l},getEventTarget:function(e,t={}){let{target:n,type:r,clientX:i=0,clientY:o=0}=e;return t.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=de()),n.selectors||(n.selectors=this.selectors);var r={},i={},o=[],s=[],a,l,c,f,d,v=n.roAttributes,I=this.findNodesAttributes(v||t,e,r,n.selectors),w=v?this.findNodesAttributes(t,e,r,n.selectors):I;for(var D in I)if(f=I[D],c=f.attributes,l=f.node,d=this.processNodeAttributes(l,c),!d.set&&!d.position&&!d.offset)this.setNodeAttributes(l,d.normal);else{var M=w[D]&&w[D].attributes,T=M&&c.ref===void 0?M.ref:c.ref,B;if(T){if(B=(r[T]||this.findBySelector(T,e,n.selectors))[0],!B)throw new Error('dia.CellView: "'+T+'" reference does not exist.')}else B=null;if(a={node:l,refNode:B,processedAttributes:d,allAttributes:M},B){var G=s.findIndex(function(H){return H.refNode===l});G>-1?s.splice(G,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let H=0,ne=o.length;H<ne;H++){a=o[H],l=a.node,B=a.refNode;let g=B?ee.ensureId(B):"",y=i[g];y||(y=i[g]=B?ee(B).getBBox({target:mz(l,B)}):n.rootBBox),v?(d=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(d,a.processedAttributes)):d=a.processedAttributes,this.updateRelativeAttributes(l,d,y,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Ce(e.set,t.set),Ce(e.position,t.position),Ce(e.offset,t.offset);var n=e.normal&&e.normal.transform;n!==void 0&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),_n.mount(this))},onDetach(){this.unmountTools(),_n.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){let e=this._toolsView;return e&&e.unmount(),this},mountTools(){let e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){_n.remove(this)},updateHighlighters:function(e=!1){_n.update(this,null,e)},transformHighlighters:function(){_n.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){let{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){let{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){let{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){let{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){let o=n.getSourceElement();if(o){let a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}let s=n.getTargetElement();if(s){let a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}let r=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(r);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:gz,Highlighting:Yl,addPresentationAttributes:function(e){return Zt({},Lt(this.prototype,"presentationAttributes"),e,function(t,n){if(!(!t||!n)&&(typeof t=="string"&&(t=[t]),typeof n=="string"&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return zr(t.concat(n))})}});function mz(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}var gt={TOOLS:$e.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},$l={MOVE:"move",MAGNET:"magnet"},Kt=$e.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=$e.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){$e.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[gt.UPDATE],position:[gt.TRANSLATE,gt.TOOLS],size:[gt.RESIZE,gt.PORTS,gt.TOOLS],angle:[gt.ROTATE,gt.TOOLS],markup:[gt.RENDER],ports:[gt.PORTS]},initFlag:[gt.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){let{useCSSSelectors:n}=jn;this.hasFlag(e,gt.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,gt.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[gt.RENDER,gt.UPDATE,gt.RESIZE,gt.TRANSLATE,gt.ROTATE,gt.PORTS,gt.TOOLS]);else{let i=!1;this.hasFlag(e,gt.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[gt.RESIZE,gt.UPDATE]),n&&(e=this.removeFlag(e,gt.PORTS))),this.hasFlag(e,gt.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,gt.UPDATE),i=!0,n&&(e=this.removeFlag(e,gt.PORTS))),this.hasFlag(e,gt.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,gt.TRANSLATE),r=!0),this.hasFlag(e,gt.ROTATE)&&(this.rotate(),e=this.removeFlag(e,gt.ROTATE),r=!0),this.hasFlag(e,gt.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,gt.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,gt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,gt.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();let{useCSSSelectors:n}=jn;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new de(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=ee(n[this.rotatableSelector])||null,this.scalableNode=ee(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(ee(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),jn.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=r.width/(s.width||1),l=r.height/(s.height||1);i.attr("transform","scale("+a+","+l+")");var c=this.rotatableNode,f=c&&c.attr("transform");if(f){c.attr("transform",f+" rotate("+-n+","+r.width/2+","+r.height/2+")");var d=i.getBBox({target:this.paper.cells});t.set("position",{x:d.x,y:d.y},Ce({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){let t=e.model||this.model,r=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(c=>i[c.id]=c.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});let a=r.getElements().reduce((c,f)=>Math.max(c,f.attributes.z||0),0);s.forEach(c=>{c.attributes.z<=a&&c.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");let l=t.parent();l?(r.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,n,r){let i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:c}=o.options,f;pt(a)?f=je(a.call(s,this,t,n,r)):a==="pointer"?f=je(s.findModelsFromPoint({x:n,y:r})):f=s.findModelsUnderElement(i,{searchBy:a}),f=f.filter(I=>I instanceof Jn&&i.id!==I.id&&!I.isEmbeddedIn(i)),l&&(f=f.slice(-1));let d=null,v=e.candidateEmbedView;for(let I=f.length-1;I>=0;I--){let w=f[I];if(v&&v.model.id==w.id){d=v;break}else{let D=w.findView(o);if(!pt(c)||c.call(o,this,D)){d=D;break}}}d&&d!=v&&(this.clearEmbedding(e),e.candidateEmbedView=d.highlight(d.findProxyNode(null,"container"),{embedding:!0})),!d&&v&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){let t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{let{validateUnembedding:i}=r.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(r,this)){this._disallowUnembed(e);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){let{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,o=(e.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{let{initialParentId:s,initialPosition:a,initialZIndices:l}=e;if(a){let{x:f,y:d}=a;r.position(f,d,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{let d=o.getCell(f);d&&d.set("z",l[f],{ui:!0})});let c=o.getCell(s);c&&c.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);let n=e.getAttribute(`${t}-selector`);if(n){let r=this.findAttribute("port",e);if(r){let i=this.findPortNode(r,n);if(i)return i}else{let[i]=this.findBySelector(n);if(i)return i}}return e},notifyPointerdown(e,t,n){$e.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){$e.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),$e.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){$e.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){$e.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){$e.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){let r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointermove(e,i,t,n),o){case $l.MAGNET:this.dragMagnet(e,t,n);break;case $l.MOVE:(s||this).drag(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(e,t,n);break}this.eventData(e,r)},pointerup:function(e,t,n){let r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointerup(e,i,t,n),o){case $l.MAGNET:this.dragMagnetEnd(e,t,n);break;case $l.MOVE:(s||this).dragEnd(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(e,t,n)}i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){$e.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){$e.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){$e.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){$e.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){$e.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){let{currentTarget:r}=e;this.magnetpointerdown(e,r,t,n),this.eventData(e,{targetMagnet:r}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,r){this.notify("element:magnet:pointerdown",e,t,n,r)},magnetpointermove:function(e,t,n,r){this.notify("element:magnet:pointermove",e,t,n,r)},magnetpointerup:function(e,t,n,r){this.notify("element:magnet:pointerup",e,t,n,r)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:$l.MOVE,delegatedView:r});let i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){let{paper:r}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;let{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!r.options.validateMagnet.call(r,this,o,e)){i?this.dragStart(e,t,n):this.pointerdown(e,t,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,n),this.eventData(e,{action:$l.MAGNET})},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:c}=s,f=Ui(t+a.x,i),d=Ui(n+a.y,i);o.position(f,d,{restrictedArea:l,deep:!0,ui:!0}),r.options.embeddingMode&&(c||(this.prepareEmbedding(s),c=!0),this.processEmbedding(s,e,t,n)),this.eventData(e,{embedding:c})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:gt});Ce(Kt.prototype,d1);var Eg={};nn(Eg,{manhattan:()=>bg,metro:()=>kz,normal:()=>vz,oneSide:()=>yz,orthogonal:()=>wg,rightAngle:()=>Gz});var vz=function(e,t,n){return e};var yz=function(e,t,n){var r=t.side||"bottom",i=Zr(t.padding||40),o=n.sourceBBox,s=n.targetBBox,a=o.center(),l=s.center(),c,f,d;switch(r){case"bottom":d=1,c="y",f="height";break;case"top":d=-1,c="y",f="height";break;case"left":d=-1,c="x",f="width";break;case"right":d=1,c="x",f="width";break;default:throw new Error("Router: invalid side")}return a[c]+=d*(o[f]/2+i[r]),l[c]+=d*(s[f]/2+i[r]),d*(a[c]-l[c])>0?l[c]=a[c]:a[c]=l[c],[a].concat(e,l)};var Iz={N:"S",S:"N",E:"W",W:"E"},Cz={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Ig(e,t,n){var r=new k(e.x,t.y);return n.containsPoint(r)&&(r=new k(t.x,e.y)),r}function fw(e,t){return e[t==="W"||t==="E"?"width":"height"]}function cr(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function vg(e){return new de(e.x,e.y,0,0)}function Cg(e){var t=Zr(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function h1(e,t){return e.sourceBBox.clone().moveAndExpand(Cg(t))}function p1(e,t){return e.targetBBox.clone().moveAndExpand(Cg(t))}function wz(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=h1(e,t);return n.center()}function Az(e,t){if(e.targetAnchor)return e.targetAnchor;var n=p1(e,t);return n.center()}function g1(e,t,n){var r=new k(e.x,t.y),i=new k(t.x,e.y),o=cr(e,r),s=cr(e,i),a=Iz[n],l=o===n||o!==a&&(s===a||s!==n)?r:i;return{points:[l],direction:cr(l,t)}}function yg(e,t,n){var r=Ig(e,t,n);return{points:[r],direction:cr(r,t)}}function bz(e,t,n,r){var i={},o=[new k(e.x,t.y),new k(t.x,e.y)],s=o.filter(function(d){return!n.containsPoint(d)}),a=s.filter(function(d){return cr(d,e)!==r}),l;if(a.length>0)l=a.filter(function(d){return cr(e,d)===r}).pop(),l=l||a[0],i.points=[l],i.direction=cr(l,t);else{l=ed(o,s)[0];var c=new k(t).move(l,-fw(n,r)/2),f=Ig(c,e,n);i.points=[f,c],i.direction=cr(c,t)}return i}function xz(e,t,n,r){var i=yg(t,e,r),o=i.points[0];if(n.containsPoint(o)){i=yg(e,t,n);var s=i.points[0];if(r.containsPoint(s)){var a=new k(e).move(s,-fw(n,cr(e,s))/2),l=new k(t).move(o,-fw(r,cr(t,o))/2),c=new ge(a,l).midpoint(),f=yg(e,c,n),d=g1(c,t,f.direction);i.points=[f.points[0],d.points[0]],i.direction=d.direction}}return i}function dw(e,t,n,r,i){var o={},s=n.union(r).inflate(1),a=s.center().distance(t)>s.center().distance(e),l=a?t:e,c=a?e:t,f,d,v;return i?(f=k.fromPolar(s.width+s.height,Cz[i],l),f=s.pointNearestToPoint(f).move(f,-1)):f=s.pointNearestToPoint(l).move(l,1),d=Ig(f,c,s),f.round().equals(d.round())?(d=k.fromPolar(s.width+s.height,dn(f.theta(l))+Math.PI/2,c),d=s.pointNearestToPoint(d).move(c,1).round(),v=Ig(f,d,s),o.points=a?[d,v,f]:[f,v,d]):o.points=a?[d,f]:[f,d],o.direction=cr(a?f:d,t),o}function wg(e,t,n){var r=h1(n,t),i=p1(n,t),o=wz(n,t),s=Az(n,t);r=r.union(vg(o)),i=i.union(vg(s)),e=je(e).map(k),e.unshift(o),e.push(s);for(var a,l=[],c=0,f=e.length-1;c<f;c++){var d=null,v=e[c],I=e[c+1],w=!!cr(v,I);if(c===0)c+1===f?r.intersect(i.clone().inflate(1))?d=dw(v,I,r,i):w||(d=xz(v,I,r,i)):r.containsPoint(I)?d=dw(v,I,r,vg(I).moveAndExpand(Cg(t))):w||(d=yg(v,I,r));else if(c+1===f){var D=w&&cr(I,v)===a;i.containsPoint(v)||D?d=dw(v,I,vg(v).moveAndExpand(Cg(t)),i,a):w||(d=bz(v,I,i,a))}else w||(d=g1(v,I,a));d?(Array.prototype.push.apply(l,d.points),a=d.direction):a=cr(v,I),c+1<f&&l.push(I)}return l}var C1={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!pt(wg))throw new Error("Manhattan requires the orthogonal router as default fallback.");return wg(e,Ce({},C1,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function gw(e){this.map={},this.options=e,this.mapGridSize=100}gw.prototype.build=function(e,t){var n=this.options,r=je(n.excludeEnds).reduce(function(l,c){var f=t.get(c);if(f){var d=e.getCell(f.id);d&&l.push(d)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=Zl(i,o.getAncestors().map(function(l){return l.id})));var s=e.getCell(t.get("target").id);s&&(i=Zl(i,s.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return e.getElements().reduce(function(l,c){var f=je(n.excludeTypes).includes(c.get("type")),d=r.find(function(H){return H.id===c.id}),v=i.includes(c.id),I=f||d||v;if(!I)for(var w=c.getBBox().moveAndExpand(n.paddingBox),D=w.origin().snapToGrid(a),M=w.corner().snapToGrid(a),T=D.x;T<=M.x;T+=a)for(var B=D.y;B<=M.y;B+=a){var G=T+"@"+B;l[G]=l[G]||[],l[G].push(w)}return l},this.map),this};gw.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return je(this.map[t]).every(function(n){return!n.containsPoint(e)})};function ia(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}ia.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=Qc(this.items,e,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,e)};ia.prototype.remove=function(e){this.hash[e]=this.CLOSE};ia.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};ia.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};ia.prototype.isEmpty=function(){return this.items.length===0};ia.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function w1(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function A1(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function b1(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=w1(e,t);return n.center()}function Dz(e,t){if(e.targetAnchor)return e.targetAnchor;var n=A1(e,t);return n.center()}function hw(e,t,n,r,i){var o=360/n,s=e.theta(Mz(e,t,r,i)),a=En(s+o/2);return o*Math.floor(a/o)}function Mz(e,t,n,r){var i=r.step,o=t.x-e.x,s=t.y-e.y,a=o/n.x,l=s/n.y,c=a*i,f=l*i;return new k(e.x+c,e.y+f)}function m1(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function Ez(e,t,n){var r=n.step;je(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*t.x,i.gridOffsetY=i.offsetY/r*t.y})}function Sz(e,t,n){return{source:t.clone(),x:v1(n.x-t.x,e),y:v1(n.y-t.y,e)}}function v1(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);if(!r)return n;var i=r*t,o=n-i,s=o/r;return t+s}function Nz(e,t){var n=t.source,r=Ui(e.x-n.x,t.x)+n.x,i=Ui(e.y-n.y,t.y)+n.y;return new k(r,i)}function dd(e,t){return e.round(t)}function Ag(e,t,n){return dd(Nz(e.clone(),t),n)}function fd(e){return e.clone().toString()}function pw(e){return new k(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function Tz(e,t,n,r,i,o,s){for(var a=[],l=pw(i.difference(n)),c=fd(n),f=e[c],d;f;){d=t[c];var v=pw(d.difference(f));v.equals(l)||(a.unshift(d),l=v),c=fd(f),f=e[c]}var I=t[c],w=pw(I.difference(r));return w.equals(l)||a.unshift(I),a}function y1(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function I1(e,t,n,r,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),l=qe(s)?Object.keys(s):[],c=je(n),f=l.reduce(function(d,v){if(c.includes(v)){for(var I=s[v],w=new k(e.x+I.x*(Math.abs(a.x)+t.width),e.y+I.y*(Math.abs(a.y)+t.height)),D=new ge(e,w),M=D.intersect(t)||[],T=M.length,B,G=null,H=0;H<T;H++){var ne=M[H],g=e.squaredDistance(ne);(B===void 0||g>B)&&(B=g,G=ne)}if(G){var y=Ag(G,r,o);t.containsPoint(y)&&(y=Ag(y.offset(I.x*r.x,I.y*r.y),r,o)),d.push(y)}}return d},[]);return t.containsPoint(e)||f.push(Ag(e,r,o)),f}function _z(e,t,n,r){var i=r.precision,o,s;e instanceof de?o=dd(b1(this,r).clone(),i):o=dd(e.clone(),i),t instanceof de?s=dd(Dz(this,r).clone(),i):s=dd(t.clone(),i);var a=Sz(r.step,o,s),l,c,f,d;if(e instanceof de?(l=o,f=I1(l,e,r.startDirections,a,r)):(l=o,f=[l]),t instanceof de?(c=s,d=I1(s,t,r.endDirections,a,r)):(c=s,d=[c]),f=f.filter(_e=>!n(_e)),d=d.filter(_e=>!n(_e)),f.length>0&&d.length>0){for(var v=new ia,I={},w={},D={},M=0,T=f.length;M<T;M++){var B=f[M],G=fd(B);v.add(G,y1(B,d)),I[G]=B,D[G]=0}var H=r.previousDirectionAngle,ne=H===void 0,g,y,x=r.directions;Ez(x,a,r);for(var S=x.length,_=je(d).reduce(function(_e,mt){var A=fd(mt);return _e.push(A),_e},[]),j=r.maximumLoops;!v.isEmpty()&&j>0;){var V=v.pop(),Y=I[V],ue=w[V],pe=D[V],Z=ue===void 0,Q=Y.equals(l),X;Z?ne?Q?X=null:X=hw(l,Y,S,a,r):X=H:X=hw(ue,Y,S,a,r);var J=f.length===d.length;if(J){for(var ke=0;ke<f.length;ke++)if(!f[ke].equals(d[ke])){J=!1;break}}var Ne=Z&&J;if(!Ne&&_.indexOf(V)>=0)return r.previousDirectionAngle=X,Tz(w,I,Y,l,c,a,r);for(M=0;M<S;M++){g=x[M];var St=g.angle;if(y=m1(X,St),!(!(ne&&Q)&&y>r.maxAllowedDirectionChange)){var Ft=Ag(Y.clone().offset(g.gridOffsetX,g.gridOffsetY),a,i),xe=fd(Ft);if(!(v.isClose(xe)||n(Ft))){if(_.indexOf(xe)>=0){var Te=Ft.equals(c);if(!Te){var oe=hw(Ft,c,S,a,r),ie=m1(St,oe);if(ie>r.maxAllowedDirectionChange)continue}}var he=g.cost,Ze=Q?0:r.penalties[y],at=pe+he+Ze;(!v.isOpen(xe)||at<D[xe])&&(I[xe]=Ft,w[xe]=Y,D[xe]=at,v.add(xe,at+y1(Ft,d)))}}}j--}}return r.fallbackRoute.call(this,l,c,r)}function Pz(e){if(e.directions=Lt(e,"directions"),e.penalties=Lt(e,"penalties"),e.paddingBox=Lt(e,"paddingBox"),e.padding=Lt(e,"padding"),e.padding){var t=Zr(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}je(e.directions).forEach(function(n){var r=new k(0,0),i=new k(n.offsetX,n.offsetY);n.angle=En(r.theta(i))})}function Oz(e,t,n){Pz(t),n.options.perpendicular=!!t.perpendicular;var r=w1(n,t),i=A1(n,t),o=b1(n,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{let G=new gw(t);G.build(n.paper.model,n.model),s=H=>!G.isPointAccessible(H)}for(var a=je(e).map(k),l=[],c=o,f,d,v=0,I=a.length;v<=I;v++){var w=null;if(d=f||r,f=a[v],!f){f=i;var D=!n.model.get("source").id||!n.model.get("target").id;if(D&&pt(t.draggingRoute)){var M=d===r?o:d,T=f.origin();w=t.draggingRoute.call(n,M,T,t)}}if(w=w||_z.call(n,d,f,s,t),w===null)return t.fallbackRouter(e,t,n);var B=w[0];B&&B.equals(c)&&w.shift(),c=w[w.length-1]||c,Array.prototype.push.apply(l,w)}return l}var bg=function(e,t,n){return Oz(e,Ce({},C1,t),n)};var Rz={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(r%180>90){var a=o;o=s,s=a}var l=r%90<45?o:s,c=new ge(e,l),f=90*Math.ceil(r/90),d=k.fromPolar(c.squaredLength(),dn(f+135),l),v=new ge(t,d),I=c.intersection(v),w=I||t,D=I?w:e,M=360/n.directions.length,T=D.theta(t),B=En(T+M/2),G=M*Math.floor(B/M);return n.previousDirectionAngle=G,w&&i.push(w.round()),i.push(t),i}},kz=function(e,t,n){if(!pt(bg))throw new Error("Metro requires the manhattan router.");return bg(e,Ce({},Rz,t),n)};var ce={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},x1=[ce.LEFT,ce.RIGHT,ce.TOP,ce.BOTTOM],Xl={[ce.LEFT]:ce.RIGHT,[ce.RIGHT]:ce.LEFT,[ce.TOP]:ce.BOTTOM,[ce.BOTTOM]:ce.TOP},Lz=[ce.TOP,ce.BOTTOM],xg={0:ce.RIGHT,180:ce.LEFT,270:ce.TOP,90:ce.BOTTOM};function hd(e){return e.angle()}function Dg(e){return new ft(e).simplify({threshold:1}).points}function Mg(e,t){let{point:n,x0:r,y0:i,view:o,bbox:s,direction:a}=e,{point:l,x0:c,y0:f,view:d,bbox:v,direction:I}=t,w;if(o)o.model.isLink()?w=D1(l,n,o):a===ce.ANCHOR_SIDE?w=s.sideNearestToPoint(n):a===ce.MAGNET_SIDE?w=o.model.getBBox().sideNearestToPoint(n):w=a;else{let M=new de(r,i,0,0);w=x1.includes(a)?a:M.sideNearestToPoint(l)}let D;if(d)d.model.isLink()?D=D1(n,l,d):I===ce.ANCHOR_SIDE?D=v.sideNearestToPoint(l):I===ce.MAGNET_SIDE?D=d.model.getBBox().sideNearestToPoint(l):D=I;else{let M=new de(c,f,0,0);D=x1.includes(I)?I:M.sideNearestToPoint(n)}return[w,D]}function Fz(e,t,n){let{x0:r,y0:i,width:o,height:s,point:a,margin:l}=e,c=r+o,f=i+s,d=r-l,v=c+l,I=i-l,{x:w}=a,{x0:D,y0:M}=t;return D===w&&M<i?ce.BOTTOM:D<w&&M<I?ce.RIGHT:D>w&&M<I?ce.LEFT:D<d&&M>=i||D>v&&M>=i?ce.TOP:D>=d&&D<=w&&M>f||D<=v&&D>=w&&M>f?n.point.x<D?ce.RIGHT:ce.LEFT:ce.TOP}function jz(e,t,n){let{x0:r,y0:i,width:o,height:s,point:a,margin:l}=e,c=r+o,f=i+s,d=r-l,v=c+l,I=f+l,{x:w}=a,{x0:D,y0:M}=t;return D===w&&M>f?ce.TOP:D<w&&M>I?ce.RIGHT:D>w&&M>I?ce.LEFT:D<d&&M<=f||D>v&&M<=f?ce.BOTTOM:D>=d&&D<=w&&M<i||D<=v&&D>=w&&M<i?n.point.x<D?ce.RIGHT:ce.LEFT:ce.BOTTOM}function Bz(e,t,n){let{y0:r,x0:i,width:o,height:s,point:a,margin:l}=e,c=i+o,f=r+s,d=i-l,v=r-l,I=f+l,{x:w,y:D}=a,{x0:M,y0:T}=t;return M<w&&T===D?ce.RIGHT:M<=d&&T<D?ce.BOTTOM:M<=d&&T>D?ce.TOP:M>=i&&T<=v||M>=i&&T>=I?ce.LEFT:M>c&&T>=v&&T<=D||M>c&&T<=I&&T>=D?n.point.y<T?ce.BOTTOM:ce.TOP:ce.LEFT}function Vz(e,t,n){let{y0:r,x0:i,width:o,height:s,point:a,margin:l}=e,c=i+o,f=r+s,d=c+l,v=r-l,I=f+l,{x:w,y:D}=a,{x0:M,y0:T}=t;return M>w&&T===D?ce.LEFT:M>=d&&T<D?ce.BOTTOM:M>=d&&T>D?ce.TOP:M<=c&&T<=v||M<=c&&T>=I?ce.RIGHT:M<i&&T>=v&&T<=D||M<i&&T<=I&&T>=D?n.point.y<T?ce.BOTTOM:ce.TOP:ce.RIGHT}function zz(e,t,n){let[r]=Mg(e,t);switch(r){case ce.TOP:return Fz(e,t,n);case ce.RIGHT:return Vz(e,t,n);case ce.BOTTOM:return jz(e,t,n);case ce.LEFT:return Bz(e,t,n)}}function D1(e,t,n){let r=n.getTangentAtLength(n.getClosestPointLength(t)),i=Math.round(hd(r)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?ce.LEFT:ce.RIGHT;if(e.x===t.x)return e.y<t.y?ce.TOP:ce.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?ce.TOP:ce.BOTTOM;case 90:case 270:return e.x<t.x?ce.LEFT:ce.RIGHT}}function M1(e,t,n,r,i,o,s){r===ce.AUTO&&(r=i?ce.MAGNET_SIDE:ce.ANCHOR_SIDE);let a=e&&e.model.isElement(),{x:l,y:c,width:f=0,height:d=0}=a?de.fromRectUnion(n,e.model.getBBox()):o;return{point:t,x0:l,y0:c,view:e,bbox:n,width:f,height:d,direction:r,margin:a?s:0}}function mw({x:e,y:t}){let n=new k(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new de(e,t,0,0),width:0,height:0,direction:null,margin:0}}function E1(e,t,n){let r=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":r.x=i-n;break;case"right":r.x=i+s+n;break;case"top":r.y=o-n;break;case"bottom":r.y=o+a+n;break}return r}function is(e,t){let{point:n,x0:r,y0:i,view:o,width:s,height:a,margin:l}=e,{point:c,x0:f,y0:d,width:v,height:I,margin:w}=t,D=f+v,M=d+I,T=r+s,B=i+a,G=o&&o.model.isElement(),H=r-l,ne=T+l,g=i-l,y=B+l,x=f-w,S=D+w,_=d-w,j=M+w,[V,Y]=Mg(e,t),ue=E1(V,{point:n,x0:r,y0:i,width:s,height:a},l),pe=E1(Y,{point:c,x0:f,y0:d,width:v,height:I},w),{x:Z,y:Q}=ue,{x:X,y:J}=pe,ke=(f+D)/2,Ne=(d+M)/2,St=(r+T)/2,Ft=(i+B)/2,xe=(St<ke?T+f:D+r)/2,Te=(Ft<Ne?B+d:M+i)/2;if(V==="left"&&Y==="right"){if(H<=S){let ie=Te;return T<=f&&(M>=g&&J<Q?ie=Math.min(_,g):d<=y&&J>=Q&&(ie=Math.max(j,y))),[{x:Z,y:Q},{x:Z,y:ie},{x:X,y:ie},{x:X,y:J}]}let oe=(Z+X)/2;return[{x:oe,y:Q},{x:oe,y:J}]}else if(V==="right"&&Y==="left"){if(ne>=x){let ie=Te;return Z>D&&(M>=g&&J<Q?ie=Math.min(_,g):d<=y&&J>=Q&&(ie=Math.max(j,y))),[{x:Z,y:Q},{x:Z,y:ie},{x:X,y:ie},{x:X,y:J}]}let oe=(Z+X)/2;return[{x:oe,y:Q},{x:oe,y:J}]}else if(V==="top"&&Y==="bottom"){if(Q<J){let ie=xe,he=Q;return Q<d&&(D>=H&&X<Z?ie=Math.min(x,H):f<=ne&&X>=Z&&(ie=Math.max(S,ne))),[{x:Z,y:he},{x:ie,y:he},{x:ie,y:J},{x:X,y:J}]}let oe=(Q+J)/2;return[{x:Z,y:oe},{x:X,y:oe}]}else if(V==="bottom"&&Y==="top"){if(Q-l>J){let ie=xe,he=Q;return Q>M&&(D>=H&&X<Z?ie=Math.min(x,H):f<=ne&&X>=Z&&(ie=Math.max(S,ne))),[{x:Z,y:he},{x:ie,y:he},{x:ie,y:J},{x:X,y:J}]}let oe=(Q+J)/2;return[{x:Z,y:oe},{x:X,y:oe}]}else if(V==="top"&&Y==="top"){let oe,ie=Math.min((B+d)/2,J),he=Math.min((i+M)/2,Q);if(J<Q){if(Z>=S||Z<=x)return[{x:Z,y:Math.min(Q,J)},{x:X,y:Math.min(Q,J)}];X>Z?oe=Math.min(Z,x):oe=Math.max(Z,S)}else{if(X>=ne||X<=H)return[{x:Z,y:Math.min(Q,J)},{x:X,y:Math.min(Q,J)}];X>=Z?oe=Math.max(X,ne):oe=Math.min(X,H)}return[{x:Z,y:he},{x:oe,y:he},{x:oe,y:ie},{x:X,y:ie}]}else if(V==="bottom"&&Y==="bottom"){let oe,ie=Math.max((i+M)/2,J),he=Math.max((B+d)/2,Q);if(J>Q){if(Z>=S||Z<=x)return[{x:Z,y:Math.max(Q,J)},{x:X,y:Math.max(Q,J)}];X>Z?oe=Math.min(Z,x):oe=Math.max(Z,S)}else{if(X>=ne||X<=H)return[{x:Z,y:Math.max(Q,J)},{x:X,y:Math.max(Q,J)}];X>=Z?oe=Math.max(X,ne):oe=Math.min(X,H)}return[{x:Z,y:he},{x:oe,y:he},{x:oe,y:ie},{x:X,y:ie}]}else if(V==="left"&&Y==="left"){let oe,ie=Math.min((T+f)/2,X),he=Math.min((r+D)/2,Z);return X>Z?J<=Q?oe=Math.min(g,J):oe=Math.max(y,J):J>=Q?oe=Math.min(_,Q):oe=Math.max(j,Q),[{x:he,y:Q},{x:he,y:oe},{x:ie,y:oe},{x:ie,y:J}]}else if(V==="right"&&Y==="right"){let oe,ie=Math.max((r+D)/2,X),he=Math.max((T+f)/2,Z);return X<Z?J<=Q?oe=Math.min(g,J):oe=Math.max(y,J):J>=Q?oe=Math.min(_,Q):oe=Math.max(j,Q),[{x:he,y:Q},{x:he,y:oe},{x:ie,y:oe},{x:ie,y:J}]}else if(V==="top"&&Y==="right"){if(Q>J){if(Z<X){let ie=Te;return(ie>Ne||!G)&&ie<j&&Z<f&&(ie=_),[{x:Z,y:ie},{x:X,y:ie},{x:X,y:J}]}return[{x:Z,y:J}]}let oe=Math.max(xe,S);if(X<Z&&J>i&&J<B)return[{x:Z,y:Q},{x:oe,y:Q},{x:oe,y:J}];if(oe>H&&J>i||f>T){let ie=Math.min(i-l,d-w),he=Math.max(T+l,D+w);return[{x:Z,y:ie},{x:he,y:ie},{x:he,y:J}]}return[{x:Z,y:Q},{x:Math.max(oe,X),y:Q},{x:Math.max(oe,X),y:J}]}else if(V==="top"&&Y==="left"){if(Q>J){if(Z>X){let ie=Te;return(ie>Ne||!G)&&ie<j&&Z>D&&(ie=_),[{x:Z,y:ie},{x:X,y:ie},{x:X,y:J}]}return[{x:Z,y:J}]}let oe=Math.min(x,xe);if(Z<X&&B>=J)return[{x:Z,y:Q},{x:oe,y:Q},{x:oe,y:J}];if(oe<ne&&Q<M){let ie=Math.min(g,_),he=Math.min(H,x);return[{x:Z,y:ie},{x:he,y:ie},{x:he,y:J}]}return[{x:Z,y:Q},{x:oe,y:Q},{x:oe,y:J}]}else if(V==="bottom"&&Y==="right"){if(Q<J){if(Z<X){let ie=Te;return(ie<Ne||!G)&&ie>_&&Z<f&&(ie=j),[{x:Z,y:ie},{x:X,y:ie},{x:X,y:J}]}return[{x:Z,y:J}]}else if(r<X){let ie=Math.max(y,j),he=Math.max(ne,S);return[{x:Z,y:ie},{x:he,y:ie},{x:he,y:J}]}let oe=xe;return[{x:Z,y:Q},{x:oe,y:Q},{x:oe,y:J}]}else if(V==="bottom"&&Y==="left"){if(Q<J){if(Z>X){let ie=Te;return(ie<Ne||!G)&&ie>_&&Z>D&&(ie=j),[{x:Z,y:ie},{x:X,y:ie},{x:X,y:J}]}return[{x:Z,y:J}]}else if(T>X){let ie=Math.max(y,j),he=Math.min(H,x);return[{x:Z,y:ie},{x:he,y:ie},{x:he,y:J}]}let oe=xe;return[{x:Z,y:Q},{x:oe,y:Q},{x:oe,y:J}]}else if(V==="left"&&Y==="bottom"){if(Z>=X&&Q>=j)return[{x:X,y:Q}];if(Z>=D&&Q<J){let he=xe;return[{x:he,y:Q},{x:he,y:J},{x:X,y:J}]}if(X<T&&M<=i){let he=Te;return[{x:Z,y:Q},{x:Z,y:he},{x:X,y:he}]}let oe=Math.min(x,Z),ie=Math.max(y,j);return[{x:oe,y:Q},{x:oe,y:ie},{x:X,y:ie}]}else if(V==="left"&&Y==="top"){if(Z>X&&Q<_)return[{x:X,y:Q}];if(Z>=D&&Q>J){let he=xe;return[{x:he,y:Q},{x:he,y:J},{x:X,y:J}]}if(X<=T&&J>Q){let he=Te;return[{x:Z,y:Q},{x:Z,y:he},{x:X,y:he}]}let oe=J<Q?Math.min(H,x):H,ie=Math.min(g,_);return[{x:oe,y:Q},{x:oe,y:ie},{x:X,y:ie}]}else if(V==="right"&&Y==="top"){if(Z<=X&&Q<_)return[{x:X,y:Q}];if(T<f&&Q>J){let he=xe;return[{x:he,y:Q},{x:he,y:J},{x:X,y:J}]}if(X<Z&&d>B){let he=Te;return[{x:Z,y:Q},{x:Z,y:he},{x:X,y:he}]}let oe=Math.max(ne,S),ie=Math.min(g,_);return[{x:oe,y:Q},{x:oe,y:ie},{x:X,y:ie}]}else if(V==="right"&&Y==="bottom"){if(Z<=X&&Q>=j)return[{x:X,y:Q}];if(Z<=x&&Q<J){let he=xe;return[{x:he,y:Q},{x:he,y:J},{x:X,y:J}]}if(X>r&&M<i){let he=Te;return[{x:Z,y:Q},{x:Z,y:he},{x:X,y:he}]}let oe=Math.max(S,Z),ie=Math.max(y,j);return[{x:oe,y:Q},{x:oe,y:ie},{x:X,y:ie}]}}function S1(e,t,n){let{sourceDirection:r=ce.AUTO,targetDirection:i=ce.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!n.model.source().port,l=M1(n.sourceView,n.sourceAnchor,n.sourceBBox,r,a,n.sourceAnchor,o),c=!!n.model.target().port,f=M1(n.targetView,n.targetAnchor,n.targetBBox,i,c,n.targetAnchor,o),d=[];if(!s||e.length===0)return Dg(is(l,f));let v=e.map(D=>mw(D)),[I]=v;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(I.point)){let[D]=Mg(l,I),M=D,T=mw(l.point);T.margin=o,T.direction=D,I.direction=M,d.push(...is(T,I),I.point)}else{let D=v[1]||f,M=zz(l,I,D);I.direction=M,d.push(...is(l,I),I.point)}for(let D=0;D<v.length-1;D++){let M=v[D],T=v[D+1],B=new ge(M.point,T.point),G=hd(B);if(G%90===0){let g=xg[G],y=Xl[g];if(g!==M.direction)d.push(M.point,T.point),T.direction=y;else{let x=En(G-90),S=0,_=0;x===90?_=-o:x===180?S=-o:x===270?_=o:x===0&&(S=o);let j={x:M.point.x+S,y:M.point.y+_},V={x:T.point.x+S,y:T.point.y+_},Y=new ge(T.point,V);T.direction=xg[hd(Y)],d.push(M.point,j,V,T.point)}continue}let[H,ne]=vw(M,T);M.direction=H,T.direction=ne,d.push(...is(M,T),T.point)}let w=v[v.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(w.point)){let[D]=vw(w,f),M=mw(f.point),[,T]=Mg(w,f);M.margin=o,M.direction=T,w.direction=D,d.push(...is(w,M))}else{let D=Dg(d),M=new ge(D[D.length-2],w.point),T=xg[Math.round(hd(M))];w.direction=T;let B=is(w,f),[G,H]=Dg([...B,f.point]),ne=new ge(G,H),g=Math.round(hd(ne)),y=xg[g];y!==T&&T===Xl[y]&&(w.margin=o,B=is(w,f)),d.push(...B)}else{let[D]=vw(w,f);w.direction=D,d.push(...is(w,f))}return Dg(d)}function vw(e,t){let n=e.direction,r=Lz.includes(n),i=e.direction,o=t.direction;if(r){let s=e.point.y>t.point.y,a=t.point.x-e.point.x;n===ce.BOTTOM?(i=s?Xl[n]:a>=0?ce.RIGHT:ce.LEFT,a>0?o=s?ce.LEFT:ce.TOP:a<0&&(o=s?ce.RIGHT:ce.TOP)):(i=s?a>=0?ce.RIGHT:ce.LEFT:Xl[n],a>0?o=s?ce.BOTTOM:ce.LEFT:a<0&&(o=s?ce.BOTTOM:ce.RIGHT))}else{let s=e.point.x>t.point.x,a=t.point.y-e.point.y;n===ce.RIGHT?(i=s?Xl[n]:a>=0?ce.BOTTOM:ce.TOP,a>0?o=s?ce.TOP:ce.LEFT:a<0&&(o=s?ce.BOTTOM:ce.LEFT)):(i=s?a>=0?ce.BOTTOM:ce.TOP:Xl[n],a>0?o=s?ce.RIGHT:ce.TOP:a<0&&(o=s?ce.RIGHT:ce.BOTTOM))}return[i,o]}S1.Directions=ce;var Gz=S1;var Tg={};nn(Tg,{curve:()=>Cw,jumpover:()=>tG,normal:()=>nG,rounded:()=>oG,smooth:()=>sG,straight:()=>pd});var ql={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Uz=Object.values(ql),Zz=10,Wz=1,pd=function(e,t,n=[],r={}){let{cornerType:i=ql.POINT,cornerRadius:o=Zz,cornerPreserveAspectRatio:s=!1,precision:a=Wz,raw:l=!1}=r;if(Uz.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let c;if(i===ql.POINT||!o){let f=[e].concat(n).concat([t]),d=new ft(f);c=new be(d)}else{c=new be,c.appendSegment(be.createSegment("M",e));let f,d=n.length;for(let v=0;v<d;v++){let I=new k(n[v]),w=n[v-1]||e,D=n[v+1]||t,M=f||I.distance(w)/2;f=I.distance(D)/2;let T,B;s?T=B=-Math.min(o,M,f):(T=-Math.min(o,M),B=-Math.min(o,f));let G=I.clone().move(w,T).round(a),H=I.clone().move(D,B).round(a);switch(c.appendSegment(be.createSegment("L",G)),i){case ql.CUBIC:{let ne=.3333333333333333,g=2/3,y=new k(ne*G.x+g*I.x,g*I.y+ne*G.y),x=new k(ne*H.x+g*I.x,g*I.y+ne*H.y);c.appendSegment(be.createSegment("C",y,x,H));break}case ql.LINE:{c.appendSegment(be.createSegment("L",H));break}case ql.GAP:{c.appendSegment(be.createSegment("M",H));break}}}c.appendSegment(be.createSegment("L",t))}return l?c:c.serialize()};var Hz=5,N1=["arc","gap","cubic"],Yz=0,T1=1,$z=["smooth"],Sg=1/3,Ng=2/3;function _1(e,t){let{x:n,y:r}=e,{x:i,y:o}=t;if(n>i){let s=n;n=i,i=s,s=r,r=o,o=s}if(r>o){let s=n;n=i,i=s,s=r,r=o,o=s}return[new k(n,r),new k(i,o)]}function Xz(e,t){let[{x:n,y:r},{x:i,y:o}]=_1(e.start,e.end),[{x:s,y:a},{x:l,y:c}]=_1(t.start,t.end),f=n<=l&&s<=i,d=r<=c&&a<=o;return f&&d}function yw(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(i,o,s){var a=r[s+1];return a!=null&&(i[s]=lo(o,a)),i},[])}function qz(e){var t=e.paper,n=t._jumpOverUpdateList;if(n==null){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||Jz(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}function Jz(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){let r=t[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}function Qz(e,t){return je(t).reduce(function(n,r){var i=e.intersection(r);return i&&n.push(i),n},[])}function P1(e,t){return lo(e,t).squaredLength()}function Kz(e,t,n){return t.reduce(function(r,i,o){if(i.skip===!0)return r;var s=r.pop()||e,a=ul(i).move(s.start,-n),l=ul(i).move(s.start,+n),c=t[o+1];if(c!=null){var f=l.distance(c);f<=n&&(l=c.move(s.start,f),c.skip=!0)}else{var d=a.distance(s.end);if(d<n*2+T1)return r.push(s),r}var v=l.distance(s.start);if(v<n*2+T1)return r.push(s),r;var I=lo(a,l);return I.isJump=!0,r.push(lo(s.start,a),I,lo(l,s.end)),r},[])}function O1(e,t,n,r){var i=new be,o;return o=be.createSegment("M",e[0].start),i.appendSegment(o),je(e).forEach(function(s,a){if(s.isJump){var l,c,f,d;if(n==="arc"){l=-90,c=s.start.difference(s.end);var v=+(c.x<0||c.x===0&&c.y<0);v&&(l+=180);var I=s.midpoint(),w=new ge(I,s.end).rotate(I,l),D;D=new ge(s.start,I),f=D.pointAt(2/3).rotate(s.start,l),d=w.pointAt(1/3).rotate(w.end,-l),o=be.createSegment("C",f,d,w.end),i.appendSegment(o),D=new ge(I,s.end),f=w.pointAt(1/3).rotate(w.end,l),d=D.pointAt(1/3).rotate(s.end,-l),o=be.createSegment("C",f,d,s.end),i.appendSegment(o)}else if(n==="gap")o=be.createSegment("M",s.end),i.appendSegment(o);else if(n==="cubic"){l=s.start.theta(s.end);var M=t*.6,T=t*1.35;c=s.start.difference(s.end),v=+(c.x<0||c.x===0&&c.y<0),v&&(T*=-1),f=k(s.start.x+M,s.start.y+T).rotate(s.start,l),d=k(s.end.x-M,s.end.y+T).rotate(s.end,l),o=be.createSegment("C",f,d,s.end),i.appendSegment(o)}}else{var B=e[a+1];r==0||!B||B.isJump?(o=be.createSegment("L",s.end),i.appendSegment(o)):eG(r,i,s.end,s.start,B.end)}}),i}function eG(e,t,n,r,i){var o=n.distance(r)/2,s=n.distance(i)/2,a=-Math.min(e,o),l=-Math.min(e,s),c=n.clone().move(r,a).round(),f=n.clone().move(i,l).round(),d=new k(Sg*c.x+Ng*n.x,Ng*n.y+Sg*c.y),v=new k(Sg*f.x+Ng*n.x,Ng*n.y+Sg*f.y),I;I=be.createSegment("L",c),t.appendSegment(I),I=be.createSegment("C",d,v,f),t.appendSegment(I)}var tG=function(e,t,n,r){qz(this);var i=r.raw,o=r.size||Hz,s=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||Yz,l=r.ignoreConnectors||$z;N1.indexOf(s)===-1&&(s=N1[0]);var c=this.paper,f=c.model,d=f.getLinks();if(d.length===1)return O1(yw(e,t,n),o,s,a);var v=this.model,I=d.indexOf(v),w=c.options.defaultConnector||{},D=d.filter(function(ne,g){var y=ne.get("connector")||w;return je(l).includes(y.name)?!1:g>I?y.name!=="jumpover":!0}),M=D.map(function(ne){return c.findViewByModel(ne)}),T=yw(e,t,n),B=M.map(function(ne){return ne==null?[]:ne===this?T:yw(ne.sourcePoint,ne.targetPoint,ne.route)},this),G=T.reduce(function(ne,g){var y=D.reduce(function(x,S,_){if(S!==v){let j=B[_].slice(),V=j.findIndex(ue=>Xz(g,ue));V>-1&&g.containsPoint(j[V].end)&&j.splice(V+1,1);let Y=Qz(g,j);x.push.apply(x,Y)}return x},[]).sort(function(x,S){return P1(g.start,x)-P1(g.start,S)});return y.length>0?ne.push.apply(ne,Kz(g,y,o)):ne.push(g),ne},[]),H=O1(G,o,s,a);return i?H:H.serialize()};var nG=function(e,t,n=[],r={}){let{raw:i}=r;return pd(e,t,n,{cornerType:"point",raw:i})};var rG=10,iG=0,oG=function(e,t,n=[],r={}){let{radius:i=rG,raw:o}=r;return pd(e,t,n,{cornerType:"cubic",cornerRadius:i,precision:iG,raw:o})};var sG=function(e,t,n,r){var i=r&&r.raw,o;if(n&&n.length!==0){var s=[e].concat(n).concat([t]),a=ht.throughPoints(s);o=new be(a)}else{o=new be;var l;if(l=be.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var c=(e.x+t.x)/2;l=be.createSegment("C",c,e.y,c,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=be.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()};var ti={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},dr={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Cw=function(e,t,n=[],r={},i){let o=!!r.raw,{direction:s=ti.AUTO,precision:a=3}=r,l={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new k(r.sourceTangent):null,targetTangent:r.targetTangent?new k(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?l.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?l.sourceDirection=new k(1,0).rotate(null,r.sourceDirection):l.sourceDirection=r.sourceDirection?new k(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?l.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?l.targetDirection=new k(1,0).rotate(null,r.targetDirection):l.targetDirection=r.targetDirection?new k(r.targetDirection).normalize():null;let c=[e,...n,t].map(D=>new k(D)),f;if(l.sourceTangent)f=l.sourceTangent;else{let D=dG(i,c,s,l),M=c[0].distance(c[1])*l.coeff,T=c[1].difference(c[0]).normalize(),B=Iw(D,T);if(B>Math.PI/4){let G=M+(B-Math.PI/4)*l.angleTangentCoefficient;f=D.clone().scale(G,G)}else f=D.clone().scale(M,M)}let d;if(l.targetTangent)d=l.targetTangent;else{let D=fG(i,c,s,l),M=c.length-1,T=c[M-1].distance(c[M])*l.coeff,B=c[M-1].difference(c[M]).normalize(),G=Iw(D,B);if(G>Math.PI/4){let H=T+(G-Math.PI/4)*l.angleTangentCoefficient;d=D.clone().scale(H,H)}else d=D.clone().scale(T,T)}let I=pG(c,f,d,l).map(D=>gG(D,l)),w=new be(I).round(a);return o?w:w.serialize()};Cw.Directions=ti;Cw.TangentDirections=dr;function aG(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)r.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(r.center(),o),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"left":s=new k(-1,0);break;case"right":default:s=new k(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function lG(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)r.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(r.center(),o),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"left":s=new k(-1,0);break;case"right":default:s=new k(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function uG(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)r.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(r.center(),o),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":default:s=new k(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function cG(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)r.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(r.center(),o),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":default:s=new k(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function R1(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)i=r.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(r.center(),o),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":s=new k(0,1);break;case"right":s=new k(1,0);break;case"left":s=new k(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function k1(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)i=r.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(r.center(),o),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":s=new k(0,1);break;case"right":s=new k(1,0);break;case"left":s=new k(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function L1(e,t,n){return t[1].difference(t[0]).normalize()}function F1(e,t,n){let r=t.length-1;return t[r-1].difference(t[r]).normalize()}function j1(e,t,n){let{sourceBBox:r}=e,i=r.center();return t[0].difference(i).normalize()}function B1(e,t,n){let{targetBBox:r}=e,i=r.center();return t[t.length-1].difference(i).normalize()}function dG(e,t,n,r){if(r.sourceDirection)switch(r.sourceDirection){case dr.UP:return new k(0,-1);case dr.DOWN:return new k(0,1);case dr.LEFT:return new k(-1,0);case dr.RIGHT:return new k(1,0);case dr.AUTO:return R1(e,t,r);case dr.CLOSEST_POINT:return L1(e,t,r);case dr.OUTWARDS:return j1(e,t,r);default:return r.sourceDirection}switch(n){case ti.HORIZONTAL:return aG(e,t,r);case ti.VERTICAL:return uG(e,t,r);case ti.CLOSEST_POINT:return L1(e,t,r);case ti.OUTWARDS:return j1(e,t,r);case ti.AUTO:default:return R1(e,t,r)}}function fG(e,t,n,r){if(r.targetDirection)switch(r.targetDirection){case dr.UP:return new k(0,-1);case dr.DOWN:return new k(0,1);case dr.LEFT:return new k(-1,0);case dr.RIGHT:return new k(1,0);case dr.AUTO:return k1(e,t,r);case dr.CLOSEST_POINT:return F1(e,t,r);case dr.OUTWARDS:return B1(e,t,r);default:return r.targetDirection}switch(n){case ti.HORIZONTAL:return lG(e,t,r);case ti.VERTICAL:return cG(e,t,r);case ti.CLOSEST_POINT:return F1(e,t,r);case ti.OUTWARDS:return B1(e,t,r);case ti.AUTO:default:return k1(e,t,r)}}function hG(e,t){let n=Math.cos(t),r=Math.sin(t),i=n*e.x-r*e.y,o=r*e.x+n*e.y;e.x=i,e.y=o}function Iw(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function V1(e,t){return e.x*t.y-e.y*t.x}function pG(e,t,n,r){let{tau:i,coeff:o}=r,s=[],a=[],l=[],c=e.length-1;for(let f=0;f<c;f++)s[f]=e[f].distance(e[f+1]);a[0]=t,a[c]=n;for(let f=1;f<c;f++){let d,v;f===1?d=e[f-1].clone().offset(a[f-1].x,a[f-1].y):d=e[f-1].clone(),f===c-1?v=e[f+1].clone().offset(a[f+1].x,a[f+1].y):v=e[f+1].clone();let I=d.difference(e[f]).normalize(),w=v.difference(e[f]).normalize(),D=Iw(I,w),M=(Math.PI-D)/2,T,B=V1(I,w),G;G=V1(e[f].difference(e[f+1]),e[f].difference(e[f-1])),B<0&&(M=-M),D<Math.PI/2&&(M<0&&G<0||M>0&&G>0)&&(M=M-Math.PI),T=w.clone(),hG(T,M);let H=T.clone(),ne=T.clone(),g=s[f-1]*o,y=s[f]*o;H.scale(g,g),ne.scale(y,y),a[f]=[H,ne]}for(let f=0;f<c;f++){let d,v;f===0?d=e[f+1].difference(a[f].x/i,a[f].y/i):d=e[f+1].difference(a[f][1].x/i,a[f][1].y/i),f===c-1?v=e[f].clone().offset(a[f+1].x/i,a[f+1].y/i):v=e[f].difference(a[f+1][0].x/i,a[f+1][0].y/i),l[f]=[d,e[f],e[f+1],v]}return l}function gG(e,t){let{tau:n}=t,r=new k;r.x=e[1].x+(e[2].x-e[0].x)/(6*n),r.y=e[1].y+(e[2].y-e[0].y)/(6*n);let i=new k;return i.x=e[2].x+(e[3].x-e[1].x)/(6*n),i.y=e[2].y+(e[3].y-e[1].y)/(6*n),new ht(e[1],r,i,e[2])}var Jl=Si(qo(),1),Ge={TOOLS:$e.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},oa=$e.extend({className:function(){var e=$e.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){$e.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Ge.RENDER],attrs:[Ge.UPDATE],router:[Ge.UPDATE],connector:[Ge.CONNECTOR],smooth:[Ge.UPDATE],manhattan:[Ge.UPDATE],toolMarkup:[Ge.LEGACY_TOOLS],labels:[Ge.LABELS],labelMarkup:[Ge.LABELS],vertices:[Ge.VERTICES,Ge.UPDATE],vertexMarkup:[Ge.VERTICES],source:[Ge.SOURCE,Ge.UPDATE],target:[Ge.TARGET,Ge.UPDATE]},initFlag:[Ge.RENDER,Ge.SOURCE,Ge.TARGET,Ge.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Ge.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Ge.SOURCE)}if(this.hasFlag(e,Ge.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Ge.TARGET)}let{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,Ge.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[Ge.RENDER,Ge.UPDATE,Ge.VERTICES,Ge.LABELS,Ge.TOOLS,Ge.LEGACY_TOOLS,Ge.CONNECTOR]),e;let o=!1;this.hasFlag(e,Ge.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Ge.VERTICES));let{model:s}=this,{attributes:a}=s,l=this.hasFlag(e,Ge.LABELS),c=this.hasFlag(e,Ge.LEGACY_TOOLS);l&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,Ge.LABELS),o=!0),c&&(this.renderTools(),e=this.removeFlag(e,Ge.LEGACY_TOOLS));let f=this.hasFlag(e,Ge.UPDATE),d=this.hasFlag(e,Ge.CONNECTOR);return(f||d)&&(f?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Ge.UPDATE,Ge.TOOLS,Ge.CONNECTOR]),l=!1,c=!1,o=!0),l&&this.updateLabelPositions(),c&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,Ge.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Ge.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Ge.UPDATE),e)},isLabelsRenderRequired:function(e={}){let t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1){var i=!!t[n[1]];if(i){if(r===2)return"markup"in Object(e.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=ee(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var o=t[r],s=o.attr("class");s&&(s=BT(s),n[Jl.default.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=ee(e),n=document.createDocumentFragment();if(!Array.isArray(t))n.appendChild(t.node);else for(var r=0,i=t.length;r<i;r++){var o=t[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=ee("g").append(t):n=ee(r[0]),n.addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=ee("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(Vn(Lt(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var l=o[a],c=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,d;if(c)f=c.node,d=c.selectors;else{var v=i._builtins.defaultLabel,I=this._normalizeLabelMarkup(this._getLabelMarkup(v.markup)),w=i._getDefaultLabel(),D=this._normalizeLabelMarkup(this._getLabelMarkup(w.markup)),M=D||I;f=M.node,d=M.selectors}f.setAttribute("label-idx",a),t.append(f),n[a]=f;var T=this.selector;if(d[T])throw new Error("dia.LinkView: ambiguous label root selector.");d[T]=f,r[a]=d}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){let{el:e,paper:t,model:n,_V:r,options:i}=this,{labels:o}=r;if(!o||!n.hasLabels())return;let{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,n.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){let{options:e,_V:t}=this;if(!t)return;let{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNode:function(e,t){let n=this._labelCache[e];if(!n)return null;let r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){return t===null?null:t===void 0?n===null?null:n===void 0?e?void 0:r:e?n:Zt({},r,n):e?Zt({},n,t):Zt({},r,n,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:Zt({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),r=e._builtins.defaultLabel,i=r.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,l=o.size,c=0,f=t.length;c<f;c++){var d=this._labelCache[c];d.setAttribute("cursor",n?"move":"default");var v=this._labelSelectors[c],I=t[c],w=I.markup,D=I.attrs,M=I.size,T=this._mergeLabelAttrs(w||s,D,a,i),B=this._mergeLabelSize(M,l);this.updateDOMSubtreeAttributes(d,T,{rootBBox:new de(B),selectors:v})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=(0,Jl.default)(this._V.linkTools.node).empty(),t=qn(this.model.get("toolMarkup")||this.model.toolMarkup),n=ee(t());if(e.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var r;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=qn(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=ee(t())):r=n.clone(),e.append(r.node),this._tool2Cache=r}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=(0,Jl.default)(this._V.markerVertices.node).empty(),t=qn(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(ee(t(Ce({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=(0,Jl.default)(this._V.markerArrowheads.node);e.empty();var t=qn(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=ee(t({end:"source"})),this._V.targetArrowhead=ee(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){let n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,s=new ft(i);s.simplify({threshold:.001});let a=s.points.map(c=>c.toJSON()),l=a.length;return o===l?0:(n.vertices(a.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new k(this.sourceAnchor);case"target":return new k(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new k(this.sourcePoint);case"target":return new k(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){let{route:n,path:r}=this;if(!n||!r)return;let i=new ft(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){let{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){let{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,r,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){let{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var r=e[0],i=e[e.length-1],o=this._markerCache,s,a;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=k(t).move(r||n,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=k(n).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||n.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,n,r){var i,o,s,a,l=this.model,c=l.get(e),f=l.get(n),d=this.getEndView(e),v=this.getEndView(n),I=this.getEndMagnet(e),w=this.getEndMagnet(n);d?(t?s=new k(t):v?s=w:s=new k(f),i=this.getAnchor(c.anchor,d,I,s,e)):i=new k(c),v?(a=new k(r||i),o=this.getAnchor(f.anchor,v,w,a,n)):o=new k(f);var D={};return D[e]=i,D[n]=o,D},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var r=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),l=this.sourceView,c=this.targetView,f=this.paper.options,d,v,I;if(l&&!l.isNodeConnection(this.sourceMagnet)){d=this.sourceMagnet||l.el;var w=s.connectionPoint||f.defaultConnectionPoint,D=r||n,M=new ge(D,t);I=this.getConnectionPoint(w,l,d,M,"source")}else I=t;var T;if(c&&!c.isNodeConnection(this.targetMagnet)){v=this.targetMagnet||c.el;var B=a.connectionPoint||f.defaultConnectionPoint,G=i||t,H=new ge(G,n);T=this.getConnectionPoint(B,c,v,H,"target")}else T=n;return{source:I,target:T}},getAnchor:function(e,t,n,r,i){var o=t.isNodeConnection(n),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var l=e.name,c=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[c][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var f=a.call(this,t,n,r,e.args||{},i,this);return f?f.round(this.decimalsRounding):new k},getConnectionPoint:function(e,t,n,r,i){var o,s=r.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var l=n===t.el?void 0:n;if(o=a.linkConnectionPoint(this,t,l,r.start,i),o)return o}if(!e)return s;var c;if(typeof e=="function")c=e;else{var f=e.name;if(c=a.connectionPointNamespace[f],typeof c!="function")throw new Error("Unknown connection point: "+f)}return o=c.call(this,r,t,n,e.args||{},i,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,n=t.position,r=e._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return Zt({},n,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:Zt({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,o=n.length;i<o;i++){var s=this._labelCache[i];if(s){var a=n[i],l=this._normalizeLabelPosition(a.position),c=this._mergeLabelPositionProperty(l,r),f=this._getLabelTransformationMatrix(c);s.setAttribute("transform",ee.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){let{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){let{id:o}=r[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;r=this.getPointAtLength(n-i),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Jl.default.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){let{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[r]=null,this.updateEndMagnet(e),!0;let s=n.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");let a=s.findView(n);return a?(this[r]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){let t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=je(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:Zt({},t,e)},addLabel:function(e,t,n,r){var i,o,s=0,a;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(s=t,a=n):a=t):(i=e,o=t,typeof n=="number"?(s=n,a=r):a=n);var l=this._getDefaultLabelPositionArgs(),c=a,f=this._mergeLabelPositionArgs(c,l),d={position:this.getLabelPosition(i,o,s,f)},v=-1;return this.model.insertLabel(v,d,a),v},addVertex:function(e,t,n){var r=typeof e!="number",i=r?e.x:e,o=r?e.y:t,s=r?t:n,a={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,n){function r(d,v){return function(){d.remove(),typeof v=="function"&&v()}}var i,o,s;qe(t)?(i=t.duration,o=t.direction==="reverse",s=t.connection):(i=t,o=!1,s=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=ee(e),c;if(typeof s=="string")c=this.findBySelector(s,this.el,this.selectors)[0];else{var f=this._V;c=f.connection?f.connection.node:this.el.querySelector("path")}if(!(c instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,c),setTimeout(r(l,n),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||Eg,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return e.map(k);var i=pt(n)?n:t[n.name];if(!pt(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var o=n.args||{},s=i.call(this,e,o,this);return s||e.map(k)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||Tg,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var s=pt(i)?i:r[i.name];if(!pt(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=Gr(i.args||{});a.raw=!0;var l=s.call(this,t,n,e,a,this);return typeof l=="string"&&(l=new be(ee.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(vn(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var i={},o=0,s;typeof n=="number"?(o=n,s=r):s=n,s&&(i.args=s);var a=!(s&&s.absoluteDistance),l=s&&s.absoluteDistance&&s.reverseDistance,c=s&&s.absoluteOffset,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},v=new k(e,t),I=f.closestPointT(v,d),w=f.lengthAtT(I,d);a&&(w=w/this.getConnectionLength()||0),l&&(w=-1*(this.getConnectionLength()-w)||1),i.distance=w;var D;c||(D=f.tangentAtT(I));var M;if(D)M=D.pointOffset(v);else{var T=f.pointAtT(I),B=v.difference(T);M={x:B.x,y:B.y}}return i.offset=M,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")r=e.args||{},t=e.distance,n=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l=s.x!==0||s.y!==0||o===0,c=r.keepGradient,f=r.ensureLegibility,d=this.path,v={segmentSubdivisions:this.getConnectionSubdivisions()},I=i?t*this.getConnectionLength():t,w=d.tangentAtLength(I,v),D,M=n;if(w){if(l)D=w.start.clone(),D.offset(s);else{var T=w.clone();T.rotate(w.start,-90),T.setLength(o),D=T.end}c&&(M=w.angle()+n,f&&(M=En((M+90)%180-90)))}else D=d.start.clone(),l&&D.offset(s);return ee.createSVGMatrix().translate(D.x,D.y).rotate(M)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new k(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model,r=n.vertices(),i=this.getClosestPointLength(new k(e,t)),o=0,s=r.length;o<s;o++){var a=r[o],l=this.getClosestPointLength(a);if(i<l)break}return o},notifyPointerdown(e,t,n){$e.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){$e.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),$e.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){$e.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){$e.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){$e.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n);var r=e.target.getAttribute("class");switch(r){case"marker-vertex":this.dragVertexStart(e,t,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,n);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,n);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;r&&this.eventData(e,r);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n);break}r&&Ce(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;r&&(this.eventData(e,r),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){$e.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){$e.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){$e.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){$e.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){$e.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){var i=ee(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,n,r);this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else $e.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n);var r=this.eventData(e).stopPropagation;r&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var r=e.currentTarget,i=parseInt(r.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),l=this.getLabelCoordinates(a),c=l.x-t,f=l.y-n,d=this._getLabelPositionAngle(i),v=this._getLabelPositionArgs(i),I=this._getDefaultLabelPositionArgs(),w=this._mergeLabelPositionArgs(v,I);this.eventData(e,{action:"label-move",labelIdx:i,dx:c,dy:f,positionAngle:d,positionArgs:w,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var r=e.target,i=r.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;let o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(r.labelIdx,i,o)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n),o=i&&!_t.endsEqual(r,i);if(o){var s=this.paper;r.id&&this.notify("link:disconnect",t,s.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let r=null,i=1/0,o=null,s=1/0,a=e.x,l=e.y;for(let c=0;c<t.length;c++){let f=Math.abs(t[c].x-e.x);f<i&&(i=f,r=t[c]);let d=Math.abs(t[c].y-e.y);d<s&&(s=d,o=t[c])}return i<n&&(a=r.x),s<n&&(l=o.y),{x:a,y:l}},_snapArrowheadSelf:function(e,t,n){let{paper:r,model:i}=this,{snapLinksSelf:o}=r.options,s=this.eventData(e),a=o.radius||20,l=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),c=i.vertices(),f=[l,...c],d=this._snapToPoints({x:t,y:n},f,a),v=r.localToClientPoint(d);this._connectArrowhead(document.elementFromPoint(v.x,v.y),d.x,d.y,this.eventData(e))},_snapArrowhead:function(e,t,n){let{paper:r}=this,{snapLinks:i,connectionStrategy:o}=r.options,s=this.eventData(e),a=!1;var l=i.radius||50,c=r.findViewsInArea({x:t-l,y:n-l,width:2*l,height:2*l}),f=s.closestView||null,d=s.closestMagnet||null,v=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var I=Number.MAX_VALUE,w=new k(t,n);c.forEach(function(ne){let g=[];ne.el.getAttribute("magnet")!=="false"&&g.push({bbox:ne.model.getBBox(),magnet:ne.el}),ne.$("[magnet]").toArray().forEach(y=>{g.push({bbox:ne.getNodeBBox(y),magnet:y})}),g.forEach(y=>{let{magnet:x,bbox:S}=y,_=S.center().squaredDistance(w);_<I&&(d===x||r.options.validateConnection.apply(r,s.validateConnectionArgs(ne,ne.el===x?null:x)))&&(I=_,s.closestView=ne,s.closestMagnet=x)})},this);var D,M=null,T=s.closestView,B=s.closestMagnet;B&&(M=s.magnetProxy=T.findProxyNode(B,"highlighter"));var G=s.arrowhead,H=d!==B;if(f&&H&&f.unhighlight(v,{connecting:!0,snapping:!0}),T){let{prevEnd:ne,prevX:g,prevY:y}=s;if(s.prevX=t,s.prevY=n,a=!0,!H&&(typeof o!="function"||g===t&&y===n)||(D=T.getLinkEnd(B,t,n,this.model,G),!H&&Hi(ne,D)))return a;s.prevEnd=D,H&&T.highlight(M,{connecting:!0,snapping:!0})}else D={x:t,y:n};return this.model.set(G,D||{x:t,y:n},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,d,G),T&&this.notify("link:snap:connect",e,T,B,G),a},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){let{paper:i,model:o}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});let s=r.viewUnderPointer=i.findView(e);if(s){let a=r.magnetUnderPointer=s.findMagnet(e),l=r.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(s,a))?l&&s.highlight(l,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,o.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){let{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});let l=i.getLinkEnd(o,t,n,r,a);r.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,i=0;e==="source"?(r=2,n="target"):(i=2,n="source");var o=this.model.get(n);if(o.id){var s=t[r]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[r+1]=a}function l(c,f){return t[i]=c,t[i+1]=c.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(d,v){var I=d.paper,w=I.options.validateConnection;return w.apply(I,this.validateConnectionArgs(d,v))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,o=r.length;i<o;i++){var s=r[i].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var c=0,f=l.length;c<f;c++)s.highlight(l[c],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),n,r,i=0,o=t.length;i<o;i++){n=t[i],r=e.marked[n];var s=this.paper.findViewByModel(n);if(s){for(var a=0,l=r.length;a<l;a++)s.unhighlight(r[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Gr(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){$e.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){$e.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){$e.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Ge});Object.defineProperty(oa.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new de(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new de(this.sourceAnchor):e.getNodeBBox(n||e.el)}});Object.defineProperty(oa.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new de(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new de(this.targetAnchor):e.getNodeBBox(n||e.el)}});var _g={};nn(_g,{addClass:()=>CG,list:()=>wG,mask:()=>yG,opacity:()=>IG,stroke:()=>mG});var mG=_n.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){let{options:n}=this,{useFirstSubpath:r}=n,i;try{let o=ee(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&r){let s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{let s=e.getNodeBoundingRect(t);i=ee.rectToPath(Ce({},n,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){let{vel:n,options:r}=this,{padding:i,layer:o}=r,s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t),l=a.x+a.width/2,c=a.y+a.height/2;a=ee.transformRect(a,s);let f=Math.max(a.width,1),d=Math.max(a.height,1),v=(f+i)/f,I=(d+i)/d,w=ee.createSVGMatrix({a:v,b:0,c:0,d:I,e:l-v*l,f:c-I*c});s=s.multiply(w)}n.attr({d:this.getPathData(e,t),transform:ee.matrixToTransformString(s)})},highlight(e,t){let{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}});var z1=20;function vG(e,t){let n=e.children();for(;n.length>0;){let r=n.shift();t(r)&&n.push(...r.children())}}var yG=_n.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:z1,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){let{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!ee.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(r.includes(o)){let s=e.vel.findOne(`#${t.id}`);if(s){let{node:a}=s,l=e.getNodeBoundingRect(a);e.model.isElement()&&(l=ee.transformRect(l,e.getNodeMatrix(a)));let c=ee("rect",l.toJSON()),{x:f,y:d}=l.center(),{angle:v,cx:I=f,cy:w=d}=s.rotate();v&&c.rotate(v,I,w),t.parent().append(c)}return t.remove(),!1}return n.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){let{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){let{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,o=t.tagName(),s;if(o==="G"){if(!i)return null;s=t.clone(),vG(s,a=>this.transformMaskChild(e,a))}else{if(r.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){let{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,l=t.attr("fill")!=="none",c=parseFloat(t.attr("stroke-width"));isNaN(c)&&(c=1);let f=c+o*2,d=f+a*2,v=this.getMaskShape(e,t);if(!v){let I=e.getNodeBoundingRect(t.node);I.inflate(I.width?0:.5,I.height?0:.5),v=ee("rect",I.toJSON())}return v.attr(s),ee("mask",{id:this.getMaskId()}).append([v.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":d}),v.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":f})])},removeMask(e){let t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){let{options:n,vel:r}=this,{padding:i,attrs:o,maskClip:s=z1,layer:a}=n,l="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&r.remove();let c=e.getNodeBoundingRect(t).inflate(i+s),f=this.getNodeMatrix(e,t),d=this.getMask(e,ee(t));this.addMask(e.paper,d),r.attr(c.toJSON()),r.attr({transform:ee.matrixToTransformString(f),mask:`url(#${d.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}});var IG=_n.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Vn("highlight-opacity"),highlight:function(e,t){ee(t).addClass(this.opacityClassName)},unhighlight:function(e,t){ee(t).removeClass(this.opacityClassName)}});var G1=Vn("highlighted"),CG=_n.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:G1},highlight:function(e,t){ee(t).addClass(this.options.className)},unhighlight:function(e,t){ee(t).removeClass(this.options.className)}},{className:G1});var ww={ROW:"row",COLUMN:"column"},wG=_n.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){let n=e.model,{attribute:r,size:i=20,gap:o=5,direction:s=ww.ROW}=this.options;if(!r)throw new Error("List: attribute is required");let a=typeof i=="number"?{width:i,height:i}:i,l=s===ww.ROW,c=l?a.width:a.height,f=n.get(r);Array.isArray(f)||(f=[]);let d=this._prevItems||[],v=f.map((M,T)=>Hi(d[T],f[T]));if(d.length!==f.length||v.some(M=>!M)){let M=this.vel.children(),T=f.map((B,G)=>{let H=G in M?M[G].node:null;if(v[G])return H;let ne=this.createListItem(B,a,H);if(!ne)return null;if(!(ne instanceof SVGElement))throw new Error("List: item must be an SVGElement");ne.dataset.index=G,ne.dataset.attribute=r;let g=G*(c+o);return ne.setAttribute("transform",l?`translate(${g}, 0)`:`translate(0, ${g})`),ne});this.vel.empty().append(T),this._prevItems=f}let I=f.length,w=I===0?0:I*c+(I-1)*o,D=l?{width:w,height:a.height}:{width:a.width,height:w};this.position(n,D)},position(e,t){let{vel:n,options:r}=this,{margin:i=5,position:o="top-left"}=r,{width:s,height:a}=e.size(),{left:l,right:c,top:f,bottom:d}=Zr(i),v=new de(l,f,s-(l+c),a-(f+d)),{x:I,y:w}=ld(v,o);switch(o){case an.CENTER:case an.TOP:case an.BOTTOM:{I-=t.width/2;break}case an.RIGHT:case an.BOTTOM_RIGHT:case an.TOP_RIGHT:{I-=t.width;break}}switch(o){case an.CENTER:case an.RIGHT:case an.LEFT:{w-=t.height/2;break}case an.BOTTOM:case an.BOTTOM_RIGHT:case an.BOTTOM_LEFT:{w-=t.height;break}}n.attr("transform",`translate(${I}, ${w})`)}},{Directions:ww,Positions:an});var Pg={};nn(Pg,{connectionClosest:()=>Z1,connectionLength:()=>bG,connectionPerpendicular:()=>MG,connectionRatio:()=>AG,resolveRef:()=>Ql});function AG(e,t,n,r){var i="ratio"in r?r.ratio:.5;return e.getPointAtRatio(i)}function bG(e,t,n,r){var i="length"in r?r.length:20;return e.getPointAtLength(i)}function xG(e,t,n,r){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new ge(n.clone().offset(0,i),n.clone().offset(0,-i)),l=new ge(n.clone().offset(i,0),n.clone().offset(-i,0)),c=a.intersect(o,{segmentSubdivisions:s}),f=l.intersect(o,{segmentSubdivisions:s}),d=[];return c&&Array.prototype.push.apply(d,c),f&&Array.prototype.push.apply(d,f),d.length>0?n.chooseClosest(d):"fallbackAt"in r?U1(e,r.fallbackAt):Z1(e,t,n,r)}function DG(e,t,n,r){var i=e.getClosestPoint(n);return i||new k}function Ql(e){return function(t,n,r,i){if(r instanceof Element){var o=this.paper.findView(r),s;if(o)if(o.isNodeConnection(r)){var a="fixedAt"in i?i.fixedAt:"50%";s=U1(o,a)}else s=o.getNodeBBox(r).center();else s=new k;return e.call(this,t,n,s,i)}return e.apply(this,arguments)}}function U1(e,t){var n=parseFloat(t);return vn(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}var MG=Ql(xG),Z1=Ql(DG);var Rg={};nn(Rg,{anchor:()=>PG,bbox:()=>OG,boundary:()=>kG,rectangle:()=>RG});function Og(e,t,n){if(Tt(n)){let{x:i,y:o}=n;if(isFinite(o)){let s=new ge(t,e),{start:a,end:l}=s.parallel(o);t=a,e=l}n=i}if(!isFinite(n))return e;var r=e.distance(t);return n===0&&r>0?e:e.move(t,-Math.min(n,r-1))}function xw(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function EG(e,t,n=0){let r,i,o,s,{start:a,end:l}=e;switch(t){case"left":r="x",i=l,o=a,s=-1;break;case"right":r="x",i=a,o=l,s=1;break;case"top":r="y",i=l,o=a,s=-1;break;case"bottom":r="y",i=a,o=l,s=1;break;default:return}a[r]<l[r]?i[r]=o[r]:o[r]=i[r],isFinite(n)&&(i[r]+=s*n,o[r]+=s*n)}function SG(e,t,n,r){let{offset:i,alignOffset:o,align:s}=r;return s&&EG(e,s,o),Og(e.end,e.start,i)}function W1(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(xw(n)/2);var o=e.intersect(i),s=o?e.start.chooseClosest(o):e.end;return Og(s,e.start,r.offset)}function NG(e,t,n,r){var i=t.model.angle();if(i===0)return W1(e,t,n,r);var o=t.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(xw(n)/2);var s=o.center(),a=e.clone().rotate(s,i),l=a.setLength(1e6).intersect(o),c=l?a.start.chooseClosest(l).rotate(s,-i):e.end;return Og(c,e.start,r.offset)}function TG(e){if(!e)return null;var t=e;do{var n=t.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")t=t.firstElementChild;else if(n==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var Aw="segmentSubdivisons",bw="shapeBBox";function _G(e,t,n,r){var i,o,s=r.selector,a=e.end;if(typeof s=="string"?i=t.findBySelector(s)[0]:s===!1?i=n:Array.isArray(s)?i=go(n,s):i=TG(n),!ee.isSVGGraphicsElement(i)){if(i===n||!ee.isSVGGraphicsElement(n))return a;i=n}var l=t.getNodeShape(i),c=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),d=t.getRootRotateMatrix(),v=f.multiply(d).multiply(c),I=v.inverse(),w=ee.transformLine(e,I),D=w.start.clone(),M=t.getNodeData(i);if(r.insideout===!1){M[bw]||(M[bw]=l.bbox());var T=M[bw];if(T.containsPoint(D))return a}var B;if(l instanceof be){var G=r.precision||2;M[Aw]||(M[Aw]=l.getSegmentSubdivisions({precision:G})),B={precision:G,segmentSubdivisions:M[Aw]}}r.extrapolate===!0&&w.setLength(1e6),o=w.intersect(l,B),o?ee.isArray(o)&&(o=D.chooseClosest(o)):r.sticky===!0&&(l instanceof de?o=l.pointNearestToPoint(D):l instanceof An?o=l.intersectionWithLineFromCenterToPoint(D):o=l.closestPoint(D,B));var H=o?ee.transformPoint(o,v):a,ne=r.offset||0;return r.stroke&&(ne+=xw(i)/2),Og(H,e.start,ne)}var PG=SG,OG=W1,RG=NG,kG=_G;var kg={};nn(kg,{bottom:()=>zG,bottomLeft:()=>HG,bottomRight:()=>YG,center:()=>BG,left:()=>GG,midSide:()=>XG,modelCenter:()=>qG,perpendicular:()=>$G,right:()=>UG,top:()=>VG,topLeft:()=>ZG,topRight:()=>WG});function mo(e){return function(t,n,r,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),l=i.dx;if(l){var c=vn(l);l=parseFloat(l),isFinite(l)&&(c&&(l/=100,l*=s.width),a.x+=l)}var f=i.dy;if(f){var d=vn(f);f=parseFloat(f),isFinite(f)&&(d&&(f/=100,f*=s.height),a.y+=f)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function LG(e,t,n,r){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),c=r.padding;if(isFinite(c)||(c=0),a.y+c<=n.y&&n.y<=l.y-c){var f=n.y-s.y;s.x+=i===0||i===180?0:f*1/Math.tan(dn(i)),s.y+=f}else if(a.x+c<=n.x&&n.x<=l.x-c){var d=n.x-s.x;s.y+=i===90||i===270?0:d*Math.tan(dn(i)),s.x+=d}return s}function FG(e,t,n,r){var i=!!r.rotate,o,s,a;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var l=r.padding;isFinite(l)&&o.inflate(l),i&&n.rotate(a,s);var c=o.sideNearestToPoint(n),f;switch(c){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(a,-s):f}function jG(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)}var BG=mo("center"),VG=mo("topMiddle"),zG=mo("bottomMiddle"),GG=mo("leftMiddle"),UG=mo("rightMiddle"),ZG=mo("origin"),WG=mo("topRight"),HG=mo("bottomLeft"),YG=mo("corner"),$G=Ql(LG),XG=Ql(FG),qG=jG;var ni=Si(qo(),1),X1=Si(Gc(),1),Kl={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},JG=50,H1=20,Y1=1e3,QG=1/0,Lg=9007199254740991,Dw=$e.Highlighting,$1={[Dw.DEFAULT]:{name:"stroke",options:{padding:3}},[Dw.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[Dw.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},KG=[{name:ur.BACK},{name:ur.CELLS},{name:ur.LABELS},{name:ur.FRONT},{name:ur.TOOLS}],e5=Er.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Kt,linkView:oa,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:$1,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new _t,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,n,r,i,o){return(i==="target"?n:e)instanceof Kt},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Kl.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,r,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:_g,anchorNamespace:kg,linkAnchorNamespace:Pg,connectionPointNamespace:Rg,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){let{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Mr(joint,"shapes")?joint.shapes:null);let n=this.model=e.model||new mg;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=(0,ni.default)(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!bn(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){let r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===Kl.APPROX){let n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){let{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:l,interactive:c}=e;!l&&typeof joint<"u"&&Mr(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),pt(t)||(e.defaultConnector=Xn(t)),pt(n)||(e.defaultRouter=Xn(n)),pt(r)||(e.defaultConnectionPoint=Xn(r)),pt(i)||(e.defaultAnchor=Xn(i)),pt(o)||(e.defaultLinkAnchor=Xn(o)),Tt(c)&&(e.interactive=Ce({},c)),Tt(a)&&(e.highlighting=ea({},a,$1)),e.origin=Ce({},s)},children:function(){var e=ee.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:Vn("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:Vn("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Vn("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){let{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();let{childNodes:e,options:t}=this,{svg:n,defs:r,layers:i,background:o,grid:s}=e;return n.style.overflow=t.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=(0,ni.default)(o),this.$grid=(0,ni.default)(s),this.renderLayers(),ee.ensureId(n),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=KG){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{let s=new lw({name:i});this.layers.appendChild(s.el),this._layers[i]=s});let t=this.getLayerView(ur.CELLS),n=this.getLayerView(ur.TOOLS),r=this.getLayerView(ur.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(Vn("viewport")),r.vel.addClass(Vn("viewport"))},removeLayers:function(){let{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){let{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),ee.createSVGMatrix(e)}e=ee.createSVGMatrix(e);var r=ee.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return ee.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof $e)for(var r=e.model,i=this.model.getConnectedLinks(r),o=0,s=i.length;o<s;o++){var a=i[o],l=this.findViewByModel(a);if(l){var c=["UPDATE"];a.getTargetCell()===r&&c.push("TARGET"),a.getSourceCell()===r&&c.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(c),f,n)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof $e))return!1;var n=e.model;if(n.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,r),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),e.updateEndMagnet("target")),i===0&&s===0)return!this.dumpView(e,r)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(r);i&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(e,t,n,r){let{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());let{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:c}=e,f=i.priorities[n];if(f||(f=i.priorities[n]={}),n>l)for(let I=n-1;I>=l;I--){let w=i.priorities[I];!w||!(c in w)||(f[c]|=w[c],delete w[c])}let d=f[c]||0;if((d&t)===t)return;d||i.count++,t&s&&d&a?f[c]^=a:t&a&&d&s&&(f[c]^=s),f[c]|=t;let v=o.onViewUpdate;typeof v=="function"&&v.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,n=e.cid,r=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e,t={}){let n=this.dumpViewUpdate(e);if(!n)return 0;let r=!t.silent;r&&this.notifyBeforeRender(t);let i=this.updateView(e,n,t);if(r){let o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,n){if(!e)return 0;let{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof $e){if(t&r)return this.removeView(s),0;if(t&i){let a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){if(!e)return!1;var t=e.cid,n=this._updates;return t in n.mounted},dumpViews:function(e){var t=Bn({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,i=Lg;do r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i);while(!t.empty);let o={updated:n,batches:r,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){let e=this._updates.priorities,t=Object.keys(e),n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Lg});let{_updates:n,options:r}=this,i=n.id;if(i){od(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);let o=this.updateViewsBatch(e),s=Bn({},e,{mountBatchSize:Y1-o.mounted,unmountBatchSize:Y1-o.unmounted}),a=this.checkViewport(s),l=a.unmounted,c=a.mounted,f=t.processed,d=n.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&c===0?(o.unmounted+=l,o.mounted+=c,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=Lg,n.count=0):t.processed=f):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));let v=e.progress;if(d&&typeof v=="function"&&v.call(this,o.empty,f,d,o,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=id(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||QG,n=this._updates,r=0,i=0,o=0,s=0,a=Lg,l=!0,c=this.options,f=n.priorities,d="viewport"in e?e.viewport:c.viewport;typeof d!="function"&&(d=null);var v=c.onViewPostponed;typeof v!="function"&&(v=null);var I=Object.keys(f);e:for(var w=0,D=I.length;w<D;w++){var M=+I[w],T=f[M];for(var B in T){if(r>=t){l=!1;break e}var G=rs[B];if(!G){delete T[B];continue}var H=T[B];if(!(H&G.FLAG_REMOVE)){var ne=B in n.unmounted;if(G.DETACHABLE&&d&&!d.call(this,G,!ne,this)){ne||(this.registerUnmountedView(G),this.detachView(G)),n.unmounted[B]|=H,delete T[B],o++;continue}ne&&(H|=G.FLAG_INSERT,s++),H|=this.registerMountedView(G)}var g=this.updateView(G,H,e);if(g>0&&(T[B]=g,!v||!v.call(this,G,g,this)||T[B])){i++,l=!1;continue}a>M&&(a=M),r++,delete T[B]}}return{priority:a,updated:r,postponed:i,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){let e=this._updates,t=Object.keys(e.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=rs[t[i]];return r},getMountedViews:function(){let e=this._updates,t=Object.keys(e.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=rs[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;typeof e!="function"&&(e=null);for(var r=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,l=Math.min(o.length,r);a<l;a++){var c=o[a];if(c in s){var f=rs[c];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(c);continue}n++;var d=this.registerMountedView(f);d&&this.scheduleViewUpdate(f,d,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if(typeof e!="function")return n;for(var r=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,s=i.mounted,a=0,l=Math.min(o.length,r);a<l;a++){var c=o[a];if(c in s){var f=rs[c];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(c);continue}n++;var d=this.registerUnmountedView(f);d&&this.detachView(f)}}}return o.splice(0,a),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;typeof n!="function"&&(n=null);let r=this._updates,{mounted:i,unmounted:o}=r,s=!e.DETACHABLE||!n||n.call(this,e,!1,this),a=!1,l=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);let d=r.mountedCids.indexOf(e.cid);r.mountedCids.splice(d,1),a=!0}if(!a&&e.cid in o&&s){let f=r.unmountedCids.indexOf(e.cid);r.unmountedCids.splice(f,1);var c=this.registerMountedView(e);c&&this.scheduleViewUpdate(e,c,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Bn({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);if(r>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-r,t.mountBatchSize)}var o=this.checkUnmountedViews(n,t);return{mounted:o,unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&od(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,!(n&&n===r&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Kl.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return bn(t)||(t=this.el.clientWidth),bn(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){let{options:n}=this,{width:r,height:i}=n,o=e===void 0?r:e,s=t===void 0?i:t;if(r===o&&i===s)return;n.width=o,n.height=s,this._setDimensions();let a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){let{options:e}=this,t=e.width,n=e.height;bn(t)&&(t=Math.round(t)),bn(n)&&(n=Math.round(n)),this.$el.css({width:t===null?"":t,height:n===null?"":n})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,n,r){qe(e)?r=e:r=Ce({gridWidth:e,gridHeight:t,padding:n},r);let{x:i,y:o,width:s,height:a}=this.getFitToContentArea(r),{sx:l,sy:c}=this.scale();return this.setOrigin(-i*l,-o*c),this.setDimensions(s*l,a*c),new de(i,o,s,a)},getFitToContentArea:function(e={}){let t=e.gridWidth||1,n=e.gridHeight||1,r=Zr(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,n),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,c="contentArea"in e?new de(e.contentArea):this.getContentArea(e),{sx:f,sy:d}=this.scale();c.x*=f,c.y*=d,c.width*=f,c.height*=d;let v=Math.ceil((c.width+c.x)/t),I=Math.ceil((c.height+c.y)/n);e.allowNegativeBottomRight||(v=Math.max(v,1),I=Math.max(I,1)),v*=t,I*=n;let w=0;(l==="negative"&&c.x<0||l==="positive"&&c.x>=0||l==="any")&&(w=Math.ceil(-c.x/t)*t,w+=r.left,v+=w);let D=0;return(l==="negative"&&c.y<0||l==="positive"&&c.y>=0||l==="any")&&(D=Math.ceil(-c.y/n)*n,D+=r.top,I+=D),v+=r.right,I+=r.bottom,v=Math.max(v,i),I=Math.max(I,o),v=Math.min(v,s),I=Math.min(I,a),new de(-w/f,-D/d,v/f,I/d)},transformToFitContent:function(e){e||(e={});let t,n;if("contentArea"in e){let M=e.contentArea;t=this.localToPaperRect(M),n=new k(M)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Bn(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});let r=Zr(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale,l;if(e.fittingBBox)l=e.fittingBBox;else{let M=this.translate(),T=this.getComputedSize();l={x:M.tx,y:M.ty,width:T.width,height:T.height}}l=new de(l).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});let c=this.scale(),f=l.width/t.width*c.sx,d=l.height/t.height*c.sy;if(e.preserveAspectRatio&&(f=d=Math.min(f,d)),e.scaleGrid){let M=e.scaleGrid;f=M*Math.floor(f/M),d=M*Math.floor(d/M)}f=Math.min(o,Math.max(i,f)),d=Math.min(a,Math.max(s,d));let v={x:f/c.sx,y:d/c.sy},I=this.options.origin,w=l.x-n.x*f-I.x,D=l.y-n.y*d-I.y;switch(e.verticalAlign){case"middle":D=D+(l.height-t.height*v.y)/2;break;case"bottom":D=D+(l.height-t.height*v.y);break;case"top":default:break}switch(e.horizontalAlign){case"middle":w=w+(l.width-t.width*v.x)/2;break;case"right":w=w+(l.width-t.width*v.x);break;case"left":default:break}this.scale(f,d),this.translate(w,D)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new de:ee(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){let{restrictTranslate:t}=this.options,n;return pt(t)?n=t.apply(this,e):t===!0?n=this.getArea():t?n=new de(t):n=null,n},createViewForModel:function(e){let{options:t}=this;var n,r,i=t.cellViewNamespace,o=e.get("type")+"View",s=go(i,o,".");e.isLink()?(n=t.linkView,r=oa):(n=t.elementView,r=Kt);var a=n.prototype instanceof X1.default.View?s||n:n.call(this,e)||s||r;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?ur.LABELS:t.labelsLayer})},removeView:function(e){let{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:o}=i;let{mounted:s,unmounted:a}=r;i.remove(),delete n[t],delete s[o],delete a[o]}return i},renderView:function(e,t){let{id:n}=e,r=this._views,i,o,s=!0;return n in r&&(i=r[n],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=r[n]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Lt(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();let n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=e.length;r<i;r++)this.renderView(e[r],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){sr(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=(0,ni.default)(this.cells).children("[model-id]"),t=this.model.get("cells");HT(e,function(n,r){var i=t.get(n.getAttribute("model-id")),o=t.get(r.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){let n=this.getLayerView(ur.CELLS),{el:r,model:i}=e;switch(this.options.sorting){case Kl.APPROX:n.insertSortedNode(r,i.get("z"));break;case Kl.EXACT:default:n.insertNode(r);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,n,r){if(e===void 0)return ee.matrixToScale(this.matrix());t===void 0&&(t=e),n===void 0&&(n=0,r=0);var i=this.translate();if(n||r||i.tx||i.ty){var o=i.tx-n*(e-1),s=i.ty-r*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(e===void 0)return ee.matrixToRotate(this.matrix());if(t===void 0){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return ee.matrixToTranslate(this.matrix());let{options:n}=this,{origin:r,drawGrid:i}=n;e||(e=0),t||(t=0);let o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);let{tx:s,ty:a}=this.translate();return r.x=s,r.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=rn(e)?this.cells.querySelector(e):e instanceof ni.default?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=rn(e)||bn(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new k(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Bn(t||{},{strict:!1}),e=new de(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(i){return i&&e[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.matrix());return r},localToPaperRect:function(e,t,n,r){var i=new de(e,t,n,r),o=ee.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(e,t,n,r){var i=new de(e,t,n,r),o=ee.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(e,t,n,r){var i=new de(e,t,n,r),o=ee.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(e,t,n,r){var i=new de(e,t,n,r),o=ee.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new k(e,t),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),o=new de(e,t,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new k(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof oa))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||typeof n.allowLink=="function"&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return pt(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e,{highlighting:r,highlighterNamespace:i}=this.options;if(t===void 0){if(!r||n&&(t=r[n],t===!1))return!1;t||(t=r.default)}if(!t)return!1;rn(t)&&(t={name:t});let o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,n){let r=this.resolveHighlighter(n);if(!r)return;let{highlighter:i,options:o}=r;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,n){let r=this.resolveHighlighter(n);if(!r)return;let{highlighter:i,options:o}=r;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=Tn(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=Tn(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=Tn(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=Tn(e);let{target:t,button:n}=e,r=this.findView(t),i=n===2;if(r){if(!i&&this.guard(e,r))return;let o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&r.preventDefaultInteraction(e);let s=this.customEventTrigger(e,r);if(s){if(s.isPropagationStopped())return;e.data=s.data}let a=t.closest("[magnet]");if(a&&r.el!==a&&r.el.contains(a)){let l=Tn(ni.default.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(r,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;let o=ni.default.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{let o=this.snapToGrid(e.clientX,e.clientY);r?r.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(r,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var n=++t.mousemoved;if(!(n<=this.options.moveThreshold)){e=Tn(e);var r=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=Tn(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(ni.default.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=Tn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=Tn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=Tn(e);let{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;let o=this.findView(n);i&&(o===i||(i.mouseenter(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=Tn(e);let{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;let o=this.findView(n);i&&(o===i||(i.mouseleave(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:qC(function(){let{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((s,a)=>s+ZT(a,JG),0),r=Math.pow(.995,n),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,r),this._mw_evt_buffer={event:null,deltas:[]}},H1,{maxWait:H1}),mousewheel:function(e){e=Tn(e);let t=this.findView(e.target);if(this.guard(e,t))return;let n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:o}=UT(n),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{let a=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,r.x,r.y,a):this.trigger("blank:mousewheel",e,r.x,r.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=Tn(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget,r=n.getAttribute("magnet");if(r){var i=this.findView(n);if(i){if(e=Tn(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,n,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;let t=ni.default.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,r,i,o){t.onmagnet(n,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetpointerdblclick(n,r,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetcontextmenu(n,r,i,o)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=Tn(e),this.guard(e,n)))return;let r=this.customEventTrigger(e,n,t);if(r){if(r.isPropagationStopped())return;e.data=r.data}var i=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,i.x,i.y)},getPointerArgs(e){let t=Tn(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;let{target:n}=e;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(t&&t.model&&t.model instanceof Jn||this.svg===n||this.el===n||ni.default.contains(this.svg,n))},setGridSize:function(e){let{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:ee("svg",{width:"100%",height:"100%"},ee("defs")),patterns:{},add:function(e,t){ee(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(ee("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(rn(e)&&Array.isArray(t[e]))return t[e].map(function(l){return Ce({},l)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return Ce({},l)}),s=Array.isArray(n.args)?n.args:[n.args||{}];Bn(s[0],Ur(e,"args"));for(var a=0;a<s.length;a++)o[a]&&Ce(o[a],s[a]);return o}return r?n:[n]},drawGrid:function(e){let t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var l="pattern_"+a,c=Zt(s,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});c.width=t*(r.a||1)*(c.scaleFactor||1),c.height=t*(r.d||1)*(c.scaleFactor||1),i.exist(l)||i.add(l,ee("pattern",{id:l,patternUnits:"userSpaceOnUse"},ee(c.markup)));var f=i.get(l);pt(c.update)&&c.update(f.node.childNodes[0],c);var d=c.ox%c.width;d<0&&(d+=c.width);var v=c.oy%c.height;v<0&&(v+=c.height),f.attr({x:d,y:v,width:c.width,height:c.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();if(qe(t)){var o=i.tx+r.sx*(t.x||0),s=i.ty+r.sy*(t.y||0);t=o+"px "+s+"px"}qe(n)&&(n=new de(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var n,r=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[KC(i)];if(pt(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),i="repeat",qe(r)?(r.width*=l.width/e.width,r.height*=l.height/e.height):r===void 0&&(t.size={width:l.width/s,height:l.height/s})}else n=e.src,r===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=Xn(e),Ko(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,sr(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!qe(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+nd(JSON.stringify(e))),!this.isDefined(t)){var r=$T,i=r[n]&&r[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var o=Ce({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});ee(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!qe(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");let{svg:t,defs:n}=this,{type:r,id:i=r+t.id+nd(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;let a=je(o).map(({offset:c,color:f,opacity:d})=>ee("stop").attr({offset:c,"stop-color":f,"stop-opacity":Number.isFinite(d)?d:1})),l=ee(r,s,a);return l.id=i,l.appendTo(n),i},definePattern:function(e){if(!qe(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");let{svg:t,defs:n}=this,{id:r=t.id+nd(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;let s=ee("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=r,s.attr(o),typeof i=="string")s.append(ee(i));else{let{fragment:a}=ta(i);s.append(a)}return s.appendTo(n),r},defineMarker:function(e){if(!qe(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");let{svg:t,defs:n}=this,{id:r=t.id+nd(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(r))return r;let a=ee("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=r,a.attr(o);let l;if(i){let d;if(typeof i=="string")d=ee(i),d=Array.isArray(d)?d:[d];else{let{fragment:v}=ta(i);d=ee(v).children()}d.length>1?l=ee("g").append(d):l=d[0]}else{let{type:d="path"}=e;l=ee(d)}let c=Ur(e,"type","id","markup","attrs","markerUnits");return Object.keys(c).forEach(d=>{let v=c[d],I=l.attr(d);if(I==null)l.attr(d,v);else switch(d){case"transform":l.attr(d,v+" "+I);break}}),l.appendTo(a),a.appendTo(n),r},customEventTrigger:function(e,t,n=t.el){let r=e.target.closest("[event]");if(r&&n!==r&&t.el.contains(r)){let i=Tn(ni.default.Event(e.originalEvent,{data:e.data,currentTarget:r}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:Kl,Layers:ur,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n*2,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=r*2;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;for(var o=i.getContext("2d"),s=bn(t.watermarkAngle)?-t.watermarkAngle:-20,a=dn(s),l=i.width/4,c=i.height/4,f=0;f<4;f++)for(var d=0;d<4;d++)(f+d)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*d-1)*c),o.rotate(a),o.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){ee(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;ee(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",ee(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",ee(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",ee(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}});var Mw=Er.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){let{paper:t,relatedView:n}=this;return!t||!n?!0:t.guard(e,n)}});var t5=Er.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Ce(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof $e))return this;for(var r=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof Mw&&(s.configure(n,this),this.vel.append(s.el),r.push(s))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var o=t[r];n?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){let{options:e,el:t}=this,{relatedView:n,layer:r=ur.TOOLS,z:i}=e;return n&&(r?n.paper.getLayerView(r).insertSortedNode(t,i):n.el.appendChild(t)),this}});var ri={};nn(ri,{basic:()=>Ew,chess:()=>kw,devs:()=>_w,erd:()=>Lw,fsa:()=>Fw,logic:()=>Rw,org:()=>jw,pn:()=>Bw,standard:()=>Nw,uml:()=>Gw});var Ew={};nn(Ew,{Circle:()=>md,Ellipse:()=>o5,Generic:()=>rt,Image:()=>l5,Path:()=>q1,Polygon:()=>s5,Polyline:()=>a5,Rect:()=>n5,Rhombus:()=>u5,Text:()=>i5,TextBlock:()=>c5,TextBlockView:()=>d5,TextView:()=>r5});var gd={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}};var rt=Pt.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),n5=rt.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),r5=Kt.extend({presentationAttributes:Kt.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=Kt.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),i5=rt.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),md=rt.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),o5=rt.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),s5=rt.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),a5=rt.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),l5=rt.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),q1=rt.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),u5=q1.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Fg=gd.test("svgforeignobject"),c5=rt.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Fg?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),rt.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":Ce({},t),div:{style:Ce({},t)}})},updateContent:function(e,t){Fg?this.attr({".content":{html:WT(t)}}):this.attr({".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),d5=Kt.extend({presentationAttributes:Fg?Kt.prototype.presentationAttributes:Kt.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=Kt.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(Fg)Kt.prototype.update.call(this,n,t);else{var r=Ur(t||n.get("attrs"),".content");Kt.prototype.update.call(this,n,r),(!t||Mr(t,".content"))&&this.updateContent(n,t)}},updateContent:function(e,t){var n=Zt({},(t||e.get("attrs"))[".content"]);n=Ur(n,"text");var r=cg(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=rd({},".content",n,"/");i[".content"].text=r,Kt.prototype.update.call(this,e,i)}});var Nw={};nn(Nw,{BorderedImage:()=>I5,Circle:()=>h5,Cylinder:()=>b5,DoubleLink:()=>N5,Ellipse:()=>p5,EmbeddedImage:()=>C5,HeaderedRectangle:()=>A5,Image:()=>y5,InscribedImage:()=>w5,Link:()=>S5,Path:()=>g5,Polygon:()=>m5,Polyline:()=>v5,Rectangle:()=>f5,ShadowLink:()=>T5,TextBlock:()=>E5});var f5=Pt.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),h5=Pt.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),p5=Pt.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),g5=Pt.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),m5=Pt.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),v5=Pt.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),y5=Pt.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),I5=Pt.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),C5=Pt.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),w5=Pt.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),A5=Pt.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),Sw=10,b5=Pt.define("standard.Cylinder",{attrs:{body:{lateralArea:Sw,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:Sw,refRx:"50%",ry:Sw,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var n=vn(e),r={lateralArea:e},i=n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:r,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var n=vn(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,o=t.width,s=t.height,a=o/2,l=n?s*e:e,c=ee.KAPPA,f=c*a,d=c*(n?s*e:e),v=r,I=r+o/2,w=r+o,D=i+l,M=D-l,T=i+s-l,B=i+s,G=["M",v,D,"L",v,T,"C",r,T+d,I-f,B,I,B,"C",I+f,B,w,T+d,w,T,"L",w,D,"C",w,D-d,I+f,M,I,M,"C",I-f,M,v,D-d,v,D,"Z"];return{d:G.join(" ")}}}}}),x5={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},D5={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},M5=gd.test("svgforeignobject")?x5:D5,E5=Pt.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},M5]},{attributes:{text:{set:function(e,t,n,r){if(n instanceof HTMLElement)n.textContent=e;else{var i=r.style||{},o={text:e,width:-5,height:"100%"},s=Ce({textVerticalAnchor:"middle"},i);return ad.textWrap.set.call(this,o,t,n,s),{fill:i.color||null}}},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),S5=_t.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),N5=_t.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),T5=_t.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});var _w={};nn(_w,{Atomic:()=>_5,Coupled:()=>P5,Link:()=>O5,Model:()=>Tw});var Tw=rt.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){rt.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=zr(this.get("inPorts")),i=ed(zr(this.get("outPorts")),r),o=this.createPortItems("in",r),s=this.createPortItems("out",i);this.prop("ports/items",o.concat(s),Ce({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return je(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,Ul(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,qe(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),_5=Tw.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),P5=Tw.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),O5=_t.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}});var Rw={};nn(Rw,{And:()=>B5,Gate:()=>jg,Gate11:()=>Ow,Gate21:()=>sa,IO:()=>Pw,Input:()=>R5,Nand:()=>z5,Nor:()=>V5,Not:()=>F5,Or:()=>j5,Output:()=>k5,Repeater:()=>L5,Wire:()=>Z5,Xnor:()=>U5,Xor:()=>G5});var jg=rt.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Pw=jg.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),R5=Pw.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),k5=Pw.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),Ow=jg.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),sa=jg.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),L5=Ow.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),F5=Ow.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),j5=sa.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),B5=sa.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),V5=sa.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),z5=sa.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),G5=sa.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),U5=sa.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),Z5=_t.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")});var kw={};nn(kw,{BishopBlack:()=>Q5,BishopWhite:()=>J5,KingBlack:()=>H5,KingWhite:()=>W5,KnightBlack:()=>eU,KnightWhite:()=>K5,PawnBlack:()=>nU,PawnWhite:()=>tU,QueenBlack:()=>$5,QueenWhite:()=>Y5,RookBlack:()=>q5,RookWhite:()=>X5});var W5=rt.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),H5=rt.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),Y5=rt.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),$5=rt.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),X5=rt.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),q5=rt.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),J5=rt.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),Q5=rt.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),K5=rt.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),eU=rt.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),tU=rt.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),nU=rt.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'});var Lw={};nn(Lw,{Attribute:()=>vd,Derived:()=>sU,Entity:()=>J1,ISA:()=>uU,IdentifyingRelationship:()=>iU,Key:()=>aU,Line:()=>cU,Multivalued:()=>oU,Normal:()=>lU,Relationship:()=>Q1,WeakEntity:()=>rU});var J1=Pt.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),rU=J1.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),Q1=Pt.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),iU=Q1.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),vd=Pt.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),oU=vd.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),sU=vd.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),aU=vd.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),lU=vd.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),uU=Pt.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),cU=_t.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}});var Fw={};nn(Fw,{Arrow:()=>pU,EndState:()=>hU,StartState:()=>fU,State:()=>dU});var dU=md.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),fU=Pt.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),hU=Pt.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),pU=_t.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0});var jw={};nn(jw,{Arrow:()=>mU,Member:()=>gU});var gU=Pt.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),mU=_t.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1});var Bw={};nn(Bw,{Link:()=>CU,Place:()=>vU,PlaceView:()=>yU,Transition:()=>IU});var vU=rt.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),yU=Kt.extend({presentationAttributes:Kt.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Kt.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...e){let t=Kt.prototype.confirmUpdate.call(this,...e);return this.hasFlag(t,"TOKENS")&&(this.renderTokens(),this.update(),t=this.removeFlag(t,"TOKENS")),t},renderTokens:function(){let e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){e.removeClass(n)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(ee("circle"));break;case 2:e.addClass("two"),e.append([ee("circle"),ee("circle")]);break;case 3:e.addClass("three"),e.append([ee("circle"),ee("circle"),ee("circle")]);break;default:e.addClass("alot"),e.append(ee("text").text(t+""));break}}}),IU=rt.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),CU=_t.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}});var Gw={};nn(Gw,{Abstract:()=>wU,AbstractView:()=>AU,Aggregation:()=>EU,Association:()=>NU,Class:()=>Vw,ClassView:()=>zw,Composition:()=>SU,EndState:()=>PU,Generalization:()=>DU,Implementation:()=>MU,Interface:()=>bU,InterfaceView:()=>xU,StartState:()=>_U,State:()=>TU,Transition:()=>OU});var Vw=rt.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),rt.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],o=i.length*20+20;e[".uml-class-"+r.type+"-text"].text=i.join(`
`),e[".uml-class-"+r.type+"-rect"].height=o,e[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=o})}}),zw=Kt.extend({initialize:function(){Kt.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),wU=Vw.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),AU=zw,bU=Vw.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),xU=zw,DU=_t.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),MU=_t.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),EU=_t.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),SU=_t.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),NU=_t.define("uml.Association"),TU=rt.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),rt.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join(`
`))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),_U=md.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),PU=rt.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),OU=_t.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}});var eu="#3498db",aa="#2980b9",os="#2c3e50",tu="black",yd="white",Id="#f8f9fa",Zw="darkorange",Cd="red",K1="orange",e_="blue",t_="red",n_="green",Bg="Dijkstra",Vg="Kruskal",la="Fleury",ss="EdmondsKarp",ua="HeldKarp",ca="GreedyMatching",vo="GreedyColoring",Yi="WelshPowell";var yo="/api";var zg=(()=>{class e{constructor(){this.lastClickedElementChange=new Cn,this.isMarqueeSelecting=!1,this.marqueeStartClientX=0,this.marqueeStartClientY=0,this.currentHoverSet=new Set,this.lastClickedElement=null,this.selectedElements=[]}ngOnChanges(n){n.paper&&this.paper&&this.setupListeners()}setupListeners(){this.paper.on("blank:pointerdown",n=>{this.isMarqueeSelecting=!0,this.marqueeStartClientX=n.clientX,this.marqueeStartClientY=n.clientY,this.createMarquee(n.clientX,n.clientY)}),this.paper.on("blank:pointermove",n=>{this.isMarqueeSelecting&&this.updateMarquee(n.clientX,n.clientY)}),this.paper.on("blank:pointerup",n=>{this.isMarqueeSelecting&&(this.isMarqueeSelecting=!1,this.selectMarqueeItems(),this.destroyMarquee())}),this.paper.on("element:contextmenu",(n,r)=>{r.preventDefault(),this.lastClickedElement=n.model,this.emitLastClickedElement(),this.selectedElements.includes(n.model)||(this.clearSelection(),this.selectItem(n.model))}),this.paper.on("link:contextmenu",(n,r)=>{r.preventDefault(),this.lastClickedElement=n.model,this.emitLastClickedElement(),this.selectedElements.includes(n.model)||(this.clearSelection(),this.selectItem(n.model))}),this.paper.on("element:pointerclick",(n,r)=>{!r.shiftKey&&!r.ctrlKey&&this.clearSelection(),this.selectItem(n.model),this.lastClickedElement=n.model,this.emitLastClickedElement()}),this.paper.on("link:pointerclick",(n,r)=>{this.lastClickedElement=n.model,this.emitLastClickedElement(),!r.shiftKey&&!r.ctrlKey&&this.clearSelection(),this.selectItem(n.model)})}emitLastClickedElement(){this.lastClickedElementChange.emit(this.lastClickedElement)}createMarquee(n,r){this.marqueeStartClientX=n,this.marqueeStartClientY=r,this.marqueeRect=document.createElement("div"),this.marqueeRect.style.position="fixed",this.marqueeRect.style.border="2px dashed #666",this.marqueeRect.style.background="rgba(100,100,100,0.2)",this.marqueeRect.style.zIndex="999",this.marqueeRect.style.left=n+"px",this.marqueeRect.style.top=r+"px",this.marqueeRect.style.width="0px",this.marqueeRect.style.height="0px",document.body.appendChild(this.marqueeRect)}updateMarquee(n,r){if(!this.marqueeRect)return;let i=this.marqueeStartClientX,o=this.marqueeStartClientY,s=Math.min(i,n),a=Math.min(o,r),l=Math.abs(n-i),c=Math.abs(r-o);this.marqueeRect.style.left=s+"px",this.marqueeRect.style.top=a+"px",this.marqueeRect.style.width=l+"px",this.marqueeRect.style.height=c+"px",this.updateMarqueeHover(s,a,l,c)}updateMarqueeHover(n,r,i,o){let s=n+i,a=r+o,l=this.paper.clientToLocalPoint(n,r),c=this.paper.clientToLocalPoint(s,a),f=new Set;this.graph.getCells().forEach(d=>{this.doesCellIntersectMarquee(d,l,c)&&(f.add(d),this.currentHoverSet.has(d)||this.applyHoverFilter(d))}),this.currentHoverSet.forEach(d=>{f.has(d)||this.removeHoverFilter(d)}),this.currentHoverSet=f}doesCellIntersectMarquee(n,r,i){if(n.isElement()){let o=n.getBBox();return this.bboxIntersects(o,r,i)}else if(n.isLink()){let o=this.paper.findViewByModel(n);if(!o)return!1;let s=o.getBBox();return this.bboxIntersects(s,r,i)}return!1}bboxIntersects(n,r,i){let o=n.x,s=n.y,a=n.x+n.width,l=n.y+n.height,c=r.x,f=r.y,d=i.x,v=i.y,I=o<=d&&a>=c,w=s<=v&&l>=f;return I&&w}applyHoverFilter(n){n.isElement()?this.highlightNode(n):n.isLink()&&this.highlightLink(n)}removeHoverFilter(n){n.isElement()?this.unhighlightNode(n):n.isLink()&&this.unhighlightLink(n)}destroyMarquee(){this.marqueeRect&&this.marqueeRect.parentNode&&this.marqueeRect.parentNode.removeChild(this.marqueeRect),this.marqueeRect=void 0}selectMarqueeItems(){this.clearSelection(),this.currentHoverSet.forEach(n=>{this.removeHoverFilter(n),this.selectItem(n)}),this.currentHoverSet.clear()}selectItem(n){n.isElement()&&(this.unhighlightNode(n),this.selectedElements.push(n),this.selectNode(n)),n.isLink()&&(this.unhighlightLink(n),this.selectedElements.push(n),this.selectLink(n))}clearSelection(){let n=[...this.selectedElements];this.selectedElements=[],n.forEach(r=>{r.isElement()?this.unhighlightNode(r):r.isLink()&&this.unhighlightLink(r)})}deleteSelected(n,r){return this.selectedElements.length===0?{startNode:n,endNode:r}:(this.selectedElements.forEach(i=>{if(i.isLink()){let o=i,s=o.getSourceElement(),a=o.getTargetElement();if(s&&a){let l=this.graph.getLinks().find(c=>c.getSourceElement()===a&&c.getTargetElement()===s);l&&l.vertices([])}}i===n&&(n=null),i===r&&(r=null),i.remove()}),this.selectedElements=[],{startNode:n,endNode:r})}selectNode(n){n.attr("body/stroke",Cd),n.attr("body/strokeWidth",3)}highlightNode(n){n.attr("body/stroke",Zw),n.attr("body/strokeWidth",3)}unhighlightNode(n){this.selectedElements.includes(n)?(n.attr("body/stroke",Cd),n.attr("body/strokeWidth",3)):(n.attr("body/stroke",aa),n.attr("body/strokeWidth",2))}selectLink(n){n.attr({line:{stroke:Cd,strokeWidth:3}})}highlightLink(n){n.attr({line:{stroke:Zw,strokeWidth:3}})}unhighlightLink(n){this.selectedElements.includes(n)?n.attr({line:{stroke:Cd,strokeWidth:3}}):n.attr({line:{stroke:os,strokeWidth:3}})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["app-graph-selection"]],inputs:{graph:"graph",paper:"paper"},outputs:{lastClickedElementChange:"lastClickedElementChange"},features:[pi],decls:0,vars:0,template:function(r,i){}})}}return e})();var Gg=(()=>{class e{constructor(){this.MIN_WEIGHT=-2147483648,this.MAX_WEIGHT=2147483647,this.handleKeyEvents=n=>{if(n.key==="Enter"){if(this.weightInputBox){let r=this.weightInputBox.querySelector("button");r&&r.click()}}else n.key==="Escape"&&this.removeWeightInputBox()},this.handleOutsideClick=n=>{if(this.weightInputBox&&!this.weightInputBox.contains(n.target)){let r=this.weightInputBox.querySelector("button");r&&r.click()}}}promptEdgeWeight(n,r=null,i,o,s){let a=r,l=i.findViewByModel(a);if(!l)return;let c=l.getPointAtRatio(.5),f=n.nativeElement.getBoundingClientRect();this.removeWeightInputBox(),this.weightInputBox=document.createElement("div"),this.weightInputBox.style.position="fixed",this.weightInputBox.style.left=`${f.left+c.x}px`,this.weightInputBox.style.top=`${f.top+c.y}px`,this.weightInputBox.style.padding="8px",this.weightInputBox.style.background="#fff",this.weightInputBox.style.border="1px solid #ccc",this.weightInputBox.style.borderRadius="5px",this.weightInputBox.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",this.weightInputBox.style.zIndex="1000";let d=document.createElement("input");d.type="number",d.value=a.attr("weight")||o,d.style.width="60px",d.style.marginRight="5px";let v=document.createElement("div");v.style.color="red",v.style.fontSize="12px",v.style.marginTop="4px",v.textContent="";let I=document.createElement("button");I.innerText="\u2714",I.style.cursor="pointer",I.style.marginRight="5px";let w=()=>{let M=parseInt(d.value,10);this.validateInput(M)?(a.attr("weight",M),s.updateLinkStyle(a),this.removeWeightInputBox()):(v.textContent=this.getErrorMessage(M),this.shakeElement(d))};I.onclick=w;let D=document.createElement("button");D.innerText="\u2716",D.style.cursor="pointer",D.onclick=()=>this.removeWeightInputBox(),this.weightInputBox.appendChild(d),this.weightInputBox.appendChild(I),this.weightInputBox.appendChild(D),this.weightInputBox.appendChild(v),document.body.appendChild(this.weightInputBox),setTimeout(()=>{document.addEventListener("pointerdown",this.handleOutsideClick),document.addEventListener("keydown",this.handleKeyEvents)}),this.injectShakeStyles()}validateInput(n){return!(isNaN(n)||n===0||n<this.MIN_WEIGHT||n>this.MAX_WEIGHT)}getErrorMessage(n){return isNaN(n)?"Please enter a valid integer.":n===0?"Zero is not allowed. Please enter a non-zero value.":n<this.MIN_WEIGHT?`Value cannot be lower than ${this.MIN_WEIGHT}.`:n>this.MAX_WEIGHT?`Value cannot exceed ${this.MAX_WEIGHT}.`:"Invalid value."}shakeElement(n){n.classList.remove("shake"),n.offsetWidth,n.classList.add("shake")}removeWeightInputBox(){this.weightInputBox&&(this.weightInputBox.remove(),this.weightInputBox=null),document.removeEventListener("pointerdown",this.handleOutsideClick)}injectShakeStyles(){if(document.getElementById("shake-styles"))return;let n=document.createElement("style");n.id="shake-styles",n.innerHTML=`
      @keyframes shake {
        0% { transform: translateX(0); }
        20% { transform: translateX(-3px); }
        40% { transform: translateX(3px); }
        60% { transform: translateX(-3px); }
        80% { transform: translateX(3px); }
        100% { transform: translateX(0); }
      }
      .shake {
        animation: shake 0.3s;
      }
    `,document.head.appendChild(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["app-edge-weight"]],decls:0,vars:0,template:function(r,i){}})}}return e})();var zn=[];for(let e=0;e<256;++e)zn.push((e+256).toString(16).slice(1));function r_(e,t=0){return(zn[e[t+0]]+zn[e[t+1]]+zn[e[t+2]]+zn[e[t+3]]+"-"+zn[e[t+4]]+zn[e[t+5]]+"-"+zn[e[t+6]]+zn[e[t+7]]+"-"+zn[e[t+8]]+zn[e[t+9]]+"-"+zn[e[t+10]]+zn[e[t+11]]+zn[e[t+12]]+zn[e[t+13]]+zn[e[t+14]]+zn[e[t+15]]).toLowerCase()}var Ww,LU=new Uint8Array(16);function Hw(){if(!Ww){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ww=crypto.getRandomValues.bind(crypto)}return Ww(LU)}var FU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yw={randomUUID:FU};function jU(e,t,n){if(Yw.randomUUID&&!t&&!e)return Yw.randomUUID();e=e||{};let r=e.random??e.rng?.()??Hw();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return r_(r)}var da=jU;var fa=class{static offSetOppositeLinks(t){t.getLinks().forEach(n=>{let r=t.getLinks().find(l=>l.getSourceElement()===n.getTargetElement()&&l.getTargetElement()===n.getSourceElement());if(!r)return;console.log("step "+r);let i=n.getSourceElement().getBBox().center(),o=n.getTargetElement().getBBox().center(),s=(i.x+o.x)/2,a=(i.y+o.y)/2;n.vertices([{x:s,y:a+20}]),r.vertices([{x:s,y:a-20}])})}};var Ug=(()=>{class e{constructor(){this.sourceEdgeNode=null,this.isEdgeCreationMode=!1}ngOnChanges(n){n.paper&&this.paper&&this.setupListeners()}setupListeners(){this.paper.on("element:pointerdown",n=>{this.isEdgeCreationMode&&(this.sourceEdgeNode?this.sourceEdgeNode!==n.model&&(this.doesLinkExist(this.sourceEdgeNode,n.model)||this.createLink(this.sourceEdgeNode,n.model),this.sourceEdgeNode=n.model):this.sourceEdgeNode=n.model)}),this.paper.on("blank:pointerdown",()=>{this.sourceEdgeNode=null}),this.paper.on("blank:contextmenu",()=>{this.isEdgeCreationMode&&this.exitEdgeCreationMode()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.exitEdgeCreationMode()})}doesLinkExist(n,r){return this.graph.getLinks().some(i=>i.getSourceElement()===n&&i.getTargetElement()===r||!this.directed&&i.getSourceElement()===r&&i.getTargetElement()===n)}createLink(n,r){let i=new ri.standard.Link({id:da()});i.source(n),i.target(r),i.attr("weight",this.defaultWeight),this.updateLinkStyle(i),i.addTo(this.graph),this.directed&&fa.offSetOppositeLinks(this.graph)}updateLinkStyle(n){n.attr({line:{stroke:os,strokeWidth:3,strokeLinejoin:"round",targetMarker:this.directed?{type:"path"}:{type:"none"}}}),this.weighted?n.labels([{position:.5,attrs:{text:{text:n.attr("weight").toString(),fill:tu}}}]):n.labels([])}enableEdgeCreationButton(n){n.nativeElement.addEventListener("click",()=>{this.enterEdgeCreationMode()})}enterEdgeCreationMode(){this.isEdgeCreationMode=!0,this.cursorIcon.style.display="block"}exitEdgeCreationMode(){this.isEdgeCreationMode=!1,this.cursorIcon.style.display="none",this.sourceEdgeNode&&(this.sourceEdgeNode=null)}initEdgeCursorIcon(){this.cursorIcon=document.createElement("div"),this.cursorIcon.innerHTML="\u{1F517}",this.cursorIcon.style.position="fixed",this.cursorIcon.style.display="none",this.cursorIcon.style.pointerEvents="none",this.cursorIcon.style.fontSize="20px",this.cursorIcon.style.color="red",this.cursorIcon.style.zIndex="20",document.body.appendChild(this.cursorIcon),document.addEventListener("mousemove",n=>{this.cursorIcon.style.left=`${n.clientX+10}px`,this.cursorIcon.style.top=`${n.clientY+10}px`})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["app-edges-connection"]],inputs:{graph:"graph",paper:"paper",directed:"directed",weighted:"weighted"},features:[pi],decls:0,vars:0,template:function(r,i){}})}}return e})();var Zg=(()=>{class e{ngOnChanges(n){n.paper&&this.paper&&this.paper.on("element:pointerup",(r,i)=>{i.detail===2&&this.inlineEditNodeLabel(r.model)})}inlineEditNodeLabel(n){let r=n.attr("label/data-plain-text")||"",i=n.getBBox(),o=this.paper.localToPagePoint({x:i.x,y:i.y}),s=document.createElement("input");s.type="text",s.value=r,s.style.position="absolute",s.style.left=o.x+"px",s.style.top=o.y+"px",s.style.width=i.width+"px",s.style.fontSize="14px",s.style.zIndex="999",document.body.appendChild(s),s.focus();let a=!1,l=()=>{if(a)return;a=!0;let c=s.value.trim()||r;n.attr("label/data-plain-text",c),n===this.startNode?n.attr("label/text",`(S) ${c}`):n===this.endNode?n.attr("label/text",`(X) ${c}`):n.attr("label/text",c),document.body.removeChild(s)};s.addEventListener("blur",l),s.addEventListener("keydown",c=>{c.key==="Enter"?l():c.key==="Escape"&&(a=!0,document.body.contains(s)&&document.body.removeChild(s))})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["app-rename-nodes"]],inputs:{paper:"paper",startNode:"startNode",endNode:"endNode"},features:[pi],decls:0,vars:0,template:function(r,i){}})}}return e})();var o_=(()=>{class e{constructor(n){this.http=n,this.src=null,this.target=null,this.eulerType="",this.errors=[]}runAlgo(n,r){switch(n){case Bg:return this.runDijkstra(r);case Vg:return this.runKruskal(r);case ss:return this.runEdmondsKarp(r);case ua:return this.runHeldKarp(r);case la:return this.runFleury(r);case ca:return this.runGreedyMatching(r);case vo:return this.runGreedyColoring(r);case Yi:return this.runWelshPowell(r);default:return xo(()=>new Error(`Unknown algorithm: ${n}`))}}runDijkstra(n){return this.http.post(`${yo}/${Bg}`,n)}runEdmondsKarp(n){return this.http.post(`${yo}/${ss}`,n)}runHeldKarp(n){return this.http.post(`${yo}/${ua}`,n)}runKruskal(n){return this.http.post(`${yo}/${Vg}`,n)}runFleury(n){return n.src=this.src,n.eulerType=this.eulerType,this.http.post(`${yo}/${la}`,n)}runGreedyMatching(n){return this.http.post(`${yo}/${ca}`,n)}runGreedyColoring(n){return this.http.post(`${yo}/${vo}`,n)}runWelshPowell(n){return this.http.post(`${yo}/${Yi}`,n)}validate(n,r,i){switch(this.src=i.src,this.graph=r,this.target=i.target,this.nodes=i.nodes,this.edges=i.edges,this.directed=i.isDirected,this.weighted=i.isWeighted,this.errors=[],n){case Bg:this.validateDijkstra();break;case Vg:this.validateKruskal();break;case ss:this.validateEdmondsKarp();break;case ua:this.validateHeldKarp();break;case la:this.validateFleury();break;case ca:this.validateGreedyMatching();break;case vo:this.validateGreedyColoring();break;case Yi:this.validateWelshPowell();break;default:this.errors.push("Invalid algorithm.")}return this.errors}validateDijkstra(){this.src||this.errors.push("Start node is not set."),this.graph.getLinks().some(n=>n.attr("weight")<1?(this.errors.push("There are negative edges."),!0):!1),this.isStartToEndReachable()||this.errors.push("End node is set, but no path from start to end exists.")}validateHeldKarp(){this.src||this.errors.push("Start node is not set."),this.graph.getLinks().some(i=>i.attr("weight")<1?(this.errors.push("There are negative edges."),!0):!1),this.graph.getElements().length>=12&&this.errors.push(`Held-Karp cannot be run with more than ${12} nodes for performance reasons.`);let n=this.buildAdjacencyMatrix(this.nodes,this.edges),r=new Array(n.length).fill(!1);r[0]=!0,this.isGraphConnected(),this.hamiltonianCycle(n,0,0,r,1)||this.errors.push("Graph does not contain a Hamiltonian Cycle.")}validateKruskal(){this.directed&&this.errors.push("Requires undirected graph.")}validateEdmondsKarp(){this.src||this.errors.push("Source node is not set."),this.target||this.errors.push("Sink node is not set."),this.directed||this.errors.push("Requires directed graph."),this.graph.getLinks().some(n=>n.attr("weight")<1?(this.errors.push("There are negative edges."),!0):!1),this.isStartToEndReachable()||this.errors.push("No path from source to sink exists.")}validateFleury(){this.src=null,this.directed&&this.errors.push("Requires undirected graph."),this.weighted&&this.errors.push("Requires unweighted graph."),this.isGraphConnected(),this.eulerGraphConditionsCheck()}validateGreedyMatching(){this.directed&&this.errors.push("Requires undirected graph."),this.weighted&&this.errors.push("Requires unweighted graph.")}validateGreedyColoring(){this.directed&&this.errors.push("Requires undirected graph."),this.weighted&&this.errors.push("Requires unweighted graph.")}validateWelshPowell(){this.directed&&this.errors.push("Requires undirected graph."),this.weighted&&this.errors.push("Requires unweighted graph.")}eulerGraphConditionsCheck(){if(this.directed){let n=new Map,r=new Map;for(let s of this.nodes)n.set(s.id,0),r.set(s.id,0);for(let s of this.edges)r.set(s.sourceNodeId,(r.get(s.sourceNodeId)||0)+1),n.set(s.targetNodeId,(n.get(s.targetNodeId)||0)+1);let i=[],o=[];for(let s of this.nodes){let a=n.get(s.id)||0,l=r.get(s.id)||0;if(l-a===1)i.push(s.id);else if(a-l===1)o.push(s.id);else if(a!==l){this.errors.push("Graph is not Eulerian."),this.errors.push(`Vertex ${s.label} has in-degree ${a} and out-degree ${l}.`),this.errors.push("That is not allowed in directed graphs.");return}}if(i.length===1&&o.length===1)this.eulerType="path",this.src=i[0];else if(i.length===0&&o.length===0){this.eulerType="cycle";let s=this.nodes.find(a=>(r.get(a.id)||0)>0);s&&(this.src=s.id)}else this.errors.push("Graph is not Eulerian."),this.errors.push("Expected exactly 1 vertex with out-degree one greater than in-degree and 1 with in-degree one greater than out-degree for an Eulerian path or all vertices balanced for an Eulerian circuit."),this.errors.push(`But found ${i.length} start node(s) and ${o.length} end node(s).`)}else{let n=[];for(let r of this.nodes)this.edges.filter(o=>o.sourceNodeId===r.id||o.targetNodeId===r.id).length%2!==0&&n.push(r.id);if(n.length===0){this.eulerType="cycle";let r=this.nodes.find(i=>this.edges.some(o=>o.sourceNodeId===i.id||o.targetNodeId===i.id));r&&(this.src=r.id)}else n.length===2?(this.eulerType="path",this.src=n[Math.floor(Math.random()*2)]):(this.errors.push("Graph is not Eulerian."),this.errors.push(`It has ${n.length} vertices with an odd degree.`),this.errors.push("Expected 0 for an Eulerian circuit or 2 for an Eulerian path in an undirected graph."))}}buildAdjacencyMatrix(n,r){let i=n.length,o=new Map;n.forEach((a,l)=>{o.set(a.id,l)});let s=Array.from({length:i},()=>Array(i).fill(0));return r.forEach(a=>{let l=o.get(a.sourceNodeId),c=o.get(a.targetNodeId);l!==void 0&&c!==void 0&&(s[l][c]=a.weight,this.directed||(s[c][l]=a.weight))}),s}hamiltonianCycle(n,r,i,o,s){let a=n.length;if(s===a)return n[i][r]!==0;for(let l=0;l<a;l++)if(!o[l]&&n[i][l]!==0){if(o[l]=!0,this.hamiltonianCycle(n,r,l,o,s+1))return!0;o[l]=!1}return!1}isGraphConnected(){if(console.log(this.nodes.length),this.nodes.length<=1)return;let n=new Set,r=[],i=this.nodes[0].id;n.add(i),r.push(i);let o=new Map;for(this.nodes.forEach(s=>{o.set(s.id,[])}),this.edges.forEach(s=>{o.get(s.sourceNodeId)?.push(s.targetNodeId),o.get(s.targetNodeId)?.push(s.sourceNodeId)});r.length>0;){let s=r.shift(),a=o.get(s)||[];for(let l of a)n.has(l)||(n.add(l),r.push(l))}n.size!=this.nodes.length&&this.errors.push("Connected graph required.")}isStartToEndReachable(){if(!this.src||!this.target)return!0;let n=new Set,r=[];r.push(this.src),n.add(this.src);let i=new Map;for(this.nodes.forEach(o=>{i.set(o.id,[])}),this.edges.forEach(o=>{i.get(o.sourceNodeId)?.push(o.targetNodeId)});r.length>0;){let o=r.shift();if(o===this.target)return!0;for(let s of i.get(o)||[])n.has(s)||(n.add(s),r.push(s))}return!1}static{this.\u0275fac=function(r){return new(r||e)(Se(Ry))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Wg=(()=>{class e{constructor(){this.graphDataSubject=new fn(null),this.graphData$=this.graphDataSubject.asObservable()}updateGraphData(n,r){this.graphDataSubject.next({response:n,graphData:r})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var nu=(()=>{class e{constructor(){this.errorsSubject=new fn(null),this.errors$=this.errorsSubject.asObservable()}updateErrors(n,r){this.errorsSubject.next({errors:n,algo:r})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var GU=["buttonDijkstra"],UU=["buttonKruskal"],ZU=["buttonEdmondsKarp"],WU=["buttonFleury"],HU=["buttonHeldKarp"],YU=["buttonGreedyMatching"],$U=["buttonGreedyColoring"],XU=["buttonWelshPowell"],Hg=(()=>{class e{constructor(n,r,i){this.graphService=n,this.graphResponseDataSerivce=r,this.errorsService=i,this.graphSrc=null,this.graphTarget=null,this.errors=[]}extractGraphData(){let r=this.graph.getElements().map(a=>({id:a.id.toString(),label:a.attr("label/text")||`Node-${a.id}`,x:a.position().x,y:a.position().y,isStart:a.attr("label/text")?.startsWith("(S) "),isEnd:a.attr("label/text")?.startsWith("(X) ")})),o=this.graph.getLinks().map(a=>{let l=a.getSourceElement(),c=a.getTargetElement();return{id:a.id.toString(),sourceNodeId:l?l.id.toString():"",targetNodeId:c?c.id.toString():"",weight:a.attr("weight")||1}});return{id:da(),name:"",nodes:r,edges:o,src:this.graphSrc?this.graphSrc.id.toString():null,target:this.graphTarget?this.graphTarget.id.toString():null,isDirected:this.directed,isWeighted:this.weighted}}onSubmit(n="Algo"){let r=this.extractGraphData();if(this.errors=this.graphService.validate(n,this.graph,r),this.errors.length>0){this.errorsService.updateErrors(this.errors,n);return}this.addGraphSubscription=this.graphService.runAlgo(n,r).subscribe({next:i=>{console.log("Received Processed Graph:",i),this.graphResponseDataSerivce.updateGraphData(i,r)},error:i=>{console.error("Error sending graph data:",i),this.errors.push(i.error),this.errorsService.updateErrors(this.errors,n)}})}ngOnDestroy(){this.addGraphSubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(wn(o_),wn(Wg),wn(nu))}}static{this.\u0275cmp=cn({type:e,selectors:[["app-graph-submit"]],viewQuery:function(r,i){if(r&1&&(Et(GU,5),Et(UU,5),Et(ZU,5),Et(WU,5),Et(HU,5),Et(YU,5),Et($U,5),Et(XU,5)),r&2){let o;At(o=bt())&&(i.buttonDijkstra=o.first),At(o=bt())&&(i.buttonKruskal=o.first),At(o=bt())&&(i.buttonEdmondsKarp=o.first),At(o=bt())&&(i.buttonFleury=o.first),At(o=bt())&&(i.buttonHeldKarp=o.first),At(o=bt())&&(i.buttonGreedyMatching=o.first),At(o=bt())&&(i.buttonGreedyColoring=o.first),At(o=bt())&&(i.buttonWelshPowell=o.first)}},inputs:{graph:"graph",graphSrc:"graphSrc",graphTarget:"graphTarget",directed:"directed",weighted:"weighted"},decls:26,vars:0,consts:[["buttonDijkstra",""],["buttonKruskal",""],["buttonEdmondsKarp",""],["buttonFleury",""],["buttonHeldKarp",""],["buttonGreedyMatching",""],["buttonGreedyColoring",""],["buttonWelshPowell",""],[1,"algo-buttons"],[3,"click"]],template:function(r,i){if(r&1){let o=Wa();ct(0,"div")(1,"div",8)(2,"button",9,0),Gt("click",function(){return qt(o),Jt(i.onSubmit("Dijkstra"))}),Ut(4,"Run Dijkstra"),dt(),ct(5,"button",9,1),Gt("click",function(){return qt(o),Jt(i.onSubmit("Kruskal"))}),Ut(7,"Run Kruskal"),dt(),ct(8,"button",9,2),Gt("click",function(){return qt(o),Jt(i.onSubmit("EdmondsKarp"))}),Ut(10,"Run Edmonds-Karp"),dt(),ct(11,"button",9,3),Gt("click",function(){return qt(o),Jt(i.onSubmit("Fleury"))}),Ut(13,"Run Fleury"),dt(),ct(14,"button",9,4),Gt("click",function(){return qt(o),Jt(i.onSubmit("HeldKarp"))}),Ut(16,"Run Held-Karp"),dt(),ct(17,"button",9,5),Gt("click",function(){return qt(o),Jt(i.onSubmit("GreedyMatching"))}),Ut(19,"Run Greedy Matching"),dt(),ct(20,"button",9,6),Gt("click",function(){return qt(o),Jt(i.onSubmit("GreedyColoring"))}),Ut(22,"Run Greedy Coloring"),dt(),ct(23,"button",9,7),Gt("click",function(){return qt(o),Jt(i.onSubmit("WelshPowell"))}),Ut(25,"Run Welsh-Powell"),dt()()()}},styles:["button[_ngcontent-%COMP%]{background-color:#007bff;border:none;color:#fff;padding:.75rem 1.25rem;font-size:1rem;border-radius:.25rem;cursor:pointer;margin:10px;transition:filter .2s}button[_ngcontent-%COMP%]:hover{filter:brightness(85%)}button[_ngcontent-%COMP%]:active{filter:brightness(70%)}"]})}}return e})();var Yg=(()=>{class e{constructor(){this.maxWidth=400,this.offset=10,this.tooltipListeners=new Map}ngAfterViewInit(){setTimeout(()=>{this.initTooltips()})}initTooltips(){this.tooltipElement=document.createElement("div"),this.tooltipElement.className="graph-tooltip",this.tooltipElement.style.display="none",this.tooltipElement.style.position="fixed",this.tooltipElement.style.backgroundColor="#fff",this.tooltipElement.style.color="#333",this.tooltipElement.style.border="1px solid #ccc",this.tooltipElement.style.borderRadius="4px",this.tooltipElement.style.padding="8px 12px",this.tooltipElement.style.fontSize="14px",this.tooltipElement.style.fontFamily="Arial, sans-serif",this.tooltipElement.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.15)",this.tooltipElement.style.zIndex="999999",this.tooltipElement.style.maxWidth=`${this.maxWidth}px`,this.tooltipElement.style.whiteSpace="normal",this.tooltipElement.style.wordWrap="break-word",document.body.appendChild(this.tooltipElement),this.addElementTooltip(this.sampleNode,"Drag this to the paper to make a node."),this.addElementTooltip(this.sampleEdge,"Click this to create an edge."),this.addElementTooltip(this.directionalCheckbox,"Switch between directed and undirected graph."),this.addElementTooltip(this.weightedCheckbox,"Switch between weighted and unweighted graph."),this.addElementTooltip(this.tooltipCheckbox,"Enable/Disable tooltips."),this.addElementTooltip(this.buttonDijkstra,`Finds the shortest path from the start node to all other connected nodes in the graph.
      Requires:
      - Start node
      - Non-negative weights on edges
      - (Optinal) Setting an end node finds the shortest path to that node
      - If end node is set, a path from start to end must exist

      The algorithm automatically discards all unreachable nodes, so the graph does not need to be connected.`),this.addElementTooltip(this.buttonKruskal,`Builds a Minimum Spanning Tree (MST) by adding the lowest-weight edges without forming cycles. If the graph is not connected, it finds the Minimum Spanning Forest (MSF).
      Requires:
      - Undirected graph
      - Weighted graph`),this.addElementTooltip(this.buttonEdmondsKarp,`Solves the maximum flow problem using the Ford-Fulkerson method with BFS.
      Requires:
      - Directed graph
      - Start (source) node
      - Target (sink) node
      - Non-negative edge capacities
      - A path from source to sink must exist.`),this.addElementTooltip(this.buttonFleury,`Finds an Eulerian path or circuit in a graph by carefully removing edges.
      Requires:
      - Undirected graph
      - Unweighted graph
      - Connected graph
      - Graph must be Eulerian or semi-Eulerian (0 or 2 odd-degree nodes)
      - Eulerian condition is checked before running the algorithm`),this.addElementTooltip(this.buttonHeldKarp,`Finds hamiltonian cycle using dynamic programming.
      Requires:
      - Start node
      - Non negative edge weights
      - Connected graph
      - Hamiltonian cycle must exist

      Assumes complete graph, if complete graph is not provided, it uses dijkstra to fill the edge matrix with missing weights.`),this.addElementTooltip(this.buttonGreedyMatching,`Finds a matching in a graph by repeatedly selecting the smallest available edge.
      Requires:
      - Undirected graph
      - Unweighted graph`),this.addElementTooltip(this.buttonGreedyColoring,`Colors nodes of a graph so that no two adjacent nodes have the same color.
      Requires:
      - Undirected graph
      - Unweighted graph`),this.addElementTooltip(this.buttonWelshPowell,`Optimizes node coloring by ordering vertices by degree.
      Requires:
      - Undirected graph
      - Unweighted graph`)}addElementTooltip(n,r){let i=()=>{this.tooltipElement.innerText=r,this.tooltipElement.style.display="block"},o=()=>{this.tooltipElement.style.display="none"},s=a=>{let l=a.clientX+this.offset,c=a.clientY+this.offset,f=this.tooltipElement.offsetWidth,d=this.tooltipElement.offsetHeight,v=l+this.maxWidth>window.innerWidth,I=c+d>window.innerHeight;v&&I?(l=a.clientX-f,c=a.clientY-d):v?l=a.clientX-f:I&&(c=a.clientY-d),this.tooltipElement.style.left=`${l}px`,this.tooltipElement.style.top=`${c}px`};this.tooltipListeners.set(n,{enter:i,leave:o,move:s,tooltip:r}),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",o),n.addEventListener("mousemove",s)}disableAllTooltips(){this.tooltipElement.style.display="none";for(let[n,r]of this.tooltipListeners.entries())n.removeEventListener("mouseenter",r.enter),n.removeEventListener("mouseleave",r.leave),n.removeEventListener("mousemove",r.move)}enableAllTooltips(){this.tooltipElement.style.display="block";for(let[n,r]of this.tooltipListeners.entries())this.addElementTooltip(n,r.tooltip)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["app-tooltip"]],inputs:{sampleNode:"sampleNode",sampleEdge:"sampleEdge",directionalCheckbox:"directionalCheckbox",weightedCheckbox:"weightedCheckbox",tooltipCheckbox:"tooltipCheckbox"},decls:0,vars:0,template:function(r,i){}})}}return e})();function QU(e,t){if(e&1&&(ct(0,"li"),Ut(1),dt()),e&2){let n=t.$implicit;Or(),Hf(n)}}function KU(e,t){if(e&1){let n=Wa();ct(0,"div",1),Gt("click",function(){qt(n);let i=Wf();return Jt(i.closeModal())}),ct(1,"div",2)(2,"h3"),Ut(3),dt(),ct(4,"ul"),Zf(5,QU,2,1,"li",3),dt(),ct(6,"button",4),Gt("click",function(){qt(n);let i=Wf();return Jt(i.closeModal())}),Ut(7,"Click to dismis."),dt()()()}if(e&2){let n=Wf();Or(3),Hf(n.headerMessage),Or(2),Rr("ngForOf",n.errors)}}var a_=(()=>{class e{constructor(n){this.errorsService=n,this.showModal=!1,this.algo="",this.errors=[]}ngOnInit(){this.errorsService.errors$.subscribe(n=>{!n||!n.errors||(typeof n.errors=="string"?this.errors=[n.errors]:this.errors=n.errors,this.algo=n.algo||"",this.showModal=!0)})}get headerMessage(){return this.algo&&this.algo.trim()!==""?`Cannot run ${this.algo} for these reasons:`:"There were errors:"}closeModal(){this.showModal=!1}static{this.\u0275fac=function(r){return new(r||e)(wn(nu))}}static{this.\u0275cmp=cn({type:e,selectors:[["app-error-popup"]],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(r,i){r&1&&Zf(0,KU,8,2,"div",0),r&2&&Rr("ngIf",i.showModal)},dependencies:[lM,uM],styles:["button[_ngcontent-%COMP%]{background-color:#007bff;border:none;color:#fff;padding:.75rem 1.25rem;font-size:1rem;border-radius:.25rem;cursor:pointer;margin:10px;transition:filter .2s}button[_ngcontent-%COMP%]:hover{filter:brightness(85%)}button[_ngcontent-%COMP%]:active{filter:brightness(70%)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:9999}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;max-width:400px;width:90%;box-shadow:0 2px 10px #0000004d}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;text-align:left;margin:1em 0;padding-left:2em}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5em}"]})}}return e})();var tZ=["graphContainer"],nZ=["sampleNode"],rZ=["sampleEdge"],iZ=["directionalCheckbox"],oZ=["weightedCheckbox"],sZ=["tooltipCheckbox"],aZ=["nodeContextMenu"],lZ=["edgeContextMenu"],uZ=["startNodeButton"],cZ=["endNodeButton"],u_=(()=>{class e{constructor(n){this.errorsService=n,this.nodeRadius=80,this.lastClickedElement=null,this.directed=!0,this.weighted=!0,this.showTooltip=!0,this.startNode=null,this.endNode=null,this.defaultWeight=1}ngAfterViewInit(){setTimeout(()=>{this.initGraph(),this.addListeners()}),this.enableDragging(),this.initEdgeCreation(),this.setTooltip()}initGraph(){this.graph=new wi.Graph,this.paper=new wi.Paper({el:this.graphContainer.nativeElement,model:this.graph,width:"100%",height:650,gridSize:10,drawGrid:!0,background:{color:Id},interactive:!0})}addListeners(){[this.nodeContextMenu,this.edgeContextMenu].forEach(n=>{n.nativeElement.addEventListener("contextmenu",r=>{r.preventDefault()})}),this.graphContainer.nativeElement.addEventListener("contextmenu",n=>{n.preventDefault()}),this.paper.on("element:contextmenu",(n,r)=>{r.preventDefault(),this.showContextMenu(r.clientX,r.clientY,"node")}),this.paper.on("link:contextmenu",(n,r)=>{r.preventDefault(),this.showContextMenu(r.clientX,r.clientY,"edge")}),this.paper.on("blank:contextmenu",()=>{this.hideAllContextMenus()}),this.paper.on("blank:pointerdown",()=>{this.hideAllContextMenus();let n=document.activeElement;n&&n.tagName.toLowerCase()==="input"&&n.blur()}),document.addEventListener("click",()=>{this.hideAllContextMenus()}),document.addEventListener("keydown",n=>{n.key==="Delete"&&this.deleteSelected(),n.key==="Escape"&&this.hideAllContextMenus()}),this.paper.on("element:mouseenter",n=>{this.selectionComponent.highlightNode(n.model)}),this.paper.on("element:mouseleave",n=>{this.selectionComponent.unhighlightNode(n.model)}),this.paper.on("link:mouseenter",n=>{this.selectionComponent.highlightLink(n.model)}),this.paper.on("link:mouseleave",n=>{this.selectionComponent.unhighlightLink(n.model)}),this.paper.on("element:pointerdown",(n,r,i,o)=>{let s=this.selectionComponent.selectedElements;if(s.length<=1)return;r.stopPropagation();let a=s.map(f=>{let d=f.position();return{elem:f,x:d.x,y:d.y}}),c=this.graph.getLinks().filter(f=>{let d=f.getSourceElement(),v=f.getTargetElement();return d&&s.includes(d)||v&&s.includes(v)}).map(f=>{let v=(f.vertices()||[]).map(I=>({x:I.x,y:I.y}));return{link:f,vertices:v}});r.data={startX:i,startY:o,initialPositions:a,initialLinkVertices:c}}),this.paper.on("element:pointermove",(n,r,i,o)=>{if(!r.data||!r.data.initialPositions)return;let s=i-r.data.startX,a=o-r.data.startY;r.data.initialPositions.forEach(l=>{let c=l.x+s,f=l.y+a;l.elem.position(c,f)}),r.data.initialLinkVertices.forEach(l=>{let c=l.link,f=l.vertices;if(!f||!f.length)return;let d=f.map(v=>({x:v.x+s,y:v.y+a}));c.vertices(d)})})}setTooltip(){this.tooltipComponent.buttonDijkstra=this.graphSubmitComponent.buttonDijkstra.nativeElement,this.tooltipComponent.buttonKruskal=this.graphSubmitComponent.buttonKruskal.nativeElement,this.tooltipComponent.buttonEdmondsKarp=this.graphSubmitComponent.buttonEdmondsKarp.nativeElement,this.tooltipComponent.buttonFleury=this.graphSubmitComponent.buttonFleury.nativeElement,this.tooltipComponent.buttonHeldKarp=this.graphSubmitComponent.buttonHeldKarp.nativeElement,this.tooltipComponent.buttonGreedyMatching=this.graphSubmitComponent.buttonGreedyMatching.nativeElement,this.tooltipComponent.buttonGreedyColoring=this.graphSubmitComponent.buttonGreedyColoring.nativeElement,this.tooltipComponent.buttonWelshPowell=this.graphSubmitComponent.buttonWelshPowell.nativeElement}showTooltips(){this.showTooltip=!this.showTooltip,this.showTooltip?this.tooltipComponent.enableAllTooltips():this.tooltipComponent.disableAllTooltips()}showContextMenu(n,r,i){this.hideAllContextMenus(),setTimeout(()=>{let o;if(i==="node"){o=this.nodeContextMenu.nativeElement;let s=this.lastClickedElement;if(s){let a=this.startNode===s,l=this.endNode===s;this.startNodeButton.nativeElement.innerText=a?"Remove as Start Node":"Set as Start Node",this.endNodeButton.nativeElement.innerText=l?"Remove as End Node":"Set as End Node"}}else o=this.edgeContextMenu.nativeElement;o.style.left=`${n}px`,o.style.top=`${r}px`,o.style.display="block"})}hideAllContextMenus(){this.nodeContextMenu.nativeElement.style.display="none",this.edgeContextMenu.nativeElement.style.display="none"}promptEdgeWeight(){this.edgeWeightComponent.promptEdgeWeight(this.graphContainer,this.lastClickedElement,this.paper,this.defaultWeight,this.edgesConnectionComponent)}deleteSelected(){if(this.selectionComponent){let n=this.selectionComponent.deleteSelected(this.startNode,this.endNode);this.startNode=n.startNode,this.endNode=n.endNode,this.hideAllContextMenus()}}setStartNode(){let n=this.lastClickedElement;if(!n)return;if(this.startNode&&n===this.startNode){let i=this.startNode.attr("label/data-plain-text");i&&this.startNode.attr("label/text",i),this.startNode=null;return}if(this.endNode&&this.endNode===n){let i=this.endNode.attr("label/data-plain-text");i&&this.endNode.attr("label/text",i),this.endNode=null}if(this.startNode){let i=this.startNode.attr("label/data-plain-text");i&&this.startNode.attr("label/text",i)}this.startNode=n;let r=n.attr("label/text");n.attr("label/data-plain-text",r),n.attr("label/text",`(S) ${r}`),this.hideAllContextMenus()}setEndNode(){let n=this.lastClickedElement;if(!n)return;if(this.endNode&&n===this.endNode){let i=this.endNode.attr("label/data-plain-text");i&&this.endNode.attr("label/text",i),this.endNode=null;return}if(this.startNode&&this.startNode===n){let i=this.startNode.attr("label/data-plain-text");i&&this.startNode.attr("label/text",i),this.startNode=null}if(this.endNode){let i=this.endNode.attr("label/data-plain-text");i&&this.endNode.attr("label/text",i)}this.endNode=n;let r=n.attr("label/text");n.attr("label/data-plain-text",r),n.attr("label/text",`(X) ${r}`),this.hideAllContextMenus()}toggleDirectional(){if(this.directed=!this.directed,console.log(`Graph is now ${this.directed?"Directional":"Non-Directional"}`),!this.directed){let n=this.graph.getLinks(),r=new Set;n.forEach(i=>{if(r.has(i.id.toString()))return;let o=i.getSourceElement(),s=i.getTargetElement();if(o&&s){let a=this.graph.getLinks().find(l=>l.id!==i.id&&!r.has(l.id.toString())&&l.getSourceElement()===s&&l.getTargetElement()===o);a&&(i.vertices([]),this.graph.removeCells([a]),r.add(i.id.toString()),r.add(a.id.toString()))}})}setTimeout(()=>{this.graph.getLinks().forEach(n=>{this.edgesConnectionComponent.updateLinkStyle(n)})})}toggleWeighted(){this.weighted=!this.weighted,console.log(`Graph is now ${this.weighted?"Weighted":"Unweighted"}`),setTimeout(()=>{this.graph.getLinks().forEach(n=>{this.edgesConnectionComponent.updateLinkStyle(n)})})}renameNode(){let n=this.lastClickedElement;n&&this.renameNodesComponent.inlineEditNodeLabel(n)}initEdgeCreation(){this.edgesConnectionComponent.defaultWeight=this.defaultWeight,this.edgesConnectionComponent.initEdgeCursorIcon(),this.edgesConnectionComponent.enableEdgeCreationButton(this.sampleEdge)}enableDragging(){this.sampleNode.nativeElement.addEventListener("dragstart",r=>{r.dataTransfer?.setData("text/plain","node")})}onDragOver(n){n.preventDefault()}onDrop(n){if(n.preventDefault(),this.graph.getElements().length>=30){let a=`Maximum node limit reached. Cannot add more than ${30} nodes.`;this.errorsService.updateErrors(a);return}let r=this.graphContainer.nativeElement.getBoundingClientRect(),i=n.clientX-r.left,o=n.clientY-r.top,s=this.getUniqueNodeName("Node");this.addNode(i,o,s)}addNode(n,r,i){let o=new ri.standard.Circle({id:da()});o.position(n-this.nodeRadius/2,r-this.nodeRadius/2),o.resize(this.nodeRadius,this.nodeRadius),o.attr({body:{fill:eu,stroke:aa,strokeWidth:2,cursor:"pointer",transition:"0.3s"},label:{text:i,fill:yd,fontSize:14,cursor:"default"}}),o.attr("label/data-plain-text",i),o.addTo(this.graph)}getUniqueNodeName(n){let r=n,i=1;for(;this.graph.getElements().some(o=>o.attr("label/text")===r);)r=`${n} (${i++})`;return r}static{this.\u0275fac=function(r){return new(r||e)(wn(nu))}}static{this.\u0275cmp=cn({type:e,selectors:[["app-graph-editor"]],viewQuery:function(r,i){if(r&1&&(Et(tZ,5),Et(nZ,5),Et(rZ,5),Et(iZ,5),Et(oZ,5),Et(sZ,5),Et(aZ,5),Et(lZ,5),Et(uZ,5),Et(cZ,5),Et(zg,5),Et(Gg,5),Et(Ug,5),Et(Zg,5),Et(Hg,5),Et(Yg,5)),r&2){let o;At(o=bt())&&(i.graphContainer=o.first),At(o=bt())&&(i.sampleNode=o.first),At(o=bt())&&(i.sampleEdge=o.first),At(o=bt())&&(i.directionalCheckbox=o.first),At(o=bt())&&(i.weightedCheckbox=o.first),At(o=bt())&&(i.tooltipCheckbox=o.first),At(o=bt())&&(i.nodeContextMenu=o.first),At(o=bt())&&(i.edgeContextMenu=o.first),At(o=bt())&&(i.startNodeButton=o.first),At(o=bt())&&(i.endNodeButton=o.first),At(o=bt())&&(i.selectionComponent=o.first),At(o=bt())&&(i.edgeWeightComponent=o.first),At(o=bt())&&(i.edgesConnectionComponent=o.first),At(o=bt())&&(i.renameNodesComponent=o.first),At(o=bt())&&(i.graphSubmitComponent=o.first),At(o=bt())&&(i.tooltipComponent=o.first)}},decls:52,vars:22,consts:[["sampleNode",""],["sampleEdge",""],["directionalCheckbox",""],["weightedCheckbox",""],["tooltipCheckbox",""],["graphContainer",""],["nodeContextMenu",""],["startNodeButton",""],["endNodeButton",""],["edgeContextMenu",""],[1,"main"],[1,"toolbar"],[1,"samples"],["draggable","true",1,"sample-node"],[1,"sample-edge"],[1,"toggles"],[1,"checkbox-container"],["type","checkbox","id","directionalCheckbox",3,"change","checked"],["for","directionalCheckbox"],["type","checkbox","id","weightedCheckbox",3,"change","checked"],["for","weightedCheckbox"],["type","checkbox","id","tooltipCheckbox",3,"change","checked"],["for","tooltipCheckbox"],[1,"graph-container",3,"dragover","drop"],[1,"context-menu"],[3,"click"],[3,"lastClickedElementChange","graph","paper"],[3,"graph","paper","directed","weighted"],[3,"paper","startNode","endNode"],[3,"sampleNode","sampleEdge","directionalCheckbox","weightedCheckbox","tooltipCheckbox"],[3,"graph","graphSrc","graphTarget","directed","weighted"]],template:function(r,i){if(r&1){let o=Wa();ct(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13,0),Ut(5,"Create Node"),dt(),ct(6,"div",14,1),Ut(8,"Create Edge"),dt()(),ct(9,"div",15)(10,"div",16,2)(12,"input",17),Gt("change",function(){return qt(o),Jt(i.toggleDirectional())}),dt(),ct(13,"label",18),Ut(14,"Directed?"),dt()(),ct(15,"div",16,3)(17,"input",19),Gt("change",function(){return qt(o),Jt(i.toggleWeighted())}),dt(),ct(18,"label",20),Ut(19,"Weighted?"),dt()(),ct(20,"div",16,4)(22,"input",21),Gt("change",function(){return qt(o),Jt(i.showTooltips())}),dt(),ct(23,"label",22),Ut(24,"Show tooltips?"),dt()()()(),ct(25,"div",23,5),Gt("dragover",function(a){return qt(o),Jt(i.onDragOver(a))})("drop",function(a){return qt(o),Jt(i.onDrop(a))}),dt()(),ct(27,"div",24,6)(29,"button",25,7),Gt("click",function(){return qt(o),Jt(i.setStartNode())}),Ut(31,"Set as Start Node"),dt(),ct(32,"button",25,8),Gt("click",function(){return qt(o),Jt(i.setEndNode())}),Ut(34,"Set as End Node"),dt(),ct(35,"button",25),Gt("click",function(){return qt(o),Jt(i.renameNode())}),Ut(36,"Rename Node"),dt(),ct(37,"button",25),Gt("click",function(){return qt(o),Jt(i.deleteSelected())}),Ut(38,"Delete Node(s)"),dt()(),ct(39,"div",24,9)(41,"button",25),Gt("click",function(){return qt(o),Jt(i.promptEdgeWeight())}),Ut(42,"Add/Update Weight"),dt(),ct(43,"button",25),Gt("click",function(){return qt(o),Jt(i.deleteSelected())}),Ut(44,"Delete Edge(s)"),dt()(),ct(45,"app-graph-selection",26),Gt("lastClickedElementChange",function(a){return qt(o),Jt(i.lastClickedElement=a)}),dt(),Vi(46,"app-edge-weight")(47,"app-edges-connection",27)(48,"app-rename-nodes",28)(49,"app-tooltip",29)(50,"app-graph-submit",30)(51,"app-error-popup")}if(r&2){let o=Ha(4),s=Ha(7),a=Ha(11),l=Ha(16),c=Ha(21);Or(12),Rr("checked",i.directed),Or(5),Rr("checked",i.weighted),Or(5),Rr("checked",i.showTooltip),Or(23),Rr("graph",i.graph)("paper",i.paper),Or(2),Rr("graph",i.graph)("paper",i.paper)("directed",i.directed)("weighted",i.weighted),Or(),Rr("paper",i.paper)("startNode",i.startNode)("endNode",i.endNode),Or(),Rr("sampleNode",o)("sampleEdge",s)("directionalCheckbox",a)("weightedCheckbox",l)("tooltipCheckbox",c),Or(),Rr("graph",i.graph)("graphSrc",i.startNode)("graphTarget",i.endNode)("directed",i.directed)("weighted",i.weighted)}},dependencies:[Hg,zg,Gg,Ug,Zg,Yg,a_],styles:[".main[_ngcontent-%COMP%]{width:95%;margin:0 auto;position:relative;z-index:1}.graph-container[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;margin:0 auto;position:relative;z-index:1}.toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:5px;margin-bottom:10px}.toggles[_ngcontent-%COMP%], .samples[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.sample-node[_ngcontent-%COMP%]{width:80px;height:80px;background:#3498db;color:#fff;text-align:center;cursor:grab;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:.3s}.sample-node[_ngcontent-%COMP%]:hover{background:#2980b9}.sample-edge[_ngcontent-%COMP%]{width:100px;height:40px;background:#3498db;color:#fff;text-align:center;cursor:pointer;border-radius:5px;display:flex;align-items:center;justify-content:center;transition:.3s}button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}.context-menu[_ngcontent-%COMP%]{position:fixed;display:none;background:#fff;border:1px solid #ccc;padding:5px;box-shadow:2px 2px 5px #0003;z-index:10}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;border:none;background:none;cursor:pointer;padding:5px;text-align:left}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#eee}.checkbox-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer;font-size:1.1rem;margin:.5rem}.checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5);margin-right:.5rem}.checkbox-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333}"]})}}return e})();var fZ=["resultContainer"],hZ=["resultTextDiv"],pZ=["stepsContainer"],gZ=["resultText"],c_=(()=>{class e{constructor(n){this.graphResponseDataService=n}ngOnInit(){this.graphResponseDataService.graphData$.subscribe(n=>{if(n){let{response:r,graphData:i}=n;console.log("Graph data arrived in Reconstructor:",n),this.buildStepPapers(r.steps,i,r.graphResult.algoType),this.reconstructGraph(r.graphResult,i,r.steps[r.steps.length-1])}})}buildStepPapers(n,r,i){this.stepsContainer.nativeElement.innerHTML="",n.forEach((o,s)=>{let a=document.createElement("div");a.classList.add("step-wrapper");let l=document.createElement("div");l.classList.add("step-header");let c=document.createElement("h3"),f=this.formatAlgoType(i);if(c.innerText=`${f}${r.eulerType?" "+r.eulerType:""} Step ${s+1}`,l.appendChild(c),i!=vo&&i!=Yi){let D=document.createElement("div");D.classList.add("step-legend");let M=[{label:"Unprocessed\xA0Node",color:eu},{label:"Unprocessed\xA0Edge",color:os},{label:"Processing",color:K1},{label:"Processed",color:e_},{label:"Discarded",color:t_},{label:"Result",color:n_}];D.style.display="flex",D.style.flexWrap="wrap",D.style.fontSize="0.9rem",D.style.gap="0.5rem",D.style.marginLeft="2.5%",D.style.marginBottom="0.15%",M.forEach(T=>{let B=document.createElement("div");B.style.display="flex",B.style.alignItems="center",B.style.margin="0";let G=document.createElement("span");G.style.display="inline-block",G.style.width="0.9rem",G.style.height="0.9rem",G.style.marginRight="2px",G.style.border="1px solid #666",G.style.backgroundColor=T.color;let H=document.createElement("span");H.innerText=T.label,B.appendChild(G),B.appendChild(H),D.appendChild(B)}),l.appendChild(D)}if(a.appendChild(l),this.stepsContainer.nativeElement.appendChild(a),o.currentTotalWeight!=null){let D=`Current Total Weight: ${o.currentTotalWeight}`;i==ss?D=`Current Total Flow: ${o.currentTotalWeight}`:i==Yi||i==vo?D=`Current Used Colors: ${o.currentTotalWeight}`:i==ca&&(D=`Current Pairs: ${o.currentTotalWeight}`);let M=document.createElement("div");M.innerText=D,M.style.fontWeight="bold",M.style.marginBottom="5px",a.appendChild(M)}let d=document.createElement("div");d.style.width="100%",d.style.height=`${650}px`,d.style.marginBottom="20px",d.style.margin="0 auto",d.style.border="1px solid #ccc",a.appendChild(d);let v=new wi.Graph,I=new wi.Paper({el:d,model:v,width:"95%",height:650,gridSize:10,drawGrid:!0,background:{color:Id}}),w=new Map;r.nodes.forEach(D=>{let M=new ri.standard.Circle;M.position(D.x,D.y),M.resize(80,80);let T=o.nodeColors[D.id]||eu;M.attr({body:{fill:T,stroke:aa,strokeWidth:2},label:{text:D.label,fill:yd,fontSize:14}}),M.addTo(v),w.set(D.id,M)}),r.edges.forEach(D=>{let M=o.edgeColors[D.id]||os,T=w.get(D.sourceNodeId),B=w.get(D.targetNodeId);if(!T||!B)return;let G=D.weight,H=G.toString();o.edgeCurrentWeights&&o.edgeCurrentWeights[D.id]!=null&&(H=`${o.edgeCurrentWeights[D.id]}/${G}`);let ne=new ri.standard.Link;ne.source(T),ne.target(B),r.isWeighted&&ne.labels([{position:.5,attrs:{text:{text:H,fill:tu}}}]),ne.attr({line:{stroke:M,strokeWidth:3,targetMarker:r.isDirected?{type:"path"}:{type:"none"}}}),ne.addTo(v)}),fa.offSetOppositeLinks(v)})}reconstructGraph(n,r,i){this.resultTextDiv.nativeElement.innerHTML="",this.resultContainer.nativeElement.innerHTML="";let o=this.formatAlgoType(n.algoType);if(this.resultText.nativeElement.innerText=`${o}${r.eulerType?" "+r.eulerType:""} Result`,n.totalWeight!=null){let f=`Total Weight: ${n.totalWeight}`;n.algoType==ss?f=`Total Flow: ${n.totalWeight}`:n.algoType==Yi||n.algoType==vo?f=`Used Colors: ${n.totalWeight}`:n.algoType==ca&&(f=`Total Pairs: ${n.totalWeight}`);let d=document.createElement("div");d.innerText=f,d.style.fontWeight="bold",d.style.marginBottom="10px",this.resultTextDiv.nativeElement.appendChild(d)}let s=document.createElement("div");s.style.width="100%",s.style.height=`${650}px`,this.resultContainer.nativeElement.appendChild(s);let a=new wi.Graph,l=new wi.Paper({el:s,model:a,width:"100%",height:650,gridSize:10,drawGrid:!0,background:{color:Id}}),c=new Map;n.nodeIds.forEach(f=>{let d=r.nodes.find(I=>I.id===f);if(!d)return;let v=new ri.standard.Circle;if(v.position(d.x,d.y),v.resize(80,80),v.attr({body:{fill:n.algoType==Yi?i.nodeColors[f]:eu,stroke:aa,strokeWidth:2},label:{text:d.label,fill:yd,fontSize:14}}),v.addTo(a),c.set(d.id,v),n.algoType===ua){let I=n.nodeIds.indexOf(f),w=null;if(I>0?w=I:I===0&&(w=n.nodeIds.length-1),w!==null){let D=new ri.standard.TextBlock;D.position(d.x+25,d.y-30),D.resize(40,20),D.attr({label:{text:w.toString(),fill:tu,fontSize:14}}),D.addTo(a)}}}),n.edgeIds.forEach(f=>{let d=r.edges.find(T=>T.id===f);if(!d)return;let v=c.get(d.sourceNodeId),I=c.get(d.targetNodeId);if(!v||!I)return;let w=d.weight,D=w.toString();n.edgeResultWeights&&n.edgeResultWeights[d.id]!=null&&(D=`${n.edgeResultWeights[d.id]}/${w}`),n.algoType===la&&(D=(n.edgeIds.indexOf(f)+1).toString());let M=new ri.standard.Link;M.source(v),M.target(I),(r.isWeighted||n.algoType===la)&&M.labels([{position:.5,attrs:{text:{text:D,fill:tu}}}]),M.attr({line:{stroke:n.algoType==vo?i.edgeColors[f]:os,strokeWidth:3,targetMarker:r.isDirected?{type:"path"}:{type:"none"}}}),M.addTo(a)}),fa.offSetOppositeLinks(a)}formatAlgoType(n){return[ss,ua,Yi].includes(n)?n.replace(/([a-z])([A-Z])/g,"$1-$2"):n.replace(/([a-z])([A-Z])/g,"$1 $2")}static{this.\u0275fac=function(r){return new(r||e)(wn(Wg))}}static{this.\u0275cmp=cn({type:e,selectors:[["app-graph-construct-from-backend"]],viewQuery:function(r,i){if(r&1&&(Et(fZ,5),Et(hZ,5),Et(pZ,5),Et(gZ,5)),r&2){let o;At(o=bt())&&(i.resultContainer=o.first),At(o=bt())&&(i.resultTextDiv=o.first),At(o=bt())&&(i.stepsContainer=o.first),At(o=bt())&&(i.resultText=o.first)}},decls:10,vars:0,consts:[["resultText",""],["resultTextDiv",""],["resultContainer",""],["stepsContainer",""],[1,"resultText"],[1,"resultTextDiv"],[1,"resultContainer"],[1,"stepsContainer"]],template:function(r,i){r&1&&(ct(0,"div")(1,"h3",4,0),Ut(3,"Result"),dt(),Vi(4,"div",5,1)(6,"div",6,2),dt(),Vi(8,"div",7,3))},styles:[".resultContainer[_ngcontent-%COMP%]{width:95%;height:650px;margin:0 auto;border:1px solid #ccc}.stepsContainer[_ngcontent-%COMP%]{margin-top:1rem}.step-wrapper[_ngcontent-%COMP%]{width:95%;height:650px;margin:0 auto;padding:1rem;margin-bottom:1rem;border-radius:8px}.step-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}"]})}}return e})();var d_=(()=>{class e{constructor(){this.title="bachelorproject.client"}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){r&1&&Vi(0,"app-graph-editor")(1,"app-graph-construct-from-backend")(2,"router-outlet")},dependencies:[AI,u_,c_],styles:["[_nghost-%COMP%]{max-width:1280px;padding:2rem;text-align:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}table[_ngcontent-%COMP%]{margin:0 auto}"]})}}return e})();var vZ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},que=un(Me({},vZ),{"[class.ng-submitted]":"isSubmitted"});var yZ=new Oe("CallSetDisabledState",{providedIn:"root",factory:()=>f_}),f_="always";var IZ=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({})}}return e})();var h_=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:yZ,useValue:n.callSetDisabledState??f_}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wn({type:e})}static{this.\u0275inj=Zn({imports:[IZ]})}}return e})();var p_=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wn({type:e,bootstrap:[d_]})}static{this.\u0275inj=Zn({imports:[PM,bM,bE,h_]})}}return e})();_M().bootstrapModule(p_).catch(e=>console.error(e));
